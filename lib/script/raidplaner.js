(function(a,b){function c(a){var b=a.length,e=l.type(a);return l.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===e||"function"!==e&&(0===b||"number"==typeof b&&0<b&&b-1 in a)}function d(a){var b=Da[a]={};return l.each(a.match(T)||[],function(a,e){b[e]=!0}),b}function f(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=l.expando+Math.random()}function g(a,e,d){var c;if(d===b&&1===a.nodeType)if(c="data-"+e.replace(gb,"-$1").toLowerCase(),d=a.getAttribute(c),"string"==typeof d){try{d=
"true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:hb.test(d)?JSON.parse(d):d}catch(h){}aa.set(a,e,d)}else d=b;return d}function e(){return!0}function h(){return!1}function k(){try{return F.activeElement}catch(a){}}function m(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function q(a,b,e){if(l.isFunction(b))return l.grep(a,function(a,d){return!!b.call(a,d,a)!==e});if(b.nodeType)return l.grep(a,function(a){return a===b!==e});if("string"==typeof b){if(ib.test(b))return l.filter(b,a,e);b=l.filter(b,
a)}return l.grep(a,function(a){return 0<=ma.call(b,a)!==e})}function p(a,b){return l.nodeName(a,"table")&&l.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function u(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function n(a){var b=jb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function v(a,b){for(var e=a.length,d=0;e>d;d++)S.set(a[d],"globalEval",!b||S.get(b[d],"globalEval"))}
function y(a,b){var e,d,c,h,f,n;if(1===b.nodeType){if(S.hasData(a)&&(e=S.access(a),d=S.set(b,e),n=e.events))for(c in delete d.handle,d.events={},n)for(e=0,d=n[c].length;d>e;e++)l.event.add(b,c,n[c][e]);aa.hasData(a)&&(h=aa.access(a),f=l.extend({},h),aa.set(b,f))}}function t(a,e){var d=a.getElementsByTagName?a.getElementsByTagName(e||"*"):a.querySelectorAll?a.querySelectorAll(e||"*"):[];return e===b||e&&l.nodeName(a,e)?l.merge([a],d):d}function B(a,b){if(b in a)return b;for(var e=b.charAt(0).toUpperCase()+
b.slice(1),d=b,c=Na.length;c--;)if(b=Na[c]+e,b in a)return b;return d}function C(a,b){return a=b||a,"none"===l.css(a,"display")||!l.contains(a.ownerDocument,a)}function z(a,b){for(var e,d,c,h=[],f=0,n=a.length;n>f;f++)d=a[f],d.style&&(h[f]=S.get(d,"olddisplay"),e=d.style.display,b?(h[f]||"none"!==e||(d.style.display=""),""===d.style.display&&C(d)&&(h[f]=S.access(d,"olddisplay",O(d.nodeName)))):h[f]||(c=C(d),(e&&"none"!==e||!c)&&S.set(d,"olddisplay",c?e:l.css(d,"display"))));for(f=0;n>f;f++)d=a[f],
d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?h[f]||"":"none"));return a}function A(a,b,e){return(a=kb.exec(b))?Math.max(0,a[1]-(e||0))+(a[2]||"px"):b}function E(a,b,e,d,c){b=e===(d?"border":"content")?4:"width"===b?1:0;for(var h=0;4>b;b+=2)"margin"===e&&(h+=l.css(a,e+oa[b],!0,c)),d?("content"===e&&(h-=l.css(a,"padding"+oa[b],!0,c)),"margin"!==e&&(h-=l.css(a,"border"+oa[b]+"Width",!0,c))):(h+=l.css(a,"padding"+oa[b],!0,c),"padding"!==e&&(h+=l.css(a,"border"+oa[b]+
"Width",!0,c)));return h}function I(b,e,d){var c=!0,h="width"===e?b.offsetWidth:b.offsetHeight,f=a.getComputedStyle(b,null),n=l.support.boxSizing&&"border-box"===l.css(b,"boxSizing",!1,f);if(0>=h||null==h){if(h=va(b,e,f),(0>h||null==h)&&(h=b.style[e]),Ha.test(h))return h;c=n&&(l.support.boxSizingReliable||h===b.style[e]);h=parseFloat(h)||0}return h+E(b,e,d||(n?"border":"content"),c,f)+"px"}function O(a){var b=F,e=Oa[a];return e||(e=J(a,b),"none"!==e&&e||(sa=(sa||l("<iframe frameborder='0' width='0' height='0'/>").css("cssText",
"display:block !important")).appendTo(b.documentElement),b=(sa[0].contentWindow||sa[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),e=J(a,b),sa.detach()),Oa[a]=e),e}function J(a,b){var e=l(b.createElement(a)).appendTo(b.body),d=l.css(e[0],"display");return e.remove(),d}function V(a,b,e,d){var c;if(l.isArray(b))l.each(b,function(b,c){e||lb.test(a)?d(a,c):V(a+"["+("object"==typeof c?b:"")+"]",c,e,d)});else if(e||"object"!==l.type(b))d(a,b);else for(c in b)V(a+"["+c+"]",
b[c],e,d)}function D(a){return function(b,e){"string"!=typeof b&&(e=b,b="*");var d,c=0,h=b.toLowerCase().match(T)||[];if(l.isFunction(e))for(;d=h[c++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(e)):(a[d]=a[d]||[]).push(e)}}function R(a,e,d,c){function h(g){var k;return f[g]=!0,l.each(a[g]||[],function(a,N){var g=N(e,d,c);return"string"!=typeof g||n||f[g]?n?!(k=g):b:(e.dataTypes.unshift(g),h(g),!1)}),k}var f={},n=a===Ia;return h(e.dataTypes[0])||!f["*"]&&h("*")}function K(a,e){var d,c,
h=l.ajaxSettings.flatOptions||{};for(d in e)e[d]!==b&&((h[d]?a:c||(c={}))[d]=e[d]);return c&&l.extend(!0,a,c),a}function G(){return setTimeout(function(){pa=b}),pa=l.now()}function s(a,b,e){for(var d,c=(ya[b]||[]).concat(ya["*"]),h=0,f=c.length;f>h;h++)if(d=c[h].call(e,b,a))return d}function x(a,b,e){var d,c=0,h=Ea.length,f=l.Deferred().always(function(){delete n.elem}),n=function(){if(d)return!1;for(var b=pa||G(),b=Math.max(0,g.startTime+g.duration-b),e=1-(b/g.duration||0),c=0,h=g.tweens.length;h>
c;c++)g.tweens[c].run(e);return f.notifyWith(a,[g,e,b]),1>e&&h?b:(f.resolveWith(a,[g]),!1)},g=f.promise({elem:a,props:l.extend({},b),opts:l.extend(!0,{specialEasing:{}},e),originalProperties:b,originalOptions:e,startTime:pa||G(),duration:e.duration,tweens:[],createTween:function(b,e){var d=l.Tween(a,g.opts,b,e,g.opts.specialEasing[b]||g.opts.easing);return g.tweens.push(d),d},stop:function(b){var e=0,c=b?g.tweens.length:0;if(d)return this;for(d=!0;c>e;e++)g.tweens[e].run(1);return b?f.resolveWith(a,
[g,b]):f.rejectWith(a,[g,b]),this}});e=g.props;for(w(e,g.opts.specialEasing);h>c;c++)if(b=Ea[c].call(g,a,e,g.opts))return b;return l.map(e,s,g),l.isFunction(g.opts.start)&&g.opts.start.call(a,g),l.fx.timer(l.extend(n,{elem:a,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function w(a,b){var e,d,c,h,f;for(e in a)if(d=l.camelCase(e),c=b[d],h=a[e],l.isArray(h)&&(c=h[1],h=a[e]=h[0]),e!==d&&(a[d]=h,delete a[e]),f=l.cssHooks[d],
f&&"expand"in f)for(e in h=f.expand(h),delete a[d],h)e in a||(a[e]=h[e],b[e]=c);else b[d]=c}function r(a,b,e,d,c){return new r.prototype.init(a,b,e,d,c)}function P(a,b){var e,d={height:a},c=0;for(b=b?1:0;4>c;c+=2-b)e=oa[c],d["margin"+e]=d["padding"+e]=a;return b&&(d.opacity=d.width=a),d}var H,Q,M=typeof b,X=a.location,F=a.document,ga=F.documentElement,da=a.jQuery,Y=a.$,ea={},ba=[],ta=ba.concat,ka=ba.push,ca=ba.slice,ma=ba.indexOf,za=ea.toString,qa=ea.hasOwnProperty,ia="2.0.3".trim,l=function(a,b){return new l.fn.init(a,
b,H)},Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=/\S+/g,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,na=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,W=/^-ms-/,Aa=/-([\da-z])/gi,la=function(a,b){return b.toUpperCase()},ha=function(){F.removeEventListener("DOMContentLoaded",ha,!1);a.removeEventListener("load",ha,!1);l.ready()};l.fn=l.prototype={jquery:"2.0.3",constructor:l,init:function(a,e,d){var c,h;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,
null]:ja.exec(a),!c||!c[1]&&e)return!e||e.jquery?(e||d).find(a):this.constructor(e).find(a);if(c[1]){if(e=e instanceof l?e[0]:e,l.merge(this,l.parseHTML(c[1],e&&e.nodeType?e.ownerDocument||e:F,!0)),na.test(c[1])&&l.isPlainObject(e))for(c in e)l.isFunction(this[c])?this[c](e[c]):this.attr(c,e[c]);return this}return h=F.getElementById(c[2]),h&&h.parentNode&&(this.length=1,this[0]=h),this.context=F,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):l.isFunction(a)?d.ready(a):
(a.selector!==b&&(this.selector=a.selector,this.context=a.context),l.makeArray(a,this))},selector:"",length:0,toArray:function(){return ca.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){a=l.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a,b){return l.each(this,a,b)},ready:function(a){return l.ready.promise().done(a),this},slice:function(){return this.pushStack(ca.apply(this,arguments))},
first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&b>a?[this[a]]:[])},map:function(a){return this.pushStack(l.map(this,function(b,e){return a.call(b,e,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ka,sort:[].sort,splice:[].splice};l.fn.init.prototype=l.fn;l.extend=l.fn.extend=function(){var a,e,d,c,h,f,g=arguments[0]||{},n=1,k=arguments.length,m=!1;"boolean"==typeof g&&(m=
g,g=arguments[1]||{},n=2);"object"==typeof g||l.isFunction(g)||(g={});for(k===n&&(g=this,--n);k>n;n++)if(null!=(a=arguments[n]))for(e in a)d=g[e],c=a[e],g!==c&&(m&&c&&(l.isPlainObject(c)||(h=l.isArray(c)))?(h?(h=!1,f=d&&l.isArray(d)?d:[]):f=d&&l.isPlainObject(d)?d:{},g[e]=l.extend(m,f,c)):c!==b&&(g[e]=c));return g};l.extend({expando:"jQuery"+("2.0.3"+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===l&&(a.$=Y),b&&a.jQuery===l&&(a.jQuery=da),l},isReady:!1,readyWait:1,holdReady:function(a){a?
l.readyWait++:l.ready(!0)},ready:function(a){(!0===a?--l.readyWait:l.isReady)||(l.isReady=!0,!0!==a&&0<--l.readyWait||(Q.resolveWith(F,[l]),l.fn.trigger&&l(F).trigger("ready").off("ready")))},isFunction:function(a){return"function"===l.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ea[za.call(a)]||"object":typeof a},isPlainObject:function(a){if("object"!==
l.type(a)||a.nodeType||l.isWindow(a))return!1;try{if(a.constructor&&!qa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}return!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);},parseHTML:function(a,b,e){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(e=b,b=!1);b=b||F;var d=na.exec(a);e=!e&&[];return d?[b.createElement(d[1])]:(d=l.buildFragment([a],b,e),e&&l(e).remove(),l.merge([],d.childNodes))},parseJSON:JSON.parse,
parseXML:function(a){var e,d;if(!a||"string"!=typeof a)return null;try{d=new DOMParser,e=d.parseFromString(a,"text/xml")}catch(c){e=b}return(!e||e.getElementsByTagName("parsererror").length)&&l.error("Invalid XML: "+a),e},noop:function(){},globalEval:function(a){var b,e=eval;(a=l.trim(a))&&(1===a.indexOf("use strict")?(b=F.createElement("script"),b.text=a,F.head.appendChild(b).parentNode.removeChild(b)):e(a))},camelCase:function(a){return a.replace(W,"ms-").replace(Aa,la)},nodeName:function(a,b){return a.nodeName&&
a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,e){var d,h=0,f=a.length,g=c(a);if(e)if(g)for(;f>h&&(d=b.apply(a[h],e),!1!==d);h++);else for(h in a){if(d=b.apply(a[h],e),!1===d)break}else if(g)for(;f>h&&(d=b.call(a[h],h,a[h]),!1!==d);h++);else for(h in a)if(d=b.call(a[h],h,a[h]),!1===d)break;return a},trim:function(a){return null==a?"":ia.call(a)},makeArray:function(a,b){var e=b||[];return null!=a&&(c(Object(a))?l.merge(e,"string"==typeof a?[a]:a):ka.call(e,a)),e},inArray:function(a,
b,e){return null==b?-1:ma.call(b,a,e)},merge:function(a,e){var d=e.length,c=a.length,h=0;if("number"==typeof d)for(;d>h;h++)a[c++]=e[h];else for(;e[h]!==b;)a[c++]=e[h++];return a.length=c,a},grep:function(a,b,e){var d,c=[],h=0,f=a.length;for(e=!!e;f>h;h++)d=!!b(a[h],h),e!==d&&c.push(a[h]);return c},map:function(a,b,e){var d,h=0,f=a.length,g=[];if(c(a))for(;f>h;h++)d=b(a[h],h,e),null!=d&&(g[g.length]=d);else for(h in a)d=b(a[h],h,e),null!=d&&(g[g.length]=d);return ta.apply([],g)},guid:1,proxy:function(a,
e){var d,c,h;return"string"==typeof e&&(d=a[e],e=a,a=d),l.isFunction(a)?(c=ca.call(arguments,2),h=function(){return a.apply(e||this,c.concat(ca.call(arguments)))},h.guid=a.guid=a.guid||l.guid++,h):b},access:function(a,e,d,c,h,f,g){var n=0,k=a.length,m=null==d;if("object"===l.type(d))for(n in h=!0,d)l.access(a,e,n,d[n],!0,f,g);else if(c!==b&&(h=!0,l.isFunction(c)||(g=!0),m&&(g?(e.call(a,c),e=null):(m=e,e=function(a,b,e){return m.call(l(a),e)})),e))for(;k>n;n++)e(a[n],d,g?c:c.call(a[n],n,e(a[n],d)));
return h?a:m?e.call(a):k?e(a[0],d):f},now:Date.now,swap:function(a,b,e,d){var c,h={};for(c in b)h[c]=a.style[c],a.style[c]=b[c];e=e.apply(a,d||[]);for(c in b)a.style[c]=h[c];return e}});l.ready.promise=function(b){return Q||(Q=l.Deferred(),"complete"===F.readyState?setTimeout(l.ready):(F.addEventListener("DOMContentLoaded",ha,!1),a.addEventListener("load",ha,!1))),Q.promise(b)};l.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ea["[object "+b+"]"]=b.toLowerCase()});
H=l(F);(function(a,b){function e(a,b,d,c){var h,f,g,n,N;if((b?b.ownerDocument||b:K)!==F&&M(b),b=b||F,d=d||[],!a||"string"!=typeof a)return d;if(1!==(n=b.nodeType)&&9!==n)return[];if(J&&!c){if(h=ya.exec(a))if(g=h[1])if(9===n){if(f=b.getElementById(g),!f||!f.parentNode)return d;if(f.id===g)return d.push(f),d}else{if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&V(b,f)&&f.id===g)return d.push(f),d}else{if(h[2])return ca.apply(d,b.getElementsByTagName(a)),d;if((g=h[3])&&s.getElementsByClassName&&
b.getElementsByClassName)return ca.apply(d,b.getElementsByClassName(g)),d}if(s.qsa&&(!I||!I.test(a))){if(f=h=D,g=b,N=9===n&&a,1===n&&"object"!==b.nodeName.toLowerCase()){n=t(a);(h=b.getAttribute("id"))?f=h.replace(Ba,"\\$&"):b.setAttribute("id",f);f="[id='"+f+"'] ";for(g=n.length;g--;)n[g]=f+p(n[g]);g=oa.test(a)&&b.parentNode||b;N=n.join(",")}if(N)try{return ca.apply(d,g.querySelectorAll(N)),d}catch(k){}finally{h||b.removeAttribute("id")}}}var m;a:{a=a.replace(ka,"$1");var v,l;f=t(a);if(!c&&1===f.length){if(m=
f[0]=f[0].slice(0),2<m.length&&"ID"===(v=m[0]).type&&s.getById&&9===b.nodeType&&J&&r.relative[m[1].type]){if(b=(r.find.ID(v.matches[0].replace(wa,xa),b)||[])[0],!b){m=d;break a}a=a.slice(m.shift().value.length)}for(n=pa.needsContext.test(a)?0:m.length;n--&&(v=m[n],!r.relative[h=v.type]);)if((l=r.find[h])&&(c=l(v.matches[0].replace(wa,xa),oa.test(m[0].type)&&b.parentNode||b))){if(m.splice(n,1),a=c.length&&p(m),!a){m=(ca.apply(d,c),d);break a}break}}m=(x(a,f)(c,b,!J,d,oa.test(a)),d)}return m}function d(){function a(e,
d){return b.push(e+=" ")>r.cacheLength&&delete a[b.shift()],a[e]=d}var b=[];return a}function c(a){return a[D]=!0,a}function h(a){var b=F.createElement("div");try{return!!a(b)}catch(e){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function f(a,b){for(var e=a.split("|"),d=a.length;d--;)r.attrHandle[e[d]]=b}function g(a,b){var e=b&&a,d=e&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||ba)-(~a.sourceIndex||ba);if(d)return d;if(e)for(;e=e.nextSibling;)if(e===b)return-1;return a?1:-1}function n(a){return function(b){return"input"===
b.nodeName.toLowerCase()&&b.type===a}}function k(a){return function(b){var e=b.nodeName.toLowerCase();return("input"===e||"button"===e)&&b.type===a}}function m(a){return c(function(b){return b=+b,c(function(e,d){for(var c,h=a([],e.length,b),f=h.length;f--;)e[c=h[f]]&&(e[c]=!(d[c]=e[c]))})})}function v(){}function t(a,b){var d,c,h,f,g,n,N;if(g=S[a+" "])return b?0:g.slice(0);g=a;n=[];for(N=r.preFilter;g;){d&&!(c=qa.exec(g))||(c&&(g=g.slice(c[0].length)||g),n.push(h=[]));d=!1;(c=ra.exec(g))&&(d=c.shift(),
h.push({value:d,type:c[0].replace(ka," ")}),g=g.slice(d.length));for(f in r.filter)!(c=pa[f].exec(g))||N[f]&&!(c=N[f](c))||(d=c.shift(),h.push({value:d,type:f,matches:c}),g=g.slice(d.length));if(!d)break}return b?g.length:g?e.error(a):S(a,n).slice(0)}function p(a){for(var b=0,e=a.length,d="";e>b;b++)d+=a[b].value;return d}function y(a,b,e){var d=b.dir,c=e&&"parentNode"===d,h=ga++;return b.first?function(b,e,h){for(;b=b[d];)if(1===b.nodeType||c)return a(b,e,h)}:function(b,e,f){var g,n,N,k=G+" "+h;
if(f)for(;b=b[d];){if((1===b.nodeType||c)&&a(b,e,f))return!0}else for(;b=b[d];)if(1===b.nodeType||c)if(N=b[D]||(b[D]={}),(n=N[d])&&n[0]===k){if(!0===(g=n[1])||g===Q)return!0===g}else if(n=N[d]=[k],n[1]=a(b,e,f)||Q,!0===n[1])return!0}}function q(a){return 1<a.length?function(b,e,d){for(var c=a.length;c--;)if(!a[c](b,e,d))return!1;return!0}:a[0]}function u(a,b,e,d,c){for(var h,f=[],g=0,n=a.length,N=null!=b;n>g;g++)(h=a[g])&&(!e||e(h,d,c))&&(f.push(h),N&&b.push(g));return f}function B(a,b,d,h,f,g){return h&&
!h[D]&&(h=B(h)),f&&!f[D]&&(f=B(f,g)),c(function(c,g,n,N){var k,m,v=[],l=[],t=g.length,p;if(!(p=c)){p=b||"*";for(var U=n.nodeType?[n]:n,y=[],q=0,Ga=U.length;Ga>q;q++)e(p,U[q],y);p=y}p=!a||!c&&b?p:u(p,v,a,n,N);U=d?f||(c?a:t||h)?[]:g:p;if(d&&d(p,U,n,N),h)for(k=u(U,l),h(k,[],n,N),n=k.length;n--;)(m=k[n])&&(U[l[n]]=!(p[l[n]]=m));if(c){if(f||a){if(f){k=[];for(n=U.length;n--;)(m=U[n])&&k.push(p[n]=m);f(null,U=[],k,N)}for(n=U.length;n--;)(m=U[n])&&-1<(k=f?fa.call(c,m):v[n])&&(c[k]=!(g[k]=m))}}else U=u(U===
g?U.splice(t,U.length):U),f?f(null,g,U,N):ca.apply(g,U)})}function C(a){var b,e,d,c=a.length,h=r.relative[a[0].type];e=h||r.relative[" "];for(var f=h?1:0,g=y(function(a){return a===b},e,!0),n=y(function(a){return-1<fa.call(b,a)},e,!0),N=[function(a,e,d){return!h&&(d||e!==A)||((b=e).nodeType?g(a,e,d):n(a,e,d))}];c>f;f++)if(e=r.relative[a[f].type])N=[y(q(N),e)];else{if(e=r.filter[a[f].type].apply(null,a[f].matches),e[D]){for(d=++f;c>d&&!r.relative[a[d].type];d++);return B(1<f&&q(N),1<f&&p(a.slice(0,
f-1).concat({value:" "===a[f-2].type?"*":""})).replace(ka,"$1"),e,d>f&&C(a.slice(f,d)),c>d&&C(a=a.slice(d)),c>d&&p(a))}N.push(e)}return q(N)}function z(a,b){var d=0,h=0<b.length,f=0<a.length,g=function(c,g,n,N,k){var m,v,l=[],t=0,U="0",p=c&&[],y=null!=k,q=A,Ga=c||f&&r.find.TAG("*",k&&g.parentNode||g),B=G+=null==q?1:Math.random()||0.1;for(y&&(A=g!==F&&g,Q=d);null!=(k=Ga[U]);U++){if(f&&k){for(m=0;v=a[m++];)if(v(k,g,n)){N.push(k);break}y&&(G=B,Q=++d)}h&&((k=!v&&k)&&t--,c&&p.push(k))}if(t+=U,h&&U!==t){for(m=
0;v=b[m++];)v(p,l,g,n);if(c){if(0<t)for(;U--;)p[U]||l[U]||(l[U]=ha.call(N));l=u(l)}ca.apply(N,l);y&&!c&&0<l.length&&1<t+b.length&&e.uniqueSort(N)}return y&&(G=B,A=q),p};return h?c(g):g}var P,s,Q,r,H,w,x,A,E,M,F,X,J,I,R,O,V,D="sizzle"+-new Date,K=a.document,G=0,ga=0,Y=d(),S=d(),T=d(),da=!1,ea=function(a,b){return a===b?(da=!0,0):0},W=typeof b,ba=-2147483648,aa={}.hasOwnProperty,Z=[],ha=Z.pop,ia=Z.push,ca=Z.push,ja=Z.slice,fa=Z.indexOf||function(a){for(var b=0,e=this.length;e>b;b++)if(this[b]===a)return b;
return-1},ma="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),na="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ma+")|)|)[\\x20\\t\\r\\n\\f]*\\]",la=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+na.replace(3,8)+")*)|.*)\\)|)",ka=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),qa=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
ra=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,oa=/[\x20\t\r\n\f]*[+~]/,ta=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*)[\\x20\\t\\r\\n\\f]*\\]","g"),ua=RegExp(la),va=RegExp("^"+ma+"$"),pa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+na),PSEUDO:RegExp("^"+la),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},sa=/^[^{]+\{\s*\[native \w/,ya=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,za=/^(?:input|select|textarea|button)$/i,Aa=/^h\d$/i,Ba=/'|\\/g,wa=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)",
"ig"),xa=function(a,b,e){a="0x"+b-65536;return a!==a||e?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(55296|a>>10,56320|1023&a)};try{ca.apply(Z=ja.call(K.childNodes),K.childNodes),Z[K.childNodes.length].nodeType}catch(Ca){ca={apply:Z.length?function(a,b){ia.apply(a,ja.call(b))}:function(a,b){for(var e=a.length,d=0;a[e++]=b[d++];);a.length=e-1}}}w=e.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};s=e.support={};M=e.setDocument=function(a){var e=
a?a.ownerDocument||a:K;a=e.defaultView;return e!==F&&9===e.nodeType&&e.documentElement?(F=e,X=e.documentElement,J=!w(e),a&&a.attachEvent&&a!==a.top&&a.attachEvent("onbeforeunload",function(){M()}),s.attributes=h(function(a){return a.className="i",!a.getAttribute("className")}),s.getElementsByTagName=h(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),s.getElementsByClassName=h(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className=
"i",2===a.getElementsByClassName("i").length}),s.getById=h(function(a){return X.appendChild(a).id=D,!e.getElementsByName||!e.getElementsByName(D).length}),s.getById?(r.find.ID=function(a,b){if(typeof b.getElementById!==W&&J){var e=b.getElementById(a);return e&&e.parentNode?[e]:[]}},r.filter.ID=function(a){var b=a.replace(wa,xa);return function(a){return a.getAttribute("id")===b}}):(delete r.find.ID,r.filter.ID=function(a){var b=a.replace(wa,xa);return function(a){return(a=typeof a.getAttributeNode!==
W&&a.getAttributeNode("id"))&&a.value===b}}),r.find.TAG=s.getElementsByTagName?function(a,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(a):b}:function(a,b){var e,d=[],c=0,h=b.getElementsByTagName(a);if("*"===a){for(;e=h[c++];)1===e.nodeType&&d.push(e);return d}return h},r.find.CLASS=s.getElementsByClassName&&function(a,e){return typeof e.getElementsByClassName!==W&&J?e.getElementsByClassName(a):b},R=[],I=[],(s.qsa=sa.test(e.querySelectorAll))&&(h(function(a){a.innerHTML="<select><option selected=''></option></select>";
a.querySelectorAll("[selected]").length||I.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll(":checked").length||I.push(":checked")}),h(function(a){var b=e.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("t","");a.querySelectorAll("[t^='']").length&&I.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll(":enabled").length||
I.push(":enabled",":disabled");a.querySelectorAll("*,:x");I.push(",.*:")})),(s.matchesSelector=sa.test(O=X.webkitMatchesSelector||X.mozMatchesSelector||X.oMatchesSelector||X.msMatchesSelector))&&h(function(a){s.disconnectedMatch=O.call(a,"div");O.call(a,"[s!='']:x");R.push("!=",la)}),I=I.length&&RegExp(I.join("|")),R=R.length&&RegExp(R.join("|")),V=sa.test(X.contains)||X.compareDocumentPosition?function(a,b){var e=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||
!(e.contains?e.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},ea=X.compareDocumentPosition?function(a,b){if(a===b)return da=!0,0;var d=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return d?1&d||!s.sortDetached&&b.compareDocumentPosition(a)===d?a===e||V(K,a)?-1:b===e||V(K,b)?1:E?fa.call(E,a)-fa.call(E,b):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var d,
c=0;d=a.parentNode;var h=b.parentNode,f=[a],n=[b];if(a===b)return da=!0,0;if(!d||!h)return a===e?-1:b===e?1:d?-1:h?1:E?fa.call(E,a)-fa.call(E,b):0;if(d===h)return g(a,b);for(d=a;d=d.parentNode;)f.unshift(d);for(d=b;d=d.parentNode;)n.unshift(d);for(;f[c]===n[c];)c++;return c?g(f[c],n[c]):f[c]===K?-1:n[c]===K?1:0},e):F};e.matches=function(a,b){return e(a,null,null,b)};e.matchesSelector=function(a,b){if((a.ownerDocument||a)!==F&&M(a),b=b.replace(ta,"='$1']"),s.matchesSelector&&J&&!(R&&R.test(b)||I&&
I.test(b)))try{var d=O.call(a,b);if(d||s.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(c){}return 0<e(b,F,null,[a]).length};e.contains=function(a,b){return(a.ownerDocument||a)!==F&&M(a),V(a,b)};e.attr=function(a,e){(a.ownerDocument||a)!==F&&M(a);var d=r.attrHandle[e.toLowerCase()],d=d&&aa.call(r.attrHandle,e.toLowerCase())?d(a,e,!J):b;return d===b?s.attributes||!J?a.getAttribute(e):(d=a.getAttributeNode(e))&&d.specified?d.value:null:d};e.error=function(a){throw Error("Syntax error, unrecognized expression: "+
a);};e.uniqueSort=function(a){var b,e=[],d=0,c=0;if(da=!s.detectDuplicates,E=!s.sortStable&&a.slice(0),a.sort(ea),da){for(;b=a[c++];)b===a[c]&&(d=e.push(c));for(;d--;)a.splice(e[d],1)}return a};H=e.getText=function(a){var b,e="",d=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)e+=H(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[d];d++)e+=H(b);return e};r=e.selectors={cacheLength:50,createPseudo:c,match:pa,
attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(wa,xa),a[3]=(a[4]||a[5]||"").replace(wa,xa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||e.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&e.error(a[0]),
a},PSEUDO:function(a){var e,d=!a[5]&&a[2];return pa.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&ua.test(d)&&(e=t(d,!0))&&(e=d.indexOf(")",d.length-e)-d.length)&&(a[0]=a[0].slice(0,e),a[2]=d.slice(0,e)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(wa,xa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Y[a+" "];return b||(b=RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))&&Y(a,function(a){return b.test("string"==
typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(c){c=e.attr(c,a);return null==c?"!="===b:b?(c+="","="===b?c===d:"!="===b?c!==d:"^="===b?d&&0===c.indexOf(d):"*="===b?d&&-1<c.indexOf(d):"$="===b?d&&c.slice(-d.length)===d:"~="===b?-1<(" "+c+" ").indexOf(d):"|="===b?c===d||c.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,e,d,c){var h="nth"!==a.slice(0,3),f="last"!==a.slice(-4),g="of-type"===b;return 1===d&&0===c?
function(a){return!!a.parentNode}:function(b,e,n){var N,k,m,v,l;e=h!==f?"nextSibling":"previousSibling";var t=b.parentNode,U=g&&b.nodeName.toLowerCase();n=!n&&!g;if(t){if(h){for(;e;){for(k=b;k=k[e];)if(g?k.nodeName.toLowerCase()===U:1===k.nodeType)return!1;l=e="only"===a&&!l&&"nextSibling"}return!0}if(l=[f?t.firstChild:t.lastChild],f&&n)for(n=t[D]||(t[D]={}),N=n[a]||[],v=N[0]===G&&N[1],m=N[0]===G&&N[2],k=v&&t.childNodes[v];k=++v&&k&&k[e]||(m=v=0)||l.pop();){if(1===k.nodeType&&++m&&k===b){n[a]=[G,
v,m];break}}else if(n&&(N=(b[D]||(b[D]={}))[a])&&N[0]===G)m=N[1];else for(;(k=++v&&k&&k[e]||(m=v=0)||l.pop())&&((g?k.nodeName.toLowerCase()!==U:1!==k.nodeType)||!++m||(n&&((k[D]||(k[D]={}))[a]=[G,m]),k!==b)););return m-=c,m===d||0===m%d&&0<=m/d}}},PSEUDO:function(a,b){var d,h=r.pseudos[a]||r.setFilters[a.toLowerCase()]||e.error("unsupported pseudo: "+a);return h[D]?h(b):1<h.length?(d=[a,a,"",b],r.setFilters.hasOwnProperty(a.toLowerCase())?c(function(a,e){for(var d,c=h(a,b),f=c.length;f--;)d=fa.call(a,
c[f]),a[d]=!(e[d]=c[f])}):function(a){return h(a,0,d)}):h}},pseudos:{not:c(function(a){var b=[],e=[],d=x(a.replace(ka,"$1"));return d[D]?c(function(a,b,e,c){var h;e=d(a,null,c,[]);for(c=a.length;c--;)(h=e[c])&&(a[c]=!(b[c]=h))}):function(a,c,h){return b[0]=a,d(b,null,h,e),!e.pop()}}),has:c(function(a){return function(b){return 0<e(a,b).length}}),contains:c(function(a){return function(b){return-1<(b.textContent||b.innerText||H(b)).indexOf(a)}}),lang:c(function(a){return va.test(a||"")||e.error("unsupported lang: "+
a),a=a.replace(wa,xa).toLowerCase(),function(b){var e;do if(e=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return e=e.toLowerCase(),e===a||0===e.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var e=a.location&&a.location.hash;return e&&e.slice(1)===b.id},root:function(a){return a===X},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===
a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if("@"<a.nodeName||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!r.pseudos.empty(a)},header:function(a){return Aa.test(a.nodeName)},input:function(a){return za.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();
return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:m(function(){return[0]}),last:m(function(a,b){return[b-1]}),eq:m(function(a,b,e){return[0>e?e+b:e]}),even:m(function(a,b){for(var e=0;b>e;e+=2)a.push(e);return a}),odd:m(function(a,b){for(var e=1;b>e;e+=2)a.push(e);return a}),lt:m(function(a,b,e){for(b=0>e?e+b:e;0<=--b;)a.push(b);return a}),gt:m(function(a,
b,e){for(e=0>e?e+b:e;b>++e;)a.push(e);return a})}};r.pseudos.nth=r.pseudos.eq;for(P in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[P]=n(P);for(P in{submit:!0,reset:!0})r.pseudos[P]=k(P);v.prototype=r.filters=r.pseudos;r.setFilters=new v;x=e.compile=function(a,b){var e,d=[],c=[],h=T[a+" "];if(!h){b||(b=t(a));for(e=b.length;e--;)h=C(b[e]),h[D]?d.push(h):c.push(h);h=T(a,z(c,d))}return h};s.sortStable=D.split("").sort(ea).join("")===D;s.detectDuplicates=da;M();s.sortDetached=h(function(a){return 1&
a.compareDocumentPosition(F.createElement("div"))});h(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,e,d){return d?b:a.getAttribute(e,"type"===e.toLowerCase()?1:2)});s.attributes&&h(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,e,d){return d||"input"!==a.nodeName.toLowerCase()?b:a.defaultValue});h(function(a){return null==
a.getAttribute("disabled")})||f("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,e,d){var c;return d?b:(c=a.getAttributeNode(e))&&c.specified?c.value:!0===a[e]?e.toLowerCase():null});l.find=e;l.expr=e.selectors;l.expr[":"]=l.expr.pseudos;l.unique=e.uniqueSort;l.text=e.getText;l.isXMLDoc=e.isXML;l.contains=e.contains})(a);var Da={};l.Callbacks=function(a){a="string"==typeof a?Da[a]||d(a):l.extend({},a);var e,c,h,
f,g,n,k=[],m=!a.once&&[],v=function(b){e=a.memory&&b;c=!0;n=f||0;f=0;g=k.length;for(h=!0;k&&g>n;n++)if(!1===k[n].apply(b[0],b[1])&&a.stopOnFalse){e=!1;break}h=!1;k&&(m?m.length&&v(m.shift()):e?k=[]:t.disable())},t={add:function(){if(k){var b=k.length;(function mb(b){l.each(b,function(b,e){var d=l.type(e);"function"===d?a.unique&&t.has(e)||k.push(e):e&&e.length&&"string"!==d&&mb(e)})})(arguments);h?g=k.length:e&&(f=b,v(e))}return this},remove:function(){return k&&l.each(arguments,function(a,b){for(var e;-1<
(e=l.inArray(b,k,e));)k.splice(e,1),h&&(g>=e&&g--,n>=e&&n--)}),this},has:function(a){return a?-1<l.inArray(a,k):!(!k||!k.length)},empty:function(){return k=[],g=0,this},disable:function(){return k=m=e=b,this},disabled:function(){return!k},lock:function(){return m=b,e||t.disable(),this},locked:function(){return!m},fireWith:function(a,b){return!k||c&&!m||(b=b||[],b=[a,b.slice?b.slice():b],h?m.push(b):v(b)),this},fire:function(){return t.fireWith(this,arguments),this},fired:function(){return!!c}};return t};
l.extend({Deferred:function(a){var b=[["resolve","done",l.Callbacks("once memory"),"resolved"],["reject","fail",l.Callbacks("once memory"),"rejected"],["notify","progress",l.Callbacks("memory")]],e="pending",d={state:function(){return e},always:function(){return c.done(arguments).fail(arguments),this},then:function(){var a=arguments;return l.Deferred(function(e){l.each(b,function(b,h){var f=h[0],g=l.isFunction(a[b])&&a[b];c[h[1]](function(){var a=g&&g.apply(this,arguments);a&&l.isFunction(a.promise)?
a.promise().done(e.resolve).fail(e.reject).progress(e.notify):e[f+"With"](this===d?e.promise():this,g?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?l.extend(a,d):d}},c={};return d.pipe=d.then,l.each(b,function(a,h){var f=h[2],g=h[3];d[h[1]]=f.add;g&&f.add(function(){e=g},b[1^a][2].disable,b[2][2].lock);c[h[0]]=function(){return c[h[0]+"With"](this===c?d:this,arguments),this};c[h[0]+"With"]=f.fireWith}),d.promise(c),a&&a.call(c,c),c},when:function(a){var b=0,e=ca.call(arguments),
d=e.length,c=1!==d||a&&l.isFunction(a.promise)?d:0,h=1===c?a:l.Deferred(),f=function(a,b,e){return function(d){b[a]=this;e[a]=1<arguments.length?ca.call(arguments):d;e===g?h.notifyWith(b,e):--c||h.resolveWith(b,e)}},g,n,k;if(1<d)for(g=Array(d),n=Array(d),k=Array(d);d>b;b++)e[b]&&l.isFunction(e[b].promise)?e[b].promise().done(f(b,k,e)).fail(h.reject).progress(f(b,n,g)):--c;return c||h.resolveWith(k,e),h.promise()}});l.support=function(b){var e=F.createElement("input"),d=F.createDocumentFragment(),
c=F.createElement("div"),h=F.createElement("select"),f=h.appendChild(F.createElement("option"));return e.type?(e.type="checkbox",b.checkOn=""!==e.value,b.optSelected=f.selected,b.reliableMarginRight=!0,b.boxSizingReliable=!0,b.pixelPosition=!1,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,h.disabled=!0,b.optDisabled=!f.disabled,e=F.createElement("input"),e.value="t",e.type="radio",b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),d.appendChild(e),b.checkClone=
d.cloneNode(!0).cloneNode(!0).lastChild.checked,b.focusinBubbles="onfocusin"in a,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===c.style.backgroundClip,l(function(){var e,d,h=F.getElementsByTagName("body")[0];h&&(e=F.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",h.appendChild(e).appendChild(c),c.innerHTML="",c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",
l.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===c.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(c,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width,d=c.appendChild(F.createElement("div")),d.style.cssText=c.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",d.style.marginRight=d.style.width="0",c.style.width="1px",b.reliableMarginRight=
!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),h.removeChild(e))}),b):b}({});var aa,S,hb=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,gb=/([A-Z])/g;f.uid=1;f.accepts=function(a){return a.nodeType?1===a.nodeType||9===a.nodeType:!0};f.prototype={key:function(a){if(!f.accepts(a))return 0;var b={},e=a[this.expando];if(!e){e=f.uid++;try{b[this.expando]={value:e},Object.defineProperties(a,b)}catch(d){b[this.expando]=e,l.extend(a,b)}}return this.cache[e]||(this.cache[e]={}),e},set:function(a,b,e){var d;a=
this.key(a);var c=this.cache[a];if("string"==typeof b)c[b]=e;else if(l.isEmptyObject(c))l.extend(this.cache[a],b);else for(d in b)c[d]=b[d];return c},get:function(a,e){var d=this.cache[this.key(a)];return e===b?d:d[e]},access:function(a,e,d){var c;return e===b||e&&"string"==typeof e&&d===b?(c=this.get(a,e),c!==b?c:this.get(a,l.camelCase(e))):(this.set(a,e,d),d!==b?d:e)},remove:function(a,e){var d,c,h=this.key(a),f=this.cache[h];if(e===b)this.cache[h]={};else for(l.isArray(e)?c=e.concat(e.map(l.camelCase)):
(d=l.camelCase(e),e in f?c=[e,d]:(c=d,c=c in f?[c]:c.match(T)||[])),d=c.length;d--;)delete f[c[d]]},hasData:function(a){return!l.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};aa=new f;S=new f;l.extend({acceptData:f.accepts,hasData:function(a){return aa.hasData(a)||S.hasData(a)},data:function(a,b,e){return aa.access(a,b,e)},removeData:function(a,b){aa.remove(a,b)},_data:function(a,b,e){return S.access(a,b,e)},_removeData:function(a,
b){S.remove(a,b)}});l.fn.extend({data:function(a,e){var d,c,h=this[0],f=0,n=null;if(a===b){if(this.length&&(n=aa.get(h),1===h.nodeType&&!S.get(h,"hasDataAttrs"))){for(d=h.attributes;d.length>f;f++)c=d[f].name,0===c.indexOf("data-")&&(c=l.camelCase(c.slice(5)),g(h,c,n[c]));S.set(h,"hasDataAttrs",!0)}return n}return"object"==typeof a?this.each(function(){aa.set(this,a)}):l.access(this,function(e){var d,c=l.camelCase(a);if(h&&e===b){if((d=aa.get(h,a),d!==b)||(d=aa.get(h,c),d!==b)||(d=g(h,c,b),d!==b))return d}else this.each(function(){var d=
aa.get(this,c);aa.set(this,c,e);-1!==a.indexOf("-")&&d!==b&&aa.set(this,a,e)})},null,e,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){aa.remove(this,a)})}});l.extend({queue:function(a,e,d){var c;return a?(e=(e||"fx")+"queue",c=S.get(a,e),d&&(!c||l.isArray(d)?c=S.access(a,e,l.makeArray(d)):c.push(d)),c||[]):b},dequeue:function(a,b){b=b||"fx";var e=l.queue(a,b),d=e.length,c=e.shift(),h=l._queueHooks(a,b),f=function(){l.dequeue(a,b)};"inprogress"===c&&(c=e.shift(),d--);
c&&("fx"===b&&e.unshift("inprogress"),delete h.stop,c.call(a,f,h));!d&&h&&h.empty.fire()},_queueHooks:function(a,b){var e=b+"queueHooks";return S.get(a,e)||S.access(a,e,{empty:l.Callbacks("once memory").add(function(){S.remove(a,[b+"queue",e])})})}});l.fn.extend({queue:function(a,e){var d=2;return"string"!=typeof a&&(e=a,a="fx",d--),d>arguments.length?l.queue(this[0],a):e===b?this:this.each(function(){var b=l.queue(this,a,e);l._queueHooks(this,a);"fx"===a&&"inprogress"!==b[0]&&l.dequeue(this,a)})},
dequeue:function(a){return this.each(function(){l.dequeue(this,a)})},delay:function(a,b){return a=l.fx?l.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,e){var d=setTimeout(b,a);e.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,e){var d,c=1,h=l.Deferred(),f=this,g=this.length,n=function(){--c||h.resolveWith(f,[f])};"string"!=typeof a&&(e=a,a=b);for(a=a||"fx";g--;)(d=S.get(f[g],a+"queueHooks"))&&d.empty&&(c++,d.empty.add(n));return n(),
h.promise(e)}});var Pa,Ja=/[\t\r\n\f]/g,nb=/\r/g,ob=/^(?:input|select|textarea|button)$/i;l.fn.extend({attr:function(a,b){return l.access(this,l.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){l.removeAttr(this,a)})},prop:function(a,b){return l.access(this,l.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[l.propFix[a]||a]})},addClass:function(a){var b,e,d,c,h,f=0,g=this.length;b="string"==typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).addClass(a.call(this,
b,this.className))});if(b)for(b=(a||"").match(T)||[];g>f;f++)if(e=this[f],d=1===e.nodeType&&(e.className?(" "+e.className+" ").replace(Ja," "):" ")){for(h=0;c=b[h++];)0>d.indexOf(" "+c+" ")&&(d+=c+" ");e.className=l.trim(d)}return this},removeClass:function(a){var b,e,d,c,h,f=0,g=this.length;b=0===arguments.length||"string"==typeof a&&a;if(l.isFunction(a))return this.each(function(b){l(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(T)||[];g>f;f++)if(e=this[f],d=1===e.nodeType&&
(e.className?(" "+e.className+" ").replace(Ja," "):"")){for(h=0;c=b[h++];)for(;0<=d.indexOf(" "+c+" ");)d=d.replace(" "+c+" "," ");e.className=a?l.trim(d):""}return this},toggleClass:function(a,b){var e=typeof a;return"boolean"==typeof b&&"string"===e?b?this.addClass(a):this.removeClass(a):l.isFunction(a)?this.each(function(e){l(this).toggleClass(a.call(this,e,this.className,b),b)}):this.each(function(){if("string"===e)for(var b,d=0,c=l(this),h=a.match(T)||[];b=h[d++];)c.hasClass(b)?c.removeClass(b):
c.addClass(b);else(e===M||"boolean"===e)&&(this.className&&S.set(this,"__className__",this.className),this.className=this.className||!1===a?"":S.get(this,"__className__")||"")})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;e>b;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ja," ").indexOf(a))return!0;return!1},val:function(a){var e,d,c,h=this[0];if(arguments.length)return c=l.isFunction(a),this.each(function(d){var h;1===this.nodeType&&(h=c?a.call(this,d,l(this).val()):
a,null==h?h="":"number"==typeof h?h+="":l.isArray(h)&&(h=l.map(h,function(a){return null==a?"":a+""})),e=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&e.set(this,h,"value")!==b||(this.value=h))});if(h)return e=l.valHooks[h.type]||l.valHooks[h.nodeName.toLowerCase()],e&&"get"in e&&(d=e.get(h,"value"))!==b?d:(d=h.value,"string"==typeof d?d.replace(nb,""):null==d?"":d)}});l.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:
a.text}},select:{get:function(a){for(var b,e=a.options,d=a.selectedIndex,c="select-one"===a.type||0>d,h=c?null:[],f=c?d+1:e.length,g=0>d?f:c?d:0;f>g;g++)if(b=e[g],!(!b.selected&&g!==d||(l.support.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&l.nodeName(b.parentNode,"optgroup"))){if(a=l(b).val(),c)return a;h.push(a)}return h},set:function(a,b){for(var e,d,c=a.options,h=l.makeArray(b),f=c.length;f--;)d=c[f],(d.selected=0<=l.inArray(l(d).val(),h))&&(e=!0);return e||
(a.selectedIndex=-1),h}}},attr:function(a,e,d){var c,h,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===M?l.prop(a,e,d):(1===f&&l.isXMLDoc(a)||(e=e.toLowerCase(),c=l.attrHooks[e]||(l.expr.match.bool.test(e)?Pa:void 0)),d===b?c&&"get"in c&&null!==(h=c.get(a,e))?h:(h=l.find.attr(a,e),null==h?b:h):null!==d?c&&"set"in c&&(h=c.set(a,d,e))!==b?h:(a.setAttribute(e,d+""),d):(l.removeAttr(a,e),b))},removeAttr:function(a,b){var e,d,c=0,h=b&&b.match(T);if(h&&1===a.nodeType)for(;e=h[c++];)d=
l.propFix[e]||e,l.expr.match.bool.test(e)&&(a[d]=!1),a.removeAttribute(e)},attrHooks:{type:{set:function(a,b){if(!l.support.radioValue&&"radio"===b&&l.nodeName(a,"input")){var e=a.value;return a.setAttribute("type",b),e&&(a.value=e),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,e,d){var c,h,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!l.isXMLDoc(a),f&&(e=l.propFix[e]||e,h=l.propHooks[e]),d!==b?h&&"set"in h&&(c=h.set(a,d,e))!==b?c:a[e]=d:h&&"get"in h&&null!==(c=h.get(a,
e))?c:a[e]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||ob.test(a.nodeName)||a.href?a.tabIndex:-1}}}});Pa={set:function(a,b,e){return!1===b?l.removeAttr(a,e):a.setAttribute(e,e),e}};l.each(l.expr.match.bool.source.match(/\w+/g),function(a,e){var d=l.expr.attrHandle[e]||l.find.attr;l.expr.attrHandle[e]=function(a,e,c){var h=l.expr.attrHandle[e];a=c?b:(l.expr.attrHandle[e]=b)!=d(a,e,c)?e.toLowerCase():null;return l.expr.attrHandle[e]=h,a}});l.support.optSelected||(l.propHooks.selected=
{get:function(a){a=a.parentNode;return a&&(a.parentNode&&a.parentNode.selectedIndex),null}});l.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){l.propFix[this.toLowerCase()]=this});l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(a,e){return l.isArray(e)?a.checked=0<=l.inArray(l(a).val(),e):b}};l.support.checkOn||(l.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});
var pb=/^key/,qb=/^(?:mouse|contextmenu)|click/,Qa=/^(?:focusinfocus|focusoutblur)$/,Ra=/^([^.]*)(?:\.(.+)|)$/;l.event={global:{},add:function(a,e,d,c,h){var f,g,n,k,m,v,t,p,y,q;if(m=S.get(a)){d.handler&&(f=d,d=f.handler,h=f.selector);d.guid||(d.guid=l.guid++);(k=m.events)||(k=m.events={});(g=m.handle)||(g=m.handle=function(a){return typeof l===M||a&&l.event.triggered===a.type?b:l.event.dispatch.apply(g.elem,arguments)},g.elem=a);e=(e||"").match(T)||[""];for(m=e.length;m--;)n=Ra.exec(e[m])||[],y=
q=n[1],n=(n[2]||"").split(".").sort(),y&&(t=l.event.special[y]||{},y=(h?t.delegateType:t.bindType)||y,t=l.event.special[y]||{},v=l.extend({type:y,origType:q,data:c,handler:d,guid:d.guid,selector:h,needsContext:h&&l.expr.match.needsContext.test(h),namespace:n.join(".")},f),(p=k[y])||(p=k[y]=[],p.delegateCount=0,t.setup&&!1!==t.setup.call(a,c,n,g)||a.addEventListener&&a.addEventListener(y,g,!1)),t.add&&(t.add.call(a,v),v.handler.guid||(v.handler.guid=d.guid)),h?p.splice(p.delegateCount++,0,v):p.push(v),
l.event.global[y]=!0);a=null}},remove:function(a,b,e,d,c){var h,f,g,n,k,m,v,t,p,y,q,u=S.hasData(a)&&S.get(a);if(u&&(n=u.events)){b=(b||"").match(T)||[""];for(k=b.length;k--;)if(g=Ra.exec(b[k])||[],p=q=g[1],y=(g[2]||"").split(".").sort(),p){v=l.event.special[p]||{};p=(d?v.delegateType:v.bindType)||p;t=n[p]||[];g=g[2]&&RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=h=t.length;h--;)m=t[h],!c&&q!==m.origType||e&&e.guid!==m.guid||g&&!g.test(m.namespace)||d&&d!==m.selector&&("**"!==d||!m.selector)||
(t.splice(h,1),m.selector&&t.delegateCount--,v.remove&&v.remove.call(a,m));f&&!t.length&&(v.teardown&&!1!==v.teardown.call(a,y,u.handle)||l.removeEvent(a,p,u.handle),delete n[p])}else for(p in n)l.event.remove(a,p+b[k],e,d,!0);l.isEmptyObject(n)&&(delete u.handle,S.remove(a,"events"))}},trigger:function(e,d,c,h){var f,g,n,k,m,v,t,p=[c||F],y=qa.call(e,"type")?e.type:e;f=qa.call(e,"namespace")?e.namespace.split("."):[];if(g=n=c=c||F,3!==c.nodeType&&8!==c.nodeType&&!Qa.test(y+l.event.triggered)&&(0<=
y.indexOf(".")&&(f=y.split("."),y=f.shift(),f.sort()),m=0>y.indexOf(":")&&"on"+y,e=e[l.expando]?e:new l.Event(y,"object"==typeof e&&e),e.isTrigger=h?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=b,e.target||(e.target=c),d=null==d?[e]:l.makeArray(d,[e]),t=l.event.special[y]||{},h||!t.trigger||!1!==t.trigger.apply(c,d))){if(!h&&!t.noBubble&&!l.isWindow(c)){k=t.delegateType||y;for(Qa.test(k+y)||(g=g.parentNode);g;g=g.parentNode)p.push(g),
n=g;n===(c.ownerDocument||F)&&p.push(n.defaultView||n.parentWindow||a)}for(f=0;(g=p[f++])&&!e.isPropagationStopped();)e.type=1<f?k:t.bindType||y,(v=(S.get(g,"events")||{})[e.type]&&S.get(g,"handle"))&&v.apply(g,d),(v=m&&g[m])&&l.acceptData(g)&&v.apply&&!1===v.apply(g,d)&&e.preventDefault();return e.type=y,h||e.isDefaultPrevented()||t._default&&!1!==t._default.apply(p.pop(),d)||!l.acceptData(c)||m&&l.isFunction(c[y])&&!l.isWindow(c)&&(n=c[m],n&&(c[m]=null),l.event.triggered=y,c[y](),l.event.triggered=
b,n&&(c[m]=n)),e.result}},dispatch:function(a){a=l.event.fix(a);var e,d,c,h,f,g=[],n=ca.call(arguments);e=(S.get(this,"events")||{})[a.type]||[];var k=l.event.special[a.type]||{};if(n[0]=a,a.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,a)){g=l.event.handlers.call(this,a,e);for(e=0;(h=g[e++])&&!a.isPropagationStopped();)for(a.currentTarget=h.elem,d=0;(f=h.handlers[d++])&&!a.isImmediatePropagationStopped();)a.namespace_re&&!a.namespace_re.test(f.namespace)||(a.handleObj=f,a.data=
f.data,c=((l.event.special[f.origType]||{}).handle||f.handler).apply(h.elem,n),c===b||!1!==(a.result=c)||(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,e){var d,c,h,f,g=[],n=e.delegateCount,k=a.target;if(n&&k.nodeType&&(!a.button||"click"!==a.type))for(;k!==this;k=k.parentNode||this)if(!0!==k.disabled||"click"!==a.type){c=[];for(d=0;n>d;d++)f=e[d],h=f.selector+" ",c[h]===b&&(c[h]=f.needsContext?0<=l(h,this).index(k):l.find(h,
this,null,[k]).length),c[h]&&c.push(f);c.length&&g.push({elem:k,handlers:c})}return e.length>n&&g.push({elem:this,handlers:e.slice(n)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,e){var d,c,h,f=e.button;return null==a.pageX&&null!=e.clientX&&(d=a.target.ownerDocument||F,c=d.documentElement,h=d.body,a.pageX=e.clientX+(c&&c.scrollLeft||h&&h.scrollLeft||0)-(c&&c.clientLeft||h&&h.clientLeft||0),a.pageY=e.clientY+(c&&c.scrollTop||h&&h.scrollTop||0)-(c&&c.clientTop||h&&h.clientTop||0)),a.which||f===b||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[l.expando])return a;var b,e,d;b=a.type;var c=a,h=this.fixHooks[b];h||(this.fixHooks[b]=h=qb.test(b)?this.mouseHooks:
pb.test(b)?this.keyHooks:{});d=h.props?this.props.concat(h.props):this.props;a=new l.Event(c);for(b=d.length;b--;)e=d[b],a[e]=c[e];return a.target||(a.target=F),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,c):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==k()&&this.focus?(this.focus(),!1):b},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):b},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===
this.type&&this.click&&l.nodeName(this,"input")?(this.click(),!1):b},_default:function(a){return l.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,e,d){a=l.extend(new l.Event,e,{type:a,isSimulated:!0,originalEvent:{}});d?l.event.trigger(a,null,b):l.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};l.removeEvent=function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,!1)};l.Event=
function(a,d){return this instanceof l.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.getPreventDefault&&a.getPreventDefault()?e:h):this.type=a,d&&l.extend(this,d),this.timeStamp=a&&a.timeStamp||l.now(),this[l.expando]=!0,b):new l.Event(a,d)};l.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=e;a&&a.preventDefault&&a.preventDefault()},
stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=e;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()}};l.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){l.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e,d=a.relatedTarget,c=a.handleObj;return(!d||d!==this&&!l.contains(this,d))&&(a.type=c.origType,e=c.handler.apply(this,arguments),a.type=b),e}}});
l.support.focusinBubbles||l.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,d=function(a){l.event.simulate(b,a.target,l.event.fix(a),!0)};l.event.special[b]={setup:function(){0===e++&&F.addEventListener(a,d,!0)},teardown:function(){0===--e&&F.removeEventListener(a,d,!0)}}});l.fn.extend({on:function(a,e,d,c,f){var g,n;if("object"==typeof a){"string"!=typeof e&&(d=d||e,e=b);for(n in a)this.on(n,e,d,a[n],f);return this}if(null==d&&null==c?(c=e,d=e=b):null==c&&("string"==typeof e?(c=d,d=
b):(c=d,d=e,e=b)),!1===c)c=h;else if(!c)return this;return 1===f&&(g=c,c=function(a){return l().off(a),g.apply(this,arguments)},c.guid=g.guid||(g.guid=l.guid++)),this.each(function(){l.event.add(this,a,c,d,e)})},one:function(a,b,e,d){return this.on(a,b,e,d,1)},off:function(a,e,d){var c,f;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,l(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(f in a)this.off(f,e,a[f]);return this}return(!1===
e||"function"==typeof e)&&(d=e,e=b),!1===d&&(d=h),this.each(function(){l.event.remove(this,a,d,e)})},trigger:function(a,b){return this.each(function(){l.event.trigger(a,b,this)})},triggerHandler:function(a,e){var d=this[0];return d?l.event.trigger(a,e,d,!0):b}});var ib=/^.[^:#\[\.,]*$/,rb=/^(?:parents|prev(?:Until|All))/,Sa=l.expr.match.needsContext,sb={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({find:function(a){var b,e=[],d=this,c=d.length;if("string"!=typeof a)return this.pushStack(l(a).filter(function(){for(b=
0;c>b;b++)if(l.contains(d[b],this))return!0}));for(b=0;c>b;b++)l.find(a,d[b],e);return e=this.pushStack(1<c?l.unique(e):e),e.selector=this.selector?this.selector+" "+a:a,e},has:function(a){var b=l(a,this),e=b.length;return this.filter(function(){for(var a=0;e>a;a++)if(l.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(q(this,a||[],!0))},filter:function(a){return this.pushStack(q(this,a||[],!1))},is:function(a){return!!q(this,"string"==typeof a&&Sa.test(a)?l(a):a||[],!1).length},
closest:function(a,b){for(var e,d=0,c=this.length,h=[],f=Sa.test(a)||"string"!=typeof a?l(a,b||this.context):0;c>d;d++)for(e=this[d];e&&e!==b;e=e.parentNode)if(11>e.nodeType&&(f?-1<f.index(e):1===e.nodeType&&l.find.matchesSelector(e,a))){h.push(e);break}return this.pushStack(1<h.length?l.unique(h):h)},index:function(a){return a?"string"==typeof a?ma.call(l(a),this[0]):ma.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var e="string"==typeof a?
l(a,b):l.makeArray(a&&a.nodeType?[a]:a),e=l.merge(this.get(),e);return this.pushStack(l.unique(e))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});l.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return l.dir(a,"parentNode")},parentsUntil:function(a,b,e){return l.dir(a,"parentNode",e)},next:function(a){return m(a,"nextSibling")},prev:function(a){return m(a,"previousSibling")},nextAll:function(a){return l.dir(a,
"nextSibling")},prevAll:function(a){return l.dir(a,"previousSibling")},nextUntil:function(a,b,e){return l.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return l.dir(a,"previousSibling",e)},siblings:function(a){return l.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return l.sibling(a.firstChild)},contents:function(a){return a.contentDocument||l.merge([],a.childNodes)}},function(a,b){l.fn[a]=function(e,d){var c=l.map(this,b,e);return"Until"!==a.slice(-5)&&(d=e),d&&"string"==typeof d&&
(c=l.filter(d,c)),1<this.length&&(sb[a]||l.unique(c),rb.test(a)&&c.reverse()),this.pushStack(c)}});l.extend({filter:function(a,b,e){var d=b[0];return e&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?l.find.matchesSelector(d,a)?[d]:[]:l.find.matches(a,l.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,e,d){for(var c=[],h=d!==b;(a=a[e])&&9!==a.nodeType;)if(1===a.nodeType){if(h&&l(a).is(d))break;c.push(a)}return c},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)1===a.nodeType&&a!==
b&&e.push(a);return e}});var Ta=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ua=/<([\w:]+)/,tb=/<|&#?\w+;/,ub=/<(?:script|style|link)/i,Va=/^(?:checkbox|radio)$/i,vb=/checked\s*(?:[^=]|=\s*.checked.)/i,Wa=/^$|\/(?:java|ecma)script/i,jb=/^true\/(.*)/,wb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,fa={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],
td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fa.optgroup=fa.option;fa.tbody=fa.tfoot=fa.colgroup=fa.caption=fa.thead;fa.th=fa.td;l.fn.extend({text:function(a){return l.access(this,function(a){return a===b?l.text(this):this.empty().append((this[0]&&this[0].ownerDocument||F).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||p(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,
function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=p(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var e,d=a?l.filter(a,this):this,c=0;null!=(e=d[c]);c++)b||1!==e.nodeType||l.cleanData(t(e)),e.parentNode&&
(b&&l.contains(e.ownerDocument,e)&&v(t(e,"script")),e.parentNode.removeChild(e));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(l.cleanData(t(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return l.clone(this,a,b)})},html:function(a){return l.access(this,function(a){var e=this[0]||{},d=0,c=this.length;if(a===b&&1===e.nodeType)return e.innerHTML;if("string"==typeof a&&!ub.test(a)&&!fa[(Ua.exec(a)||
["",""])[1].toLowerCase()]){a=a.replace(Ta,"<$1></$2>");try{for(;c>d;d++)e=this[d]||{},1===e.nodeType&&(l.cleanData(t(e,!1)),e.innerHTML=a);e=0}catch(h){}}e&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=l.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(e){var d=a[b++],c=a[b++];c&&(d&&d.parentNode!==c&&(d=this.nextSibling),l(this).remove(),c.insertBefore(e,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,
!0)},domManip:function(a,b,e){a=ta.apply([],a);var d,c,h,f,g=0,k=this.length,m=this,v=k-1,p=a[0],y=l.isFunction(p);if(y||!(1>=k||"string"!=typeof p||l.support.checkClone)&&vb.test(p))return this.each(function(d){var c=m.eq(d);y&&(a[0]=p.call(this,d,c.html()));c.domManip(a,b,e)});if(k&&(d=l.buildFragment(a,this[0].ownerDocument,!1,!e&&this),c=d.firstChild,1===d.childNodes.length&&(d=c),c)){c=l.map(t(d,"script"),u);for(h=c.length;k>g;g++)f=d,g!==v&&(f=l.clone(f,!0,!0),h&&l.merge(c,t(f,"script"))),b.call(this[g],
f,g);if(h)for(d=c[c.length-1].ownerDocument,l.map(c,n),g=0;h>g;g++)f=c[g],Wa.test(f.type||"")&&!S.access(f,"globalEval")&&l.contains(d,f)&&(f.src?l._evalUrl(f.src):l.globalEval(f.textContent.replace(wb,"")))}return this}});l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){l.fn[a]=function(a){for(var e=[],d=l(a),c=d.length-1,h=0;c>=h;h++)a=h===c?this:this.clone(!0),l(d[h])[b](a),ka.apply(e,a.get());return this.pushStack(e)}});
l.extend({clone:function(a,b,e){var d,c,h,f,g=a.cloneNode(!0),n=l.contains(a.ownerDocument,a);if(!(l.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||l.isXMLDoc(a)))for(f=t(g),h=t(a),d=0,c=h.length;c>d;d++){var k=h[d],m=f[d],p=m.nodeName.toLowerCase();"input"===p&&Va.test(k.type)?m.checked=k.checked:("input"===p||"textarea"===p)&&(m.defaultValue=k.defaultValue)}if(b)if(e)for(h=h||t(a),f=f||t(g),d=0,c=h.length;c>d;d++)y(h[d],f[d]);else y(a,g);return f=t(g,"script"),0<f.length&&v(f,!n&&t(a,
"script")),g},buildFragment:function(a,b,e,d){for(var c,h,f,g,n=0,k=a.length,m=b.createDocumentFragment(),p=[];k>n;n++)if(c=a[n],c||0===c)if("object"===l.type(c))l.merge(p,c.nodeType?[c]:c);else if(tb.test(c)){h=h||m.appendChild(b.createElement("div"));f=(Ua.exec(c)||["",""])[1].toLowerCase();f=fa[f]||fa._default;h.innerHTML=f[1]+c.replace(Ta,"<$1></$2>")+f[2];for(f=f[0];f--;)h=h.lastChild;l.merge(p,h.childNodes);h=m.firstChild;h.textContent=""}else p.push(b.createTextNode(c));m.textContent="";for(n=
0;c=p[n++];)if((!d||-1===l.inArray(c,d))&&(g=l.contains(c.ownerDocument,c),h=t(m.appendChild(c),"script"),g&&v(h),e))for(f=0;c=h[f++];)Wa.test(c.type||"")&&e.push(c);return m},cleanData:function(a){for(var e,d,c,h,g,n,k=l.event.special,m=0;(d=a[m])!==b;m++){if(f.accepts(d)&&(g=d[S.expando],g&&(e=S.cache[g]))){if(c=Object.keys(e.events||{}),c.length)for(n=0;(h=c[n])!==b;n++)k[h]?l.event.remove(d,h):l.removeEvent(d,h,e.handle);S.cache[g]&&delete S.cache[g]}delete aa.cache[d[aa.expando]]}},_evalUrl:function(a){return l.ajax({url:a,
type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});l.fn.extend({wrapAll:function(a){var b;return l.isFunction(a)?this.each(function(b){l(this).wrapAll(a.call(this,b))}):(this[0]&&(b=l(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return l.isFunction(a)?this.each(function(b){l(this).wrapInner(a.call(this,b))}):this.each(function(){var b=
l(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=l.isFunction(a);return this.each(function(e){l(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){l.nodeName(this,"body")||l(this).replaceWith(this.childNodes)}).end()}});var va,sa,xb=/^(none|table(?!-c[ea]).+)/,Xa=/^margin/,kb=RegExp("^("+Z+")(.*)$","i"),Ha=RegExp("^("+Z+")(?!px)[a-z%]+$","i"),yb=RegExp("^([+-])=("+Z+")","i"),Oa={BODY:"block"},zb={position:"absolute",visibility:"hidden",
display:"block"},Ya={letterSpacing:0,fontWeight:400},oa=["Top","Right","Bottom","Left"],Na=["Webkit","O","Moz","ms"];l.fn.extend({css:function(e,d){return l.access(this,function(e,d,c){var h,f={},g=0;if(l.isArray(d)){c=a.getComputedStyle(e,null);for(h=d.length;h>g;g++)f[d[g]]=l.css(e,d[g],!1,c);return f}return c!==b?l.style(e,d,c):l.css(e,d)},e,d,1<arguments.length)},show:function(){return z(this,!0)},hide:function(){return z(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():
this.each(function(){C(this)?l(this).show():l(this).hide()})}});l.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=va(a,"opacity");return""===e?"1":e}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,e,d,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var h,f,g,n=l.camelCase(e),k=a.style;return e=l.cssProps[n]||(l.cssProps[n]=B(k,n)),g=l.cssHooks[e]||l.cssHooks[n],
d===b?g&&"get"in g&&(h=g.get(a,!1,c))!==b?h:k[e]:(f=typeof d,"string"===f&&(h=yb.exec(d))&&(d=(h[1]+1)*h[2]+parseFloat(l.css(a,e)),f="number"),null==d||"number"===f&&isNaN(d)||("number"!==f||l.cssNumber[n]||(d+="px"),l.support.clearCloneStyle||""!==d||0!==e.indexOf("background")||(k[e]="inherit"),g&&"set"in g&&(d=g.set(a,d,c))===b||(k[e]=d)),b)}},css:function(a,e,d,c){var h,f,g,n=l.camelCase(e);return e=l.cssProps[n]||(l.cssProps[n]=B(a.style,n)),g=l.cssHooks[e]||l.cssHooks[n],g&&"get"in g&&(h=g.get(a,
!0,d)),h===b&&(h=va(a,e,c)),"normal"===h&&e in Ya&&(h=Ya[e]),""===d||d?(f=parseFloat(h),!0===d||l.isNumeric(f)?f||0:h):h}});va=function(e,d,c){var h,f,g,n=(c=c||a.getComputedStyle(e,null))?c.getPropertyValue(d)||c[d]:b,k=e.style;return c&&(""!==n||l.contains(e.ownerDocument,e)||(n=l.style(e,d)),Ha.test(n)&&Xa.test(d)&&(h=k.width,f=k.minWidth,g=k.maxWidth,k.minWidth=k.maxWidth=k.width=n,n=c.width,k.width=h,k.minWidth=f,k.maxWidth=g)),n};l.each(["height","width"],function(e,d){l.cssHooks[d]={get:function(a,
e,c){return e?0===a.offsetWidth&&xb.test(l.css(a,"display"))?l.swap(a,zb,function(){return I(a,d,c)}):I(a,d,c):b},set:function(e,b,c){var h=c&&a.getComputedStyle(e,null);return A(e,b,c?E(e,d,c,l.support.boxSizing&&"border-box"===l.css(e,"boxSizing",!1,h),h):0)}}});l(function(){l.support.reliableMarginRight||(l.cssHooks.marginRight={get:function(a,e){return e?l.swap(a,{display:"inline-block"},va,[a,"marginRight"]):b}});!l.support.pixelPosition&&l.fn.position&&l.each(["top","left"],function(a,e){l.cssHooks[e]=
{get:function(a,d){return d?(d=va(a,e),Ha.test(d)?l(a).position()[e]+"px":d):b}}})});l.expr&&l.expr.filters&&(l.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight},l.expr.filters.visible=function(a){return!l.expr.filters.hidden(a)});l.each({margin:"",padding:"",border:"Width"},function(a,e){l.cssHooks[a+e]={expand:function(b){var d=0,c={};for(b="string"==typeof b?b.split(" "):[b];4>d;d++)c[a+oa[d]+e]=b[d]||b[d-2]||b[0];return c}};Xa.test(a)||(l.cssHooks[a+e].set=A)});var Ab=
/%20/g,lb=/\[\]$/,Za=/\r?\n/g,Bb=/^(?:submit|button|image|reset|file)$/i,Cb=/^(?:input|select|textarea|keygen)/i;l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=l.prop(this,"elements");return a?l.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!l(this).is(":disabled")&&Cb.test(this.nodeName)&&!Bb.test(a)&&(this.checked||!Va.test(a))}).map(function(a,e){var b=l(this).val();return null==b?null:
l.isArray(b)?l.map(b,function(a){return{name:e.name,value:a.replace(Za,"\r\n")}}):{name:e.name,value:b.replace(Za,"\r\n")}}).get()}});l.param=function(a,e){var d,c=[],h=function(a,e){e=l.isFunction(e)?e():null==e?"":e;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(e)};if(e===b&&(e=l.ajaxSettings&&l.ajaxSettings.traditional),l.isArray(a)||a.jquery&&!l.isPlainObject(a))l.each(a,function(){h(this.name,this.value)});else for(d in a)V(d,a[d],e,h);return c.join("&").replace(Ab,"+")};l.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,e){l.fn[e]=function(a,b){return 0<arguments.length?this.on(e,null,a,b):this.trigger(e)}});l.fn.extend({hover:function(a,e){return this.mouseenter(a).mouseleave(e||a)},bind:function(a,e,b){return this.on(a,null,e,b)},unbind:function(a,e){return this.off(a,null,e)},delegate:function(a,e,b,d){return this.on(e,a,b,d)},undelegate:function(a,e,b){return 1===arguments.length?this.off(a,"**"):this.off(e,a||"**",b)}});var ua,ra,Ka=l.now(),La=/\?/,Db=/#.*$/,$a=/([?&])_=[^&]*/,Eb=/^(.*?):[ \t]*([^\r\n]*)$/gm,
Fb=/^(?:GET|HEAD)$/,Gb=/^\/\//,ab=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bb=l.fn.load,cb={},Ia={},db="*/".concat("*");try{ra=X.href}catch(Lb){ra=F.createElement("a"),ra.href="",ra=ra.href}ua=ab.exec(ra.toLowerCase())||[];l.fn.load=function(a,e,d){if("string"!=typeof a&&bb)return bb.apply(this,arguments);var c,h,f,g=this,n=a.indexOf(" ");return 0<=n&&(c=a.slice(n),a=a.slice(0,n)),l.isFunction(e)?(d=e,e=b):e&&"object"==typeof e&&(h="POST"),0<g.length&&l.ajax({url:a,type:h,dataType:"html",data:e}).done(function(a){f=
arguments;g.html(c?l("<div>").append(l.parseHTML(a)).find(c):a)}).complete(d&&function(a,e){g.each(d,f||[a.responseText,e,a])}),this};l.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,e){l.fn[e]=function(a){return this.on(e,a)}});l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ra,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ua[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",
accepts:{"*":db,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":l.parseJSON,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,e){return e?K(K(a,l.ajaxSettings),e):K(l.ajaxSettings,a)},ajaxPrefilter:D(cb),ajaxTransport:D(Ia),ajax:function(a,
e){function d(a,e,g,k){var v,C,P,s,N=e;if(2!==z){z=2;n&&clearTimeout(n);c=b;f=k||"";r.readyState=0<a?4:0;k=200<=a&&300>a||304===a;if(g){P=t;for(var Q=r,H,x,w,A,E=P.contents,M=P.dataTypes;"*"===M[0];)M.shift(),H===b&&(H=P.mimeType||Q.getResponseHeader("Content-Type"));if(H)for(x in E)if(E[x]&&E[x].test(H)){M.unshift(x);break}if(M[0]in g)w=M[0];else{for(x in g){if(!M[0]||P.converters[x+" "+M[0]]){w=x;break}A||(A=x)}w=w||A}P=w?(w!==M[0]&&M.unshift(w),g[w]):b}var U;a:{g=t;H=P;x=r;w=k;var F,X,I;P={};Q=
g.dataTypes.slice();if(Q[1])for(F in g.converters)P[F.toLowerCase()]=g.converters[F];for(A=Q.shift();A;)if(g.responseFields[A]&&(x[g.responseFields[A]]=H),!I&&w&&g.dataFilter&&(H=g.dataFilter(H,g.dataType)),I=A,A=Q.shift())if("*"===A)A=I;else if("*"!==I&&I!==A){if(F=P[I+" "+A]||P["* "+A],!F)for(U in P)if(X=U.split(" "),X[1]===A&&(F=P[I+" "+X[0]]||P["* "+X[0]])){!0===F?F=P[U]:!0!==P[U]&&(A=X[0],Q.unshift(X[1]));break}if(!0!==F)if(F&&g["throws"])H=F(H);else try{H=F(H)}catch(D){U={state:"parsererror",
error:F?D:"No conversion from "+I+" to "+A};break a}}U={state:"success",data:H}}P=U;k?(t.ifModified&&(s=r.getResponseHeader("Last-Modified"),s&&(l.lastModified[h]=s),s=r.getResponseHeader("etag"),s&&(l.etag[h]=s)),204===a||"HEAD"===t.type?N="nocontent":304===a?N="notmodified":(N=P.state,v=P.data,C=P.error,k=!C)):(C=N,(a||!N)&&(N="error",0>a&&(a=0)));r.status=a;r.statusText=(e||N)+"";k?q.resolveWith(p,[v,N,r]):q.rejectWith(p,[r,N,C]);r.statusCode(B);B=b;m&&y.trigger(k?"ajaxSuccess":"ajaxError",[r,
t,k?v:C]);u.fireWith(p,[r,N]);m&&(y.trigger("ajaxComplete",[r,t]),--l.active||l.event.trigger("ajaxStop"))}}"object"==typeof a&&(e=a,a=b);e=e||{};var c,h,f,g,n,k,m,v,t=l.ajaxSetup({},e),p=t.context||t,y=t.context&&(p.nodeType||p.jquery)?l(p):l.event,q=l.Deferred(),u=l.Callbacks("once memory"),B=t.statusCode||{},C={},P={},z=0,s="canceled",r={readyState:0,getResponseHeader:function(a){var e;if(2===z){if(!g)for(g={};e=Eb.exec(f);)g[e[1].toLowerCase()]=e[2];e=g[a.toLowerCase()]}return null==e?null:e},
getAllResponseHeaders:function(){return 2===z?f:null},setRequestHeader:function(a,e){var b=a.toLowerCase();return z||(a=P[b]=P[b]||a,C[a]=e),this},overrideMimeType:function(a){return z||(t.mimeType=a),this},statusCode:function(a){var e;if(a)if(2>z)for(e in a)B[e]=[B[e],a[e]];else r.always(a[r.status]);return this},abort:function(a){a=a||s;return c&&c.abort(a),d(0,a),this}};if(q.promise(r).complete=u.add,r.success=r.done,r.error=r.fail,t.url=((a||t.url||ra)+"").replace(Db,"").replace(Gb,ua[1]+"//"),
t.type=e.method||e.type||t.method||t.type,t.dataTypes=l.trim(t.dataType||"*").toLowerCase().match(T)||[""],null==t.crossDomain&&(k=ab.exec(t.url.toLowerCase()),t.crossDomain=!(!k||k[1]===ua[1]&&k[2]===ua[2]&&(k[3]||("http:"===k[1]?"80":"443"))===(ua[3]||("http:"===ua[1]?"80":"443")))),t.data&&t.processData&&"string"!=typeof t.data&&(t.data=l.param(t.data,t.traditional)),R(cb,t,e,r),2===z)return r;(m=t.global)&&0===l.active++&&l.event.trigger("ajaxStart");t.type=t.type.toUpperCase();t.hasContent=!Fb.test(t.type);
h=t.url;t.hasContent||(t.data&&(h=t.url+=(La.test(h)?"&":"?")+t.data,delete t.data),!1===t.cache&&(t.url=$a.test(h)?h.replace($a,"$1_="+Ka++):h+(La.test(h)?"&":"?")+"_="+Ka++));t.ifModified&&(l.lastModified[h]&&r.setRequestHeader("If-Modified-Since",l.lastModified[h]),l.etag[h]&&r.setRequestHeader("If-None-Match",l.etag[h]));(t.data&&t.hasContent&&!1!==t.contentType||e.contentType)&&r.setRequestHeader("Content-Type",t.contentType);r.setRequestHeader("Accept",t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?
t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", "+db+"; q=0.01":""):t.accepts["*"]);for(v in t.headers)r.setRequestHeader(v,t.headers[v]);if(t.beforeSend&&(!1===t.beforeSend.call(p,r,t)||2===z))return r.abort();s="abort";for(v in{success:1,error:1,complete:1})r[v](t[v]);if(c=R(Ia,t,e,r)){r.readyState=1;m&&y.trigger("ajaxSend",[r,t]);t.async&&0<t.timeout&&(n=setTimeout(function(){r.abort("timeout")},t.timeout));try{z=1,c.send(C,d)}catch(Q){if(!(2>z))throw Q;d(-1,Q)}}else d(-1,"No Transport");return r},
getJSON:function(a,e,b){return l.get(a,e,b,"json")},getScript:function(a,e){return l.get(a,b,e,"script")}});l.each(["get","post"],function(a,e){l[e]=function(a,d,c,h){return l.isFunction(d)&&(h=h||c,c=d,d=b),l.ajax({url:a,type:e,dataType:h,data:d,success:c})}});l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return l.globalEval(a),a}}});l.ajaxPrefilter("script",
function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET")});l.ajaxTransport("script",function(a){if(a.crossDomain){var e,b;return{send:function(d,c){e=l("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",b=function(a){e.remove();b=null;a&&c("error"===a.type?404:200,a.type)});F.head.appendChild(e[0])},abort:function(){b&&b()}}}});var eb=[],Ma=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=eb.pop()||l.expando+"_"+Ka++;return this[a]=
!0,a}});l.ajaxPrefilter("json jsonp",function(e,d,c){var h,f,g,n=!1!==e.jsonp&&(Ma.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ma.test(e.data)&&"data");return n||"jsonp"===e.dataTypes[0]?(h=e.jsonpCallback=l.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,n?e[n]=e[n].replace(Ma,"$1"+h):!1!==e.jsonp&&(e.url+=(La.test(e.url)?"&":"?")+e.jsonp+"="+h),e.converters["script json"]=function(){return g||l.error(h+" was not called"),
g[0]},e.dataTypes[0]="json",f=a[h],a[h]=function(){g=arguments},c.always(function(){a[h]=f;e[h]&&(e.jsonpCallback=d.jsonpCallback,eb.push(h));g&&l.isFunction(f)&&f(g[0]);g=f=b}),"script"):b});l.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Ba=l.ajaxSettings.xhr(),Hb={0:200,1223:204},Ib=0,Ca={};a.ActiveXObject&&l(a).on("unload",function(){for(var a in Ca)Ca[a]();Ca=b});l.support.cors=!!Ba&&"withCredentials"in Ba;l.support.ajax=Ba=!!Ba;l.ajaxTransport(function(a){var e;return l.support.cors||
Ba&&!a.crossDomain?{send:function(d,c){var h,f,g=a.xhr();if(g.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(h in a.xhrFields)g[h]=a.xhrFields[h];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(h in d)g.setRequestHeader(h,d[h]);e=function(a){return function(){e&&(delete Ca[f],e=g.onload=g.onerror=null,"abort"===a?g.abort():"error"===a?c(g.status||404,g.statusText):c(Hb[g.status]||g.status,
g.statusText,"string"==typeof g.responseText?{text:g.responseText}:b,g.getAllResponseHeaders()))}};g.onload=e();g.onerror=e("error");e=Ca[f=Ib++]=e("abort");g.send(a.hasContent&&a.data||null)},abort:function(){e&&e()}}:b});var pa,Fa,Jb=/^(?:toggle|show|hide)$/,fb=RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),Kb=/queueHooks$/,Ea=[function(a,e,d){var c,h,f,g,n,k=this,m={},t=a.style,v=a.nodeType&&C(a),p=S.get(a,"fxshow");d.queue||(g=l._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,n=g.empty.fire,
g.empty.fire=function(){g.unqueued||n()}),g.unqueued++,k.always(function(){k.always(function(){g.unqueued--;l.queue(a,"fx").length||g.empty.fire()})}));1===a.nodeType&&("height"in e||"width"in e)&&(d.overflow=[t.overflow,t.overflowX,t.overflowY],"inline"===l.css(a,"display")&&"none"===l.css(a,"float")&&(t.display="inline-block"));d.overflow&&(t.overflow="hidden",k.always(function(){t.overflow=d.overflow[0];t.overflowX=d.overflow[1];t.overflowY=d.overflow[2]}));for(c in e)if(h=e[c],Jb.exec(h)){if(delete e[c],
f=f||"toggle"===h,h===(v?"hide":"show")){if("show"!==h||!p||p[c]===b)continue;v=!0}m[c]=p&&p[c]||l.style(a,c)}if(!l.isEmptyObject(m))for(c in p?"hidden"in p&&(v=p.hidden):p=S.access(a,"fxshow",{}),f&&(p.hidden=!v),v?l(a).show():k.done(function(){l(a).hide()}),k.done(function(){var e;S.remove(a,"fxshow");for(e in m)l.style(a,e,m[e])}),m)e=s(v?p[c]:0,c,k),c in p||(p[c]=e.start,v&&(e.end=e.start,e.start="width"===c||"height"===c?1:0))}],ya={"*":[function(a,e){var b=this.createTween(a,e),d=b.cur(),c=
fb.exec(e),h=c&&c[3]||(l.cssNumber[a]?"":"px"),f=(l.cssNumber[a]||"px"!==h&&+d)&&fb.exec(l.css(b.elem,a)),g=1,n=20;if(f&&f[3]!==h){h=h||f[3];c=c||[];f=+d||1;do g=g||".5",f/=g,l.style(b.elem,a,f+h);while(g!==(g=b.cur()/d)&&1!==g&&--n)}return c&&(f=b.start=+f||+d||0,b.unit=h,b.end=c[1]?f+(c[1]+1)*c[2]:+c[2]),b}]};l.Animation=l.extend(x,{tweener:function(a,e){l.isFunction(a)?(e=a,a=["*"]):a=a.split(" ");for(var b,d=0,c=a.length;c>d;d++)b=a[d],ya[b]=ya[b]||[],ya[b].unshift(e)},prefilter:function(a,e){e?
Ea.unshift(a):Ea.push(a)}});l.Tween=r;r.prototype={constructor:r,init:function(a,e,b,d,c,h){this.elem=a;this.prop=b;this.easing=c||"swing";this.options=e;this.start=this.now=this.cur();this.end=d;this.unit=h||(l.cssNumber[b]?"":"px")},cur:function(){var a=r.propHooks[this.prop];return a&&a.get?a.get(this):r.propHooks._default.get(this)},run:function(a){var e,b=r.propHooks[this.prop];return this.pos=e=this.options.duration?l.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):
a,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):r.propHooks._default.set(this),this}};r.prototype.init.prototype=r.prototype;r.propHooks={_default:{get:function(a){var e;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(e=l.css(a.elem,a.prop,""),e&&"auto"!==e?e:0):a.elem[a.prop]},set:function(a){l.fx.step[a.prop]?l.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[l.cssProps[a.prop]]||l.cssHooks[a.prop])?
l.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};r.propHooks.scrollTop=r.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};l.each(["toggle","show","hide"],function(a,e){var b=l.fn[e];l.fn[e]=function(a,d,c){return null==a||"boolean"==typeof a?b.apply(this,arguments):this.animate(P(e,!0),a,d,c)}});l.fn.extend({fadeTo:function(a,e,b,d){return this.filter(C).css("opacity",0).show().end().animate({opacity:e},a,b,d)},animate:function(a,e,b,d){var c=
l.isEmptyObject(a),h=l.speed(e,b,d);e=function(){var e=x(this,l.extend({},a),h);(c||S.get(this,"finish"))&&e.stop(!0)};return e.finish=e,c||!1===h.queue?this.each(e):this.queue(h.queue,e)},stop:function(a,e,d){var c=function(a){var e=a.stop;delete a.stop;e(d)};return"string"!=typeof a&&(d=e,e=a,a=b),e&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var e=!0,b=null!=a&&a+"queueHooks",h=l.timers,f=S.get(this);if(b)f[b]&&f[b].stop&&c(f[b]);else for(b in f)f[b]&&f[b].stop&&Kb.test(b)&&c(f[b]);for(b=
h.length;b--;)h[b].elem!==this||null!=a&&h[b].queue!==a||(h[b].anim.stop(d),e=!1,h.splice(b,1));!e&&d||l.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,b=S.get(this),d=b[a+"queue"];e=b[a+"queueHooks"];var c=l.timers,h=d?d.length:0;b.finish=!0;l.queue(this,a,[]);e&&e.stop&&e.stop.call(this,!0);for(e=c.length;e--;)c[e].elem===this&&c[e].queue===a&&(c[e].anim.stop(!0),c.splice(e,1));for(e=0;h>e;e++)d[e]&&d[e].finish&&d[e].finish.call(this);delete b.finish})}});
l.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,e){l.fn[a]=function(a,b,d){return this.animate(e,a,b,d)}});l.speed=function(a,e,b){var d=a&&"object"==typeof a?l.extend({},a):{complete:b||!b&&e||l.isFunction(a)&&a,duration:a,easing:b&&e||e&&!l.isFunction(e)&&e};return d.duration=l.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in l.fx.speeds?l.fx.speeds[d.duration]:l.fx.speeds._default,
(null==d.queue||!0===d.queue)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){l.isFunction(d.old)&&d.old.call(this);d.queue&&l.dequeue(this,d.queue)},d};l.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};l.timers=[];l.fx=r.prototype.init;l.fx.tick=function(){var a,e=l.timers,d=0;for(pa=l.now();e.length>d;d++)a=e[d],a()||e[d]!==a||e.splice(d--,1);e.length||l.fx.stop();pa=b};l.fx.timer=function(a){a()&&l.timers.push(a)&&l.fx.start()};l.fx.interval=13;
l.fx.start=function(){Fa||(Fa=setInterval(l.fx.tick,l.fx.interval))};l.fx.stop=function(){clearInterval(Fa);Fa=null};l.fx.speeds={slow:600,fast:200,_default:400};l.fx.step={};l.expr&&l.expr.filters&&(l.expr.filters.animated=function(a){return l.grep(l.timers,function(e){return a===e.elem}).length});l.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(e){l.offset.setOffset(this,a,e)});var e,d,c=this[0],h={top:0,left:0},f=c&&c.ownerDocument;if(f)return e=f.documentElement,
l.contains(e,c)?(typeof c.getBoundingClientRect!==M&&(h=c.getBoundingClientRect()),d=l.isWindow(f)?f:9===f.nodeType&&f.defaultView,{top:h.top+d.pageYOffset-e.clientTop,left:h.left+d.pageXOffset-e.clientLeft}):h};l.offset={setOffset:function(a,e,b){var d,c,h,f,g,n,k=l.css(a,"position"),m=l(a),t={};"static"===k&&(a.style.position="relative");g=m.offset();h=l.css(a,"top");n=l.css(a,"left");("absolute"===k||"fixed"===k)&&-1<(h+n).indexOf("auto")?(d=m.position(),f=d.top,c=d.left):(f=parseFloat(h)||0,c=
parseFloat(n)||0);l.isFunction(e)&&(e=e.call(a,b,g));null!=e.top&&(t.top=e.top-g.top+f);null!=e.left&&(t.left=e.left-g.left+c);"using"in e?e.using.call(a,t):m.css(t)}};l.fn.extend({position:function(){if(this[0]){var a,e,b=this[0],d={top:0,left:0};return"fixed"===l.css(b,"position")?e=b.getBoundingClientRect():(a=this.offsetParent(),e=this.offset(),l.nodeName(a[0],"html")||(d=a.offset()),d.top+=l.css(a[0],"borderTopWidth",!0),d.left+=l.css(a[0],"borderLeftWidth",!0)),{top:e.top-d.top-l.css(b,"marginTop",
!0),left:e.left-d.left-l.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ga;a&&!l.nodeName(a,"html")&&"static"===l.css(a,"position");)a=a.offsetParent;return a||ga})}});l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,d){var c="pageYOffset"===d;l.fn[e]=function(h){return l.access(this,function(e,h,f){var g=l.isWindow(e)?e:9===e.nodeType&&e.defaultView;return f===b?g?g[d]:e[h]:(g?g.scrollTo(c?a.pageXOffset:f,c?f:a.pageYOffset):
e[h]=f,b)},e,h,arguments.length,null)}});l.each({Height:"height",Width:"width"},function(a,e){l.each({padding:"inner"+a,content:e,"":"outer"+a},function(d,c){l.fn[c]=function(c,h){var f=arguments.length&&(d||"boolean"!=typeof c),g=d||(!0===c||!0===h?"margin":"border");return l.access(this,function(e,d,c){var h;return l.isWindow(e)?e.document.documentElement["client"+a]:9===e.nodeType?(h=e.documentElement,Math.max(e.body["scroll"+a],h["scroll"+a],e.body["offset"+a],h["offset"+a],h["client"+a])):c===
b?l.css(e,d,g):l.style(e,d,c,g)},e,f?c:b,f,null)}})});l.fn.size=function(){return this.length};l.fn.andSelf=l.fn.addBack;"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=l:"function"==typeof define&&define.amd&&define("jquery",[],function(){return l});"object"==typeof a&&"object"==typeof a.document&&(a.jQuery=a.$=l)})(window);
(function(a,b){function c(e,b){var c,f,g,p=e.nodeName.toLowerCase();return"area"===p?(c=e.parentNode,f=c.name,e.href&&f&&"map"===c.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(p)?!e.disabled:"a"===p?e.href||b:b)&&d(e)}function d(e){return a.expr.filters.visible(e)&&!a(e).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var f=0,g=/^ui-id-\d+$/;a.ui=a.ui||{};a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,
COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});a.fn.extend({focus:function(e){return function(b,d){return"number"==typeof b?this.each(function(){var e=this;setTimeout(function(){a(e).focus();d&&d.call(e)},b)}):e.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var e;return e=a.ui.ie&&/(static|relative)/.test(this.css("position"))||
/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(e){if(e!==b)return this.css("zIndex",e);if(this.length){var d,
c;for(e=a(this[0]);e.length&&e[0]!==document;){if(d=e.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(c=parseInt(e.css("zIndex"),10),!isNaN(c)&&0!==c))return c;e=e.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})},removeUniqueId:function(){return this.each(function(){g.test(this.id)&&a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(e){return function(b){return!!a.data(b,e)}}):
function(e,b,d){return!!a.data(e,d[3])},focusable:function(e){return c(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var b=a.attr(e,"tabindex"),d=isNaN(b);return(d||0<=b)&&c(e,!d)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(e,d){function c(e,b,d,h){return a.each(f,function(){b-=parseFloat(a.css(e,"padding"+this))||0;d&&(b-=parseFloat(a.css(e,"border"+this+"Width"))||0);h&&(b-=parseFloat(a.css(e,"margin"+this))||0)}),b}var f="Width"===d?["Left","Right"]:["Top","Bottom"],
g=d.toLowerCase(),p={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(e){return e===b?p["inner"+d].call(this):this.each(function(){a(this).css(g,c(this,e)+"px")})};a.fn["outer"+d]=function(e,b){return"number"!=typeof e?p["outer"+d].call(this,e):this.each(function(){a(this).css(g,c(this,e,!0,b)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});
a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(e){return function(b){return arguments.length?e.call(this,a.camelCase(b)):e.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.support.selectstart="onselectstart"in document.createElement("div");a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});
a.extend(a.ui,{plugin:{add:function(e,b,d){var c;e=a.ui[e].prototype;for(c in d)e.plugins[c]=e.plugins[c]||[],e.plugins[c].push([b,d[c]])},call:function(a,b,d){var c=a.plugins[b];if(c&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(b=0;c.length>b;b++)a.options[c[b][0]]&&c[b][1].apply(a.element,d)}},hasScroll:function(e,b){if("hidden"===a(e).css("overflow"))return!1;var d=b&&"left"===b?"scrollLeft":"scrollTop",c=!1;return 0<e[d]?!0:(e[d]=1,c=0<e[d],e[d]=0,c)}})})(jQuery);
(function(a,b){var c=0,d=Array.prototype.slice,f=a.cleanData;a.cleanData=function(b){for(var e,d=0;null!=(e=b[d]);d++)try{a(e).triggerHandler("remove")}catch(c){}f(b)};a.widget=function(d,e,c){var f,m,q,p,u={},n=d.split(".")[0];d=d.split(".")[1];f=n+"-"+d;c||(c=e,e=a.Widget);a.expr[":"][f.toLowerCase()]=function(e){return!!a.data(e,f)};a[n]=a[n]||{};m=a[n][d];q=a[n][d]=function(a,e){return this._createWidget?(arguments.length&&this._createWidget(a,e),b):new q(a,e)};a.extend(q,m,{version:c.version,
_proto:a.extend({},c),_childConstructors:[]});p=new e;p.options=a.widget.extend({},p.options);a.each(c,function(d,c){return a.isFunction(c)?(u[d]=function(){var a=function(){return e.prototype[d].apply(this,arguments)},b=function(a){return e.prototype[d].apply(this,a)};return function(){var e,d=this._super,h=this._superApply;return this._super=a,this._superApply=b,e=c.apply(this,arguments),this._super=d,this._superApply=h,e}}(),b):(u[d]=c,b)});q.prototype=a.widget.extend(p,{widgetEventPrefix:m?p.widgetEventPrefix:
d},u,{constructor:q,namespace:n,widgetName:d,widgetFullName:f});m?(a.each(m._childConstructors,function(e,b){var d=b.prototype;a.widget(d.namespace+"."+d.widgetName,q,b._proto)}),delete m._childConstructors):e._childConstructors.push(q);a.widget.bridge(d,q)};a.widget.extend=function(c){for(var e,h,f=d.call(arguments,1),m=0,q=f.length;q>m;m++)for(e in f[m])h=f[m][e],f[m].hasOwnProperty(e)&&h!==b&&(c[e]=a.isPlainObject(h)?a.isPlainObject(c[e])?a.widget.extend({},c[e],h):a.widget.extend({},h):h);return c};
a.widget.bridge=function(c,e){var h=e.prototype.widgetFullName||c;a.fn[c]=function(f){var m="string"==typeof f,q=d.call(arguments,1),p=this;return f=!m&&q.length?a.widget.extend.apply(null,[f].concat(q)):f,m?this.each(function(){var e,d=a.data(this,h);return d?a.isFunction(d[f])&&"_"!==f.charAt(0)?(e=d[f].apply(d,q),e!==d&&e!==b?(p=e&&e.jquery?p.pushStack(e.get()):e,!1):b):a.error("no such method '"+f+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+
f+"'")}):this.each(function(){var b=a.data(this,h);b?b.option(f||{})._init():a.data(this,h,new e(f,this))}),p}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,e){e=a(e||this.defaultElement||this)[0];this.element=a(e);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);
this.bindings=a();this.hoverable=a();this.focusable=a();e!==this&&(a.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===e&&this.destroy()}}),this.document=a(e.style?e.ownerDocument:e.document||e),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy();
this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(d,e){var c,f,m,q=d;
if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof d)if(q={},c=d.split("."),d=c.shift(),c.length){f=q[d]=a.widget.extend({},this.options[d]);for(m=0;c.length-1>m;m++)f[c[m]]=f[c[m]]||{},f=f[c[m]];if(d=c.pop(),e===b)return f[d]===b?null:f[d];f[d]=e}else{if(e===b)return this.options[d]===b?null:this.options[d];q[d]=e}return this._setOptions(q),this},_setOptions:function(a){for(var e in a)this._setOption(e,a[e]);return this},_setOption:function(a,e){return this.options[a]=
e,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,e,c){var f,m=this;"boolean"!=typeof d&&(c=e,e=d,d=!1);c?(e=f=a(e),this.bindings=this.bindings.add(e)):(c=e,e=this.element,f=this.widget());a.each(c,function(c,
h){function u(){return d||!0!==m.options.disabled&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?m[h]:h).apply(m,arguments):b}"string"!=typeof h&&(u.guid=h.guid=h.guid||u.guid||a.guid++);var n=c.match(/^(\w+)\s*(.*)$/),v=n[1]+m.eventNamespace;(n=n[2])?f.delegate(n,v,u):e.bind(v,u)})},_off:function(a,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(e).undelegate(e)},_delay:function(a,e){var b=this;return setTimeout(function(){return("string"==typeof a?
b[a]:a).apply(b,arguments)},e||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(e){a(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){a(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(e){a(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){a(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,e,d){var c,f=this.options[b];
if(d=d||{},e=a.Event(e),e.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),e.target=this.element[0],b=e.originalEvent)for(c in b)c in e||(e[c]=b[c]);return this.element.trigger(e,d),!(a.isFunction(f)&&!1===f.apply(this.element[0],[e].concat(d))||e.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,e){a.Widget.prototype["_"+b]=function(d,c,f){"string"==typeof c&&(c={effect:c});var q,p=c?!0===c||"number"==typeof c?e:c.effect||e:b;c=c||{};"number"==typeof c&&
(c={duration:c});q=!a.isEmptyObject(c);c.complete=f;c.delay&&d.delay(c.delay);q&&a.effects&&a.effects.effect[p]?d[b](c):p!==b&&d[p]?d[p](c.duration,c.easing,f):d.queue(function(e){a(this)[b]();f&&f.call(d[0]);e()})}})})(jQuery);
(function(a){var b=!1;a(document).mouseup(function(){b=!1});a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(d){return!0===a.data(d.target,b.widgetName+".preventClickEvent")?(a.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):void 0});this.started=
!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var d=this,f=1===c.which,g="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return f&&!g&&this._mouseCapture(c)?(this.mouseDelayMet=
!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},
a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b),this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),
!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},
_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);
(function(a,b){function c(a,e,b){return[parseFloat(a[0])*(u.test(a[0])?e/100:1),parseFloat(a[1])*(u.test(a[1])?b/100:1)]}function d(e){var b=e[0];return 9===b.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:a.isWindow(b)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}a.ui=a.ui||{};var f,g=Math.max,e=Math.abs,h=
Math.round,k=/left|center|right/,m=/top|center|bottom/,q=/[\+\-]\d+(\.[\d]+)?%?/,p=/^\w+/,u=/%$/,n=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var e,d,c=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),h=c.children()[0];return a("body").append(c),e=h.offsetWidth,c.css("overflow","scroll"),d=h.offsetWidth,e===d&&(d=c[0].clientWidth),c.remove(),f=e-d},getScrollInfo:function(e){var b=e.isWindow?"":e.element.css("overflow-x"),
d=e.isWindow?"":e.element.css("overflow-y"),b="scroll"===b||"auto"===b&&e.width<e.element[0].scrollWidth;return{width:"scroll"===d||"auto"===d&&e.height<e.element[0].scrollHeight?a.position.scrollbarWidth():0,height:b?a.position.scrollbarWidth():0}},getWithinInfo:function(e){e=a(e||window);var b=a.isWindow(e[0]);return{element:e,isWindow:b,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:b?e.width():e.outerWidth(),height:b?e.height():e.outerHeight()}}};a.fn.position=
function(b){if(!b||!b.of)return n.apply(this,arguments);b=a.extend({},b);var f,t,B,u,z,A,E=a(b.of),I=a.position.getWithinInfo(b.within),O=a.position.getScrollInfo(I),J=(b.collision||"flip").split(" "),V={};return A=d(E),E[0].preventDefault&&(b.at="left top"),t=A.width,B=A.height,u=A.offset,z=a.extend({},u),a.each(["my","at"],function(){var a,e,d=(b[this]||"").split(" ");1===d.length&&(d=k.test(d[0])?d.concat(["center"]):m.test(d[0])?["center"].concat(d):["center","center"]);d[0]=k.test(d[0])?d[0]:
"center";d[1]=m.test(d[1])?d[1]:"center";a=q.exec(d[0]);e=q.exec(d[1]);V[this]=[a?a[0]:0,e?e[0]:0];b[this]=[p.exec(d[0])[0],p.exec(d[1])[0]]}),1===J.length&&(J[1]=J[0]),"right"===b.at[0]?z.left+=t:"center"===b.at[0]&&(z.left+=t/2),"bottom"===b.at[1]?z.top+=B:"center"===b.at[1]&&(z.top+=B/2),f=c(V.at,t,B),z.left+=f[0],z.top+=f[1],this.each(function(){var d,n,k=a(this),m=k.outerWidth(),p=k.outerHeight(),q=parseInt(a.css(this,"marginLeft"),10)||0,w=parseInt(a.css(this,"marginTop"),10)||0,r=m+q+(parseInt(a.css(this,
"marginRight"),10)||0)+O.width,P=p+w+(parseInt(a.css(this,"marginBottom"),10)||0)+O.height,H=a.extend({},z),Q=c(V.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?H.left-=m:"center"===b.my[0]&&(H.left-=m/2);"bottom"===b.my[1]?H.top-=p:"center"===b.my[1]&&(H.top-=p/2);H.left+=Q[0];H.top+=Q[1];a.support.offsetFractions||(H.left=h(H.left),H.top=h(H.top));d={marginLeft:q,marginTop:w};a.each(["left","top"],function(e,c){a.ui.position[J[e]]&&a.ui.position[J[e]][c](H,{targetWidth:t,targetHeight:B,elemWidth:m,
elemHeight:p,collisionPosition:d,collisionWidth:r,collisionHeight:P,offset:[f[0]+Q[0],f[1]+Q[1]],my:b.my,at:b.at,within:I,elem:k})});b.using&&(n=function(a){var d=u.left-H.left,c=d+t-m,h=u.top-H.top,f=h+B-p,n={target:{element:E,left:u.left,top:u.top,width:t,height:B},element:{element:k,left:H.left,top:H.top,width:m,height:p},horizontal:0>c?"left":0<d?"right":"center",vertical:0>f?"top":0<h?"bottom":"middle"};m>t&&t>e(d+c)&&(n.horizontal="center");p>B&&B>e(h+f)&&(n.vertical="middle");n.important=g(e(d),
e(c))>g(e(h),e(f))?"horizontal":"vertical";b.using.call(this,a,n)});k.offset(a.extend(H,{using:n}))})};a.ui.position={fit:{left:function(a,e){var b,d=e.within,c=d.isWindow?d.scrollLeft:d.offset.left,d=d.width,h=a.left-e.collisionPosition.marginLeft,f=c-h,n=h+e.collisionWidth-d-c;e.collisionWidth>d?0<f&&0>=n?(b=a.left+f+e.collisionWidth-d-c,a.left+=f-b):a.left=0<n&&0>=f?c:f>n?c+d-e.collisionWidth:c:0<f?a.left+=f:0<n?a.left-=n:a.left=g(a.left-h,a.left)},top:function(a,e){var b,d=e.within,d=d.isWindow?
d.scrollTop:d.offset.top,c=e.within.height,h=a.top-e.collisionPosition.marginTop,f=d-h,n=h+e.collisionHeight-c-d;e.collisionHeight>c?0<f&&0>=n?(b=a.top+f+e.collisionHeight-c-d,a.top+=f-b):a.top=0<n&&0>=f?d:f>n?d+c-e.collisionHeight:d:0<f?a.top+=f:0<n?a.top-=n:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var d,c,h=b.within,f=h.offset.left+h.scrollLeft,g=h.width,h=h.isWindow?h.scrollLeft:h.offset.left,n=a.left-b.collisionPosition.marginLeft,k=n-h,n=n+b.collisionWidth-g-h,m="left"===b.my[0]?-b.elemWidth:
"right"===b.my[0]?b.elemWidth:0,p="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,q=-2*b.offset[0];0>k?(d=a.left+m+p+q+b.collisionWidth-g-f,(0>d||e(k)>d)&&(a.left+=m+p+q)):0<n&&(c=a.left-b.collisionPosition.marginLeft+m+p+q-h,(0<c||n>e(c))&&(a.left+=m+p+q))},top:function(a,b){var d,c,h=b.within,f=h.offset.top+h.scrollTop,g=h.height,h=h.isWindow?h.scrollTop:h.offset.top,n=a.top-b.collisionPosition.marginTop,k=n-h,n=n+b.collisionHeight-g-h,m="top"===b.my[1]?-b.elemHeight:"bottom"===
b.my[1]?b.elemHeight:0,p="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,q=-2*b.offset[1];0>k?(c=a.top+m+p+q+b.collisionHeight-g-f,a.top+m+p+q>k&&(0>c||e(k)>c)&&(a.top+=m+p+q)):0<n&&(d=a.top-b.collisionPosition.marginTop+m+p+q-h,a.top+m+p+q>n&&(0<d||n>e(d))&&(a.top+=m+p+q))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,
arguments)}}};(function(){var e,b,d,c,h=document.getElementsByTagName("body")[0];d=document.createElement("div");e=document.createElement(h?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(c in b)e.style[c]=b[c];e.appendChild(d);b=h||document.documentElement;b.insertBefore(e,b.firstChild);d.style.cssText="position: absolute; left: 10.7432222px;";d=a(d).offset().left;a.support.offsetFractions=
10<d&&11>d;e.innerHTML="";b.removeChild(e)})()})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||
/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative");this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||0<a(b.target).closest(".ui-resizable-handle").length?
!1:(this.handle=this._getHandle(b),this.handle?(a(!0===c.iframeFix?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),
a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},
parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),!1===this._trigger("start",b)?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,
c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(!1===this._trigger("drag",b,d))return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&
a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",b)&&c._clear()}):!1!==this._trigger("stop",b)&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?
!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute"),b},_adjustOffsetFromHelper:function(b){"string"==
typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&
a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();
return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,f=this.options;return f.containment?"window"===f.containment?(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top],void 0):"document"===f.containment?(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):f.containment.constructor===Array?(this.containment=f.containment,void 0):("parent"===f.containment&&(f.containment=this.helper[0].parentNode),c=a(f.containment),d=c[0],d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),
10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-
this.margins.top-this.margins.bottom],this.relative_container=c),void 0):(this.containment=null,void 0)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,f="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:f.scrollTop(),left:f.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===
this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,f,g,e=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,k=b.pageX,m=b.pageY;return this.offset.scroll||(this.offset.scroll=
{top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(k=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(m=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(k=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>
c[3]&&(m=c[3]+this.offset.click.top)),e.grid&&(f=e.grid[1]?this.originalPageY+Math.round((m-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY,m=c?f-this.offset.click.top>=c[1]||f-this.offset.click.top>c[3]?f:f-this.offset.click.top>=c[1]?f-e.grid[1]:f+e.grid[1]:f,g=e.grid[0]?this.originalPageX+Math.round((k-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX,k=c?g-this.offset.click.left>=c[0]||g-this.offset.click.left>c[2]?g:g-this.offset.click.left>=c[0]?g-e.grid[0]:g+e.grid[0]:
g)),{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:k-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=
!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),f=d.options,g=a.extend({},c,{item:d.element});d.sortables=
[];a(f.connectToSortable).each(function(){var e=a.data(this,"ui-sortable");e&&!e.options.disabled&&(d.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",b,g))})},stop:function(b,c){var d=a(this).data("ui-draggable"),f=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),
this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,f))})},drag:function(b,c){var d=a(this).data("ui-draggable"),f=this;a.each(d.sortables,function(){var g=!1,e=this;this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;this.instance.offset.click=d.offset.click;this.instance._intersectsWith(this.instance.containerCache)&&
(g=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==e&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(e.instance.element[0],this.instance.element[0])&&(g=!1),g}));g?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(f).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=
this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=
this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),
d._trigger("fromSortable",b),d.dropped=!1)})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor"));b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),f=a(this).data("ui-draggable").options;d.css("opacity")&&(f._opacity=d.css("opacity"));d.css("opacity",
f.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,f=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+
c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=f=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=f=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=
f=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<
d.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed))));!1!==f&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var d=a(this),c=d.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),
top:c.top,left:c.left})})},drag:function(b,c){var d,f,g,e,h,k,m,q,p,u,n=a(this).data("ui-draggable"),v=n.options,y=v.snapTolerance,t=c.offset.left,B=t+n.helperProportions.width,C=c.offset.top,z=C+n.helperProportions.height;for(p=n.snapElements.length-1;0<=p;p--)h=n.snapElements[p].left,k=h+n.snapElements[p].width,m=n.snapElements[p].top,q=m+n.snapElements[p].height,h-y>B||t>k+y||m-y>z||C>q+y||!a.contains(n.snapElements[p].item.ownerDocument,n.snapElements[p].item)?(n.snapElements[p].snapping&&n.options.snap.release&&
n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=!1):("inner"!==v.snapMode&&(d=y>=Math.abs(m-z),f=y>=Math.abs(q-C),g=y>=Math.abs(h-B),e=y>=Math.abs(k-t),d&&(c.position.top=n._convertPositionTo("relative",{top:m-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.top=n._convertPositionTo("relative",{top:q,left:0}).top-n.margins.top),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-
n.margins.left),e&&(c.position.left=n._convertPositionTo("relative",{top:0,left:k}).left-n.margins.left)),u=d||f||g||e,"outer"!==v.snapMode&&(d=y>=Math.abs(m-C),f=y>=Math.abs(q-z),g=y>=Math.abs(h-t),e=y>=Math.abs(k-B),d&&(c.position.top=n._convertPositionTo("relative",{top:m,left:0}).top-n.margins.top),f&&(c.position.top=n._convertPositionTo("relative",{top:q-n.helperProportions.height,left:0}).top-n.margins.top),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),
e&&(c.position.left=n._convertPositionTo("relative",{top:0,left:k-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[p].snapping&&(d||f||g||e||u)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[p].item})),n.snapElements[p].snapping=d||f||g||e||u)}});a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,c=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||
0)-(parseInt(a(c).css("zIndex"),10)||0)});c.length&&(b=parseInt(a(c[0]).css("zIndex"),10)||0,a(c).each(function(d){a(this).css("zIndex",b+d)}),this.css("zIndex",b+c.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),f=a(this).data("ui-draggable").options;d.css("zIndex")&&(f._zIndex=d.css("zIndex"));d.css("zIndex",f.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,c=b.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(c)?c:function(a){return a.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=
a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)});a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=
a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),
this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,f=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=
a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(f=!0,!1):void 0}),f?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),
this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var f,g,e=(a.positionAbs||a.position.absolute).left,h=e+a.helperProportions.width,k=(a.positionAbs||a.position.absolute).top,m=k+a.helperProportions.height,q=c.offset.left,p=q+c.proportions.width,u=c.offset.top,n=u+c.proportions.height;switch(d){case "fit":return e>=q&&p>=h&&k>=u&&n>=m;case "intersect":return e+
a.helperProportions.width/2>q&&p>h-a.helperProportions.width/2&&k+a.helperProportions.height/2>u&&n>m-a.helperProportions.height/2;case "pointer":return f=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,g=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,g>u&&u+c.proportions.height>g&&f>q&&q+c.proportions.width>f;case "touch":return(k>=u&&n>=k||m>=u&&n>=m||u>k&&m>n)&&(e>=q&&p>=e||h>=q&&p>=h||q>e&&h>p);default:return!1}};a.ui.ddmanager={current:null,
droppables:{"default":[]},prepareOffsets:function(b,c){var d,f,g=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();d=0;a:for(;g.length>d;d++)if(!(g[d].options.disabled||b&&!g[d].accept.call(g[d].element[0],b.currentItem||b.element))){for(f=0;h.length>f;f++)if(h[f]===g[d].element[0]){g[d].proportions.height=0;continue a}g[d].visible="none"!==g[d].element.css("display");g[d].visible&&("mousedown"===e&&g[d]._activate.call(g[d],
c),g[d].offset=g[d].element.offset(),g[d].proportions={width:g[d].element[0].offsetWidth,height:g[d].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,
c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,f,g,e=a.ui.intersect(b,this,this.options.tolerance);(e=!e&&this.isover?"isout":e&&!this.isover?"isover":null)&&(this.options.greedy&&
(f=this.options.scope,g=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===f}),g.length&&(d=a.data(g[0],"ui-droppable"),d.greedyChild="isover"===e)),d&&"isover"===e&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[e]=!0,this["isout"===e?"isover":"isout"]=!1,this["isover"===e?"_over":"_out"].call(this,c),d&&"isout"===e&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable");
b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);
(function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,g,e,h,k=this,m=this.options;if(this.element.addClass("ui-resizable"),
a.extend(this,{_aspectRatio:!!m.aspectRatio,aspectRatio:m.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:m.helper||m.ghost||m.animate?m.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),
left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),
this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=m.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),
this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)g=a.trim(b[c]),h="ui-resizable-"+g,e=a("<div class='ui-resizable-handle "+h+"'></div>"),e.css({zIndex:m.zIndex}),"se"===g&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[g]=".ui-resizable-"+g,this.element.append(e);this._renderAxis=function(e){var b,d,c,h;e=e||this.element;for(b in this.handles)this.handles[b].constructor===
String&&(this.handles[b]=a(this.handles[b],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[b],this.element),h=/sw|ne|nw|se|n|s/.test(b)?d.outerHeight():d.outerWidth(),c=["padding",/ne|nw|n/.test(b)?"Top":/se|sw|s/.test(b)?"Bottom":/^e$/.test(b)?"Right":"Left"].join(""),e.css(c,h),this._proportionallyResize()),a(this.handles[b]).length};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){k.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=e&&e[1]?e[1]:"se")});m.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){m.disabled||(a(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){m.disabled||k.resizing||(a(this).addClass("ui-resizable-autohide"),k._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();
var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),
this},_mouseCapture:function(b){var c,g,e=!1;for(c in this.handles)g=a(this.handles[c])[0],(g===b.target||a.contains(g,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(d){var c,g,e,h=this.options,k=this.element.position(),m=this.element;return this.resizing=!0,/absolute/.test(m.css("position"))?m.css({position:"absolute",top:m.css("top"),left:m.css("left")}):m.is(".ui-draggable")&&m.css({position:"absolute",top:k.top,left:k.left}),this._renderProxy(),c=b(this.helper.css("left")),
g=b(this.helper.css("top")),h.containment&&(c+=a(h.containment).scrollLeft()||0,g+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:c,top:g},this.size=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalSize=this._helper?{width:m.outerWidth(),height:m.outerHeight()}:{width:m.width(),height:m.height()},this.originalPosition={left:c,top:g},this.sizeDiff={width:m.outerWidth()-m.width(),height:m.outerHeight()-
m.height()},this.originalMousePosition={left:d.pageX,top:d.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===e?this.axis+"-resize":e),m.addClass("ui-resizable-resizing"),this._propagate("start",d),!0},_mouseDrag:function(b){var c,g=this.helper,e={},h=this.originalMousePosition,k=this.position.top,m=this.position.left,q=this.size.width,p=this.size.height,
u=b.pageX-h.left||0,h=b.pageY-h.top||0,n=this._change[this.axis];return n?(c=n.apply(this,[b,u,h]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==k&&(e.top=this.position.top+"px"),this.position.left!==m&&(e.left=this.position.left+"px"),this.size.width!==q&&(e.width=this.size.width+"px"),this.size.height!==p&&(e.height=this.size.height+"px"),g.css(e),
!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,g,e,h,k,m,q,p=this.options;return this._helper&&(c=this._proportionallyResizeElements,g=c.length&&/textarea/i.test(c[0].nodeName),e=g&&a.ui.hasScroll(c[0],"left")?0:this.sizeDiff.height,h=g?0:this.sizeDiff.width,k={width:this.helper.width()-h,height:this.helper.height()-e},m=parseInt(this.element.css("left"),
10)+(this.position.left-this.originalPosition.left)||null,q=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,p.animate||this.element.css(a.extend(k,{top:q,left:m})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!p.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,
g,e,h,k;k=this.options;k={minWidth:c(k.minWidth)?k.minWidth:0,maxWidth:c(k.maxWidth)?k.maxWidth:1/0,minHeight:c(k.minHeight)?k.minHeight:0,maxHeight:c(k.maxHeight)?k.maxHeight:1/0};(this._aspectRatio||a)&&(b=k.minHeight*this.aspectRatio,e=k.minWidth/this.aspectRatio,g=k.maxHeight*this.aspectRatio,h=k.maxWidth/this.aspectRatio,b>k.minWidth&&(k.minWidth=b),e>k.minHeight&&(k.minHeight=e),k.maxWidth>g&&(k.maxWidth=g),k.maxHeight>h&&(k.maxHeight=h));this._vBoundaries=k},_updateCache:function(a){this.offset=
this.helper.offset();c(a.left)&&(this.position.left=a.left);c(a.top)&&(this.position.top=a.top);c(a.height)&&(this.size.height=a.height);c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,g=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(g.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(g.height-a.height),a.left=b.left+(g.width-a.width)),a},_respectSize:function(a){var b=
this._vBoundaries,g=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,h=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,k=c(a.width)&&b.minWidth&&b.minWidth>a.width,m=c(a.height)&&b.minHeight&&b.minHeight>a.height,q=this.originalPosition.left+this.originalSize.width,p=this.position.top+this.size.height,u=/sw|nw|w/.test(g),g=/nw|ne|n/.test(g);return k&&(a.width=b.minWidth),m&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),h&&(a.height=b.maxHeight),k&&u&&(a.left=q-b.minWidth),e&&u&&(a.left=q-b.maxWidth),
m&&g&&(a.top=p-b.minHeight),h&&g&&(a.top=p-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,e,h,k=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(h=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],
e=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")],b=0;c.length>b;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(e[b],10)||0);h.css({height:k.height()-this.borderDif[0]-this.borderDif[2]||0,width:k.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+
c}},se:function(b,c,g){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,g]))},sw:function(b,c,g){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,g]))},ne:function(b,c,g){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,g]))},nw:function(b,c,g){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,g]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);
"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),g=c.options,e=c._proportionallyResizeElements,h=e.length&&/textarea/i.test(e[0].nodeName),k=h&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=
{width:c.size.width-(h?0:c.sizeDiff.width),height:c.size.height-k},k=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,m=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(h,m&&k?{top:m,left:k}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var h={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};e&&e.length&&a(e[0]).css({width:h.width,height:h.height});c._updateCache(h);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var d,c,g,e,h,k,m,q=a(this).data("ui-resizable"),p=q.element,u=q.options.containment;(p=u instanceof a?u.get(0):/parent/.test(u)?p.parent().get(0):u)&&(q.containerElement=a(p),/document/.test(u)||u===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(d=a(p),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){c[a]=b(d.css("padding"+e))}),q.containerOffset=d.offset(),q.containerPosition=d.position(),q.containerSize={height:d.innerHeight()-c[3],width:d.innerWidth()-c[1]},g=q.containerOffset,e=q.containerSize.height,h=q.containerSize.width,k=a.ui.hasScroll(p,"left")?p.scrollWidth:h,m=a.ui.hasScroll(p)?p.scrollHeight:e,q.parentData={element:p,left:g.left,top:g.top,width:k,
height:m}))},resize:function(b){var c,g,e,h,k=a(this).data("ui-resizable");c=k.options;g=k.containerOffset;e=k.position;b=k._aspectRatio||b.shiftKey;h={top:0,left:0};var m=k.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(h=g);e.left<(k._helper?g.left:0)&&(k.size.width+=k._helper?k.position.left-g.left:k.position.left-h.left,b&&(k.size.height=k.size.width/k.aspectRatio),k.position.left=c.helper?g.left:0);e.top<(k._helper?g.top:0)&&(k.size.height+=k._helper?k.position.top-g.top:
k.position.top,b&&(k.size.width=k.size.height*k.aspectRatio),k.position.top=k._helper?g.top:0);k.offset.left=k.parentData.left+k.position.left;k.offset.top=k.parentData.top+k.position.top;c=Math.abs(k.offset.left-h.left+k.sizeDiff.width);g=Math.abs((k._helper?k.offset.top-h.top:k.offset.top-g.top)+k.sizeDiff.height);e=k.containerElement.get(0)===k.element.parent().get(0);h=/relative|absolute/.test(k.containerElement.css("position"));e&&h&&(c-=k.parentData.left);c+k.size.width>=k.parentData.width&&
(k.size.width=k.parentData.width-c,b&&(k.size.height=k.size.width/k.aspectRatio));g+k.size.height>=k.parentData.height&&(k.size.height=k.parentData.height-g,b&&(k.size.width=k.size.height*k.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,g=b.containerOffset,e=b.containerPosition,h=b.containerElement,k=a(b.helper),m=k.offset(),q=k.outerWidth()-b.sizeDiff.width,k=k.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:m.left-
e.left-g.left,width:q,height:k});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:m.left-e.left-g.left,width:q,height:k})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable").options,c=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof b.alsoResize||b.alsoResize.parentNode?
c(b.alsoResize):b.alsoResize.length?(b.alsoResize=b.alsoResize[0],c(b.alsoResize)):a.each(b.alsoResize,function(a){c(a)})},resize:function(b,c){var g=a(this).data("ui-resizable"),e=g.options,h=g.originalSize,k=g.originalPosition,m={height:g.size.height-h.height||0,width:g.size.width-h.width||0,top:g.position.top-k.top||0,left:g.position.left-k.left||0},q=function(b,e){a(b).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),h={},g=e&&e.length?e:b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var e=(d[b]||0)+(m[b]||0);e&&0<=e&&(h[b]=e||null)});b.css(h)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?q(e.alsoResize):a.each(e.alsoResize,function(a,b){q(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,g=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",
height:g.height,width:g.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),
c=b.options,g=b.size,e=b.originalSize,h=b.originalPosition,k=b.axis,m="number"==typeof c.grid?[c.grid,c.grid]:c.grid,q=m[0]||1,p=m[1]||1,u=Math.round((g.width-e.width)/q)*q,g=Math.round((g.height-e.height)/p)*p,n=e.width+u,e=e.height+g,v=c.maxWidth&&n>c.maxWidth,y=c.maxHeight&&e>c.maxHeight,t=c.minWidth&&c.minWidth>n,B=c.minHeight&&c.minHeight>e;c.grid=m;t&&(n+=q);B&&(e+=p);v&&(n-=q);y&&(e-=p);/^(se|s|e)$/.test(k)?(b.size.width=n,b.size.height=e):/^(ne)$/.test(k)?(b.size.width=n,b.size.height=e,b.position.top=
h.top-g):/^(sw)$/.test(k)?(b.size.width=n,b.size.height=e,b.position.left=h.left-u):(b.size.width=n,b.size.height=e,b.position.top=h.top-g,b.position.left=h.left-u)}})})(jQuery);
(function(a){var b,c,d,f,g=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},e=function(b){var e=b.name,c=b.form,d=a([]);return e&&(e=e.replace(/'/g,"\\'"),d=c?a(c).find("[name='"+e+"']"):a("[name='"+e+"']",b.ownerDocument).filter(function(){return!this.form})),d};a.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,g);"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var h=this,k=this.options,m="checkbox"===this.type||"radio"===this.type,q=m?"":"ui-state-active";null===k.label&&(k.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){k.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){k.disabled||a(this).removeClass(q)}).bind("click"+this.eventNamespace,function(a){k.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this.element.bind("focus"+this.eventNamespace,function(){h.buttonElement.addClass("ui-state-focus")}).bind("blur"+
this.eventNamespace,function(){h.buttonElement.removeClass("ui-state-focus")});m&&(this.element.bind("change"+this.eventNamespace,function(){f||h.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){k.disabled||(f=!1,c=a.pageX,d=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){k.disabled||(c!==a.pageX||d!==a.pageY)&&(f=!0)}));"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return k.disabled||f?!1:void 0}):"radio"===this.type?
this.buttonElement.bind("click"+this.eventNamespace,function(){if(k.disabled||f)return!1;a(this).addClass("ui-state-active");h.buttonElement.attr("aria-pressed","true");var b=h.element[0];e(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return k.disabled?!1:(a(this).addClass("ui-state-active"),b=this,h.document.one("mouseup",function(){b=null}),void 0)}).bind("mouseup"+
this.eventNamespace,function(){return k.disabled?!1:(a(this).removeClass("ui-state-active"),void 0)}).bind("keydown"+this.eventNamespace,function(b){return k.disabled?!1:((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"),void 0)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));
this._setOption("disabled",k.disabled);this._resetButton()},_determineButtonType:function(){var a,b,e;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button";"checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||
(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),e=this.element.is(":checked"),e&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",e)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(b?this.element.prop("disabled",!0):this.element.prop("disabled",!1),void 0):(this._resetButton(),void 0)},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?e(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
"true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),void 0;var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
e=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),c=this.options.icons,d=c.primary&&c.secondary,f=[];c.primary||c.secondary?(this.options.text&&f.push("ui-button-text-icon"+(d?"s":c.primary?"-primary":"-secondary")),c.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+c.primary+"'></span>"),c.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+c.secondary+"'></span>"),this.options.text||(f.push(d?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(e)))):f.push("ui-button-text-only");b.addClass(f.join(" "))}});a.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})})(jQuery);
(function(a,b){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";
this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",
firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,
onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,this.regional[""]);this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",function(){a.datepicker._isDisabledDatepicker(g.inline?b.parent()[0]:g.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),
-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function f(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var g;a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return f(this._defaults,a||{}),this},_attachDatepicker:function(b,
c){var d,f,g;d=b.nodeName.toLowerCase();f="div"===d||"span"===d;b.id||(this.uuid+=1,b.id="dp"+this.uuid);g=this._newInst(a(b),f);g.settings=a.extend({},c||{});"input"===d?this._connectDatepicker(b,g):f&&this._inlineDatepicker(b,g)},_newInst:function(b,c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):
this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,f,g;d=this._get(c,"appendText");var p=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a("<span class='"+this._appendClass+
"'>"+d+"</span>"),b[p?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!==d&&"both"!==d||b.focus(this._showDatepicker);"button"!==d&&"both"!==d||(f=this._get(c,"buttonText"),g=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:f,title:f}):
f)),b[p?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,f,g=new Date(2009,11,20),u=this._get(a,"dateFormat");u.match(/[DM]/)&&(b=function(a){for(f=
d=c=0;a.length>f;f++)a[f].length>c&&(c=a[f].length,d=f);return d},g.setMonth(b(this._get(a,u.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(b(this._get(a,u.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay()));a.input.attr("size",this._formatDate(a,g).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),
c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,g,q){var p,u,n,v,y;b=this._dialogInst;return b||(this.uuid+=1,p="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+p+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b)),f(b.settings,
g||{}),c=c&&c.constructor===Date?this._formatDate(b,c):c,this._dialogInput.val(c),this._pos=q?q.length?q:[q.pageX,q.pageY]:null,this._pos||(u=document.documentElement.clientWidth,n=document.documentElement.clientHeight,v=document.documentElement.scrollLeft||document.body.scrollLeft,y=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[u/2-100+v,n/2-150+y]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),b.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),
this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],"datepicker",b),this},_destroyDatepicker:function(b){var c,d=a(b),f=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),"input"===c?(f.append.remove(),f.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):
("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=f.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,f=a(b),g=a.data(b,"datepicker");f.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=f.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",
!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(c){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(e,c,d){var g,q,p,u,n=this._getInst(e);return 2===arguments.length&&"string"==
typeof c?"defaults"===c?a.extend({},a.datepicker._defaults):n?"all"===c?a.extend({},n.settings):this._get(n,c):null:(g=c||{},"string"==typeof c&&(g={},g[c]=d),n&&(this._curInst===n&&this._hideDatepicker(),q=this._getDateDatepicker(e,!0),p=this._getMinMaxDate(n,"min"),u=this._getMinMaxDate(n,"max"),f(n.settings,g),null!==p&&g.dateFormat!==b&&g.minDate===b&&(n.settings.minDate=this._formatDate(n,p)),null!==u&&g.dateFormat!==b&&g.maxDate===b&&(n.settings.maxDate=this._formatDate(n,u)),"disabled"in g&&
(g.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(a(e),n),this._autoSize(n),this._setDate(n,q),this._updateAlternate(n),this._updateDatepicker(n)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=
this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,f,g=a.datepicker._getInst(b.target),p=!0,u=g.dpDiv.is(".ui-datepicker-rtl");if(g._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();p=!1;break;case 13:return f=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",g.dpDiv),f[0]&&a.datepicker._selectDay(b.target,g.selectedMonth,g.selectedYear,f[0]),c=a.datepicker._get(g,
"onSelect"),c?(d=a.datepicker._formatDate(g),c.apply(g.input?g.input[0]:null,[d,g])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);
p=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);p=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,u?1:-1,"D");p=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");p=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&
a.datepicker._adjustDate(b.target,u?-1:1,"D");p=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");p=b.ctrlKey||b.metaKey;break;default:p=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):p=!1;p&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(e){var c,d,f=a.datepicker._getInst(e.target);
return a.datepicker._get(f,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),d=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">d||!c||-1<c.indexOf(d)):b},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))&&(a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),
a.datepicker._updateDatepicker(b))}catch(d){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,g,q,p,u;c=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));d=(d=a.datepicker._get(c,"beforeShow"))?
d.apply(b,[b,c]):{};!1!==d&&(f(c.settings,d),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),q={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),
a.datepicker._updateDatepicker(c),q=a.datepicker._checkOffset(c,q,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:q.left+"px",top:q.top+"px"}),c.inline||(p=a.datepicker._get(c,"showAnim"),u=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[p]?c.dpDiv.show(p,a.datepicker._get(c,"showOptions"),u):c.dpDiv[p||"show"](p?u:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),
a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4;g=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),f=d[1];b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<f&&b.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,
"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var f=b.dpDiv.outerWidth(),
g=b.dpDiv.outerHeight(),p=b.input?b.input.outerWidth():0,u=b.input?b.input.outerHeight():0,n=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),v=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?f-p:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+u?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+f>n&&n>f?Math.abs(c.left+f-n):0),c.top-=Math.min(c.top,c.top+
g>v&&v>g?Math.abs(g+u):0),c},_findPos:function(b){for(var c,d=this._getInst(b),d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[d?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,f,g,p=this._curInst;!p||b&&p!==a.data(b,"datepicker")||this._datepickerShowing&&(c=this._get(p,"showAnim"),d=this._get(p,"duration"),f=function(){a.datepicker._tidyDialog(p)},a.effects&&(a.effects.effect[c]||a.effects[c])?
p.dpDiv.hide(c,a.datepicker._get(p,"showOptions"),d,f):p.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,f),c||f(),this._datepickerShowing=!1,g=this._get(p,"onClose"),g&&g.apply(p.input?p.input[0]:null,[p.input?p.input.val():"",p]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(b[0].id!==a.datepicker._mainDivId&&0===b.parents("#"+a.datepicker._mainDivId).length&&!(b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){b=a(b);var f=
this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c;b=a(b);var d=this._getInst(b[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,d.drawYear=d.selectedYear=d.currentYear):(c=new Date,d.selectedDay=c.getDate(),d.drawMonth=d.selectedMonth=c.getMonth(),d.drawYear=d.selectedYear=c.getFullYear());this._notifyChange(d);
this._adjustDate(b)},_selectMonthYear:function(b,c,d){b=a(b);var f=this._getInst(b[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(f);this._adjustDate(b)},_selectDay:function(b,c,d,f){var g,p=a(b);a(f).hasClass(this._unselectableClass)||this._isDisabledDatepicker(p[0])||(g=this._getInst(p[0]),g.selectedDay=g.currentDay=a("a",f).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(b,
this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){var d;d=a(b);var f=this._getInst(d[0]);c=null!=c?c:this._formatDate(f);f.input&&f.input.val(c);this._updateAlternate(f);(d=this._get(f,"onSelect"))?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change");f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=
null)},_updateAlternate:function(b){var c,d,f,g=this._get(b,"altField");g&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),f=this.formatDate(c,d,this._getFormatConfig(b)),a(g).each(function(){a(this).val(f)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b;a=new Date(a.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),b=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(e,c,
d){if(null==e||null==c)throw"Invalid arguments";if(c="object"==typeof c?""+c:c+"",""===c)return null;var f,g,p,u,n=0,v=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,v="string"!=typeof v?v:(new Date).getFullYear()%100+parseInt(v,10),y=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,t=(d?d.dayNames:null)||this._defaults.dayNames,B=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort;d=(d?d.monthNames:null)||this._defaults.monthNames;var C=-1,z=-1,A=-1,E=-1,I=!1,O=function(a){a=
e.length>f+1&&e.charAt(f+1)===a;return a&&f++,a},J=function(a){var b=O(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=c.substring(n).match(a);if(!a)throw"Missing number at position "+n;return n+=a[0].length,parseInt(a[0],10)},V=function(e,d,f){var g=-1;e=a.map(O(e)?f:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(e,function(a,e){var d=e[1];return c.substr(n,d.length).toLowerCase()===d.toLowerCase()?(g=e[0],n+=d.length,
!1):b}),-1!==g)return g+1;throw"Unknown name at position "+n;},D=function(){if(c.charAt(n)!==e.charAt(f))throw"Unexpected literal at position "+n;n++};for(f=0;e.length>f;f++)if(I)"'"!==e.charAt(f)||O("'")?D():I=!1;else switch(e.charAt(f)){case "d":A=J("d");break;case "D":V("D",y,t);break;case "o":E=J("o");break;case "m":z=J("m");break;case "M":z=V("M",B,d);break;case "y":C=J("y");break;case "@":u=new Date(J("@"));C=u.getFullYear();z=u.getMonth()+1;A=u.getDate();break;case "!":u=new Date((J("!")-this._ticksTo1970)/
1E4);C=u.getFullYear();z=u.getMonth()+1;A=u.getDate();break;case "'":O("'")?D():I=!0;break;default:D()}if(c.length>n&&(p=c.substr(n),!/^\s+/.test(p)))throw"Extra/unparsed characters found in date: "+p;if(-1===C?C=(new Date).getFullYear():100>C&&(C+=(new Date).getFullYear()-(new Date).getFullYear()%100+(v>=C?0:-100)),-1<E)for(z=1,A=E;!(g=this._getDaysInMonth(C,z-1),g>=A);)z++,A-=g;if(u=this._daylightSavingAdjust(new Date(C,z-1,A)),u.getFullYear()!==C||u.getMonth()+1!==z||u.getDate()!==A)throw"Invalid date";
return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,g=(c?c.dayNames:null)||this._defaults.dayNames,u=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;
c=(c?c.monthNames:null)||this._defaults.monthNames;var n=function(b){b=a.length>d+1&&a.charAt(d+1)===b;return b&&d++,b},v=function(a,b,e){b=""+b;if(n(a))for(;e>b.length;)b="0"+b;return b},y=function(a,b,e,c){return n(a)?c[b]:e[b]},t="",B=!1;if(b)for(d=0;a.length>d;d++)if(B)"'"!==a.charAt(d)||n("'")?t+=a.charAt(d):B=!1;else switch(a.charAt(d)){case "d":t+=v("d",b.getDate(),2);break;case "D":t+=y("D",b.getDay(),f,g);break;case "o":t+=v("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-
(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":t+=v("m",b.getMonth()+1,2);break;case "M":t+=y("M",b.getMonth(),u,c);break;case "y":t+=n("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":t+=b.getTime();break;case "!":t+=1E4*b.getTime()+this._ticksTo1970;break;case "'":n("'")?t+="'":B=!0;break;default:t+=a.charAt(d)}return t},_possibleChars:function(a){var b,c="",d=!1,f=function(c){c=a.length>b+1&&a.charAt(b+1)===c;return c&&b++,c};for(b=0;a.length>
b;b++)if(d)"'"!==a.charAt(b)||f("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":f("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),g=f,u=this._getFormatConfig(a);
try{g=this.parseDate(c,d,u)||f}catch(n){d=b?"":d}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=d?g.getDate():0;a.currentMonth=d?g.getMonth():0;a.currentYear=d?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var f=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},g=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,
"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var f=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=f.getFullYear(),h=f.getMonth(),f=f.getDate(),k=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,m=k.exec(c);m;){switch(m[2]||"d"){case "d":case "D":f+=parseInt(m[1],10);break;case "w":case "W":f+=7*parseInt(m[1],10);break;case "m":case "M":h+=parseInt(m[1],10);f=Math.min(f,a.datepicker._getDaysInMonth(g,h));break;case "y":case "Y":g+=parseInt(m[1],10),f=Math.min(f,a.datepicker._getDaysInMonth(g,
h))}m=k.exec(c)}return new Date(g,h,f)};c=null==c||""===c?d:"string"==typeof c?g(c):"number"==typeof c?isNaN(c)?d:f(c):new Date(c.getTime());return c=c&&"Invalid Date"==""+c?d:c,c&&(c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0)),this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){return a?(a.setHours(12<a.getHours()?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,f=a.selectedMonth,g=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));
a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();f===a.selectedMonth&&g===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),
d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,
this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,f,g,u,n,v,y,t,B,C,z,A,E,I,O,J,V,D,R,K,G,s,x,w,r,P=new Date,P=this._daylightSavingAdjust(new Date(P.getFullYear(),P.getMonth(),P.getDate())),H=this._get(a,"isRTL");u=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");g=this._get(a,"navigationAsDateFormat");var Q=this._getNumberOfMonths(a),M=this._get(a,"showCurrentAtPos");
f=this._get(a,"stepMonths");var X=1!==Q[0]||1!==Q[1],F=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),ga=this._getMinMaxDate(a,"min"),da=this._getMinMaxDate(a,"max"),M=a.drawMonth-M,Y=a.drawYear;if(0>M&&(M+=12,Y--),da)for(b=this._daylightSavingAdjust(new Date(da.getFullYear(),da.getMonth()-Q[0]*Q[1]+1,da.getDate())),b=ga&&ga>b?ga:b;this._daylightSavingAdjust(new Date(Y,M,1))>b;)M--,0>M&&(M=11,Y--);a.drawMonth=M;a.drawYear=Y;b=this._get(a,
"prevText");b=g?this.formatDate(b,this._daylightSavingAdjust(new Date(Y,M-f,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,-1,Y,M)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");
c=g?this.formatDate(c,this._daylightSavingAdjust(new Date(Y,M+f,1)),this._getFormatConfig(a)):c;d=this._canAdjustMonth(a,1,Y,M)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+c+"</span></a>";f=this._get(a,"currentText");c=this._get(a,
"gotoCurrent")&&a.currentDay?F:P;f=g?this.formatDate(f,c,this._getFormatConfig(a)):f;g=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";u=u?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?g:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+
f+"</button>":"")+(H?"":g)+"</div>":"";g=parseInt(this._get(a,"firstDay"),10);g=isNaN(g)?0:g;f=this._get(a,"showWeek");c=this._get(a,"dayNames");n=this._get(a,"dayNamesMin");v=this._get(a,"monthNames");y=this._get(a,"monthNamesShort");t=this._get(a,"beforeShowDay");B=this._get(a,"showOtherMonths");C=this._get(a,"selectOtherMonths");z=this._getDefaultDate(a);A="";for(I=0;Q[0]>I;I++){O="";this.maxRows=4;for(J=0;Q[1]>J;J++){if(V=this._daylightSavingAdjust(new Date(Y,M,a.selectedDay)),E=" ui-corner-all",
D="",X){if(D+="<div class='ui-datepicker-group",1<Q[1])switch(J){case 0:D+=" ui-datepicker-group-first";E=" ui-corner-"+(H?"right":"left");break;case Q[1]-1:D+=" ui-datepicker-group-last";E=" ui-corner-"+(H?"left":"right");break;default:D+=" ui-datepicker-group-middle",E=""}D+="'>"}D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+E+"'>"+(/all|left/.test(E)&&0===I?H?d:b:"")+(/all|right/.test(E)&&0===I?H?b:d:"")+this._generateMonthYearHeader(a,M,Y,ga,da,0<I||0<J,v,y)+"</div><table class='ui-datepicker-calendar'><thead><tr>";
R=f?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(E=0;7>E;E++)K=(E+g)%7,R+="<th"+(5<=(E+g+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[K]+"'>"+n[K]+"</span></th>";D+=R+"</tr></thead><tbody>";R=this._getDaysInMonth(Y,M);Y===a.selectedYear&&M===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,R));E=(this._getFirstDayOfMonth(Y,M)-g+7)%7;R=Math.ceil((E+R)/7);this.maxRows=R=X?this.maxRows>R?this.maxRows:R:R;K=this._daylightSavingAdjust(new Date(Y,
M,1-E));for(G=0;R>G;G++){D+="<tr>";s=f?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(K)+"</td>":"";for(E=0;7>E;E++)x=t?t.apply(a.input?a.input[0]:null,[K]):[!0,""],r=(w=K.getMonth()!==M)&&!C||!x[0]||ga&&ga>K||da&&K>da,s+="<td class='"+(5<=(E+g+6)%7?" ui-datepicker-week-end":"")+(w?" ui-datepicker-other-month":"")+(K.getTime()===V.getTime()&&M===a.selectedMonth&&a._keyEvent||z.getTime()===K.getTime()&&z.getTime()===V.getTime()?" "+this._dayOverClass:"")+(r?" "+this._unselectableClass+
" ui-state-disabled":"")+(w&&!B?"":" "+x[1]+(K.getTime()===F.getTime()?" "+this._currentClass:"")+(K.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(w&&!B||!x[2]?"":" title='"+x[2].replace(/'/g,"&#39;")+"'")+(r?"":" data-handler='selectDay' data-event='click' data-month='"+K.getMonth()+"' data-year='"+K.getFullYear()+"'")+">"+(w&&!B?"&#xa0;":r?"<span class='ui-state-default'>"+K.getDate()+"</span>":"<a class='ui-state-default"+(K.getTime()===P.getTime()?" ui-state-highlight":"")+(K.getTime()===
F.getTime()?" ui-state-active":"")+(w?" ui-priority-secondary":"")+"' href='#'>"+K.getDate()+"</a>")+"</td>",K.setDate(K.getDate()+1),K=this._daylightSavingAdjust(K);D+=s+"</tr>"}M++;11<M&&(M=0,Y++);D+="</tbody></table>"+(X?"</div>"+(0<Q[0]&&J===Q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");O+=D}A+=O}return A+=u,a._keyEvent=!1,A},_generateMonthYearHeader:function(a,b,c,d,f,g,u,n){var v,y,t,B=this._get(a,"changeMonth"),C=this._get(a,"changeYear"),z=this._get(a,"showMonthAfterYear"),
A="<div class='ui-datepicker-title'>",E="";if(g||!B)E+="<span class='ui-datepicker-month'>"+u[b]+"</span>";else{u=d&&d.getFullYear()===c;v=f&&f.getFullYear()===c;E+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(y=0;12>y;y++)(!u||y>=d.getMonth())&&(!v||f.getMonth()>=y)&&(E+="<option value='"+y+"'"+(y===b?" selected='selected'":"")+">"+n[y]+"</option>");E+="</select>"}if(z||(A+=E+(!g&&B&&C?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",g||!C)A+="<span class='ui-datepicker-year'>"+
c+"</span>";else{n=this._get(a,"yearRange").split(":");t=(new Date).getFullYear();u=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?t+parseInt(a,10):parseInt(a,10);return isNaN(a)?t:a};b=u(n[0]);n=Math.max(b,u(n[1]||""));b=d?Math.max(b,d.getFullYear()):b;n=f?Math.min(n,f.getFullYear()):n;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";n>=b;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":
"")+">"+b+"</option>";a.yearshtml+="</select>";A+=a.yearshtml;a.yearshtml=null}return A+=this._get(a,"yearSuffix"),z&&(A+=(!g&&B&&C?"":"&#xa0;")+E),A+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),f=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,f))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,f,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!==
c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),c=c&&c>b?c:b;return d&&c>d?d:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},
_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:f[0]*f[1]),1));return 0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth())),this._isInRange(a,c)},_isInRange:function(a,b){var c,d,f=this._getMinMaxDate(a,"min"),g=this._getMinMaxDate(a,"max"),u=null,n=null,v=
this._get(a,"yearRange");return v&&(c=v.split(":"),d=(new Date).getFullYear(),u=parseInt(c[0],10),n=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(u+=d),c[1].match(/[+\-].*/)&&(n+=d)),(!f||b.getTime()>=f.getTime())&&(!g||b.getTime()<=g.getTime())&&(!u||b.getFullYear()>=u)&&(!n||n>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,
"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;
a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+
b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))};a.datepicker=new c;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.10.3"})(jQuery);
(function(a){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;
0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};
this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=
this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},
widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._trigger("open"),void 0)},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable"));
a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,
role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),this.close(b),void 0;if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),g=c.filter(":first"),c=c.filter(":last");b.target!==c[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==g[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(c.focus(1),b.preventDefault()):(g.focus(1),
b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});
this.uiDialogTitlebarClose=a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");
a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?(this.uiDialog.removeClass("ui-dialog-buttons"),void 0):
(a.each(c,function(c,e){var f,k;e=a.isFunction(e)?{click:e,text:c}:e;e=a.extend({type:"button"},e);f=e.click;e.click=function(){f.apply(b.element[0],arguments)};k={icons:e.icons,text:e.showText};delete e.icons;delete e.showText;a("<button></button>",e).button(k).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,g=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(e,g){a(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",e,b(g))},drag:function(a,g){c._trigger("drag",a,b(g))},stop:function(e,h){g.position=[h.position.left-c.document.scrollLeft(),h.position.top-c.document.scrollTop()];a(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",e,b(h))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,
position:a.position,size:a.size}}var c=this,g=this.options,e=g.resizable,h=this.uiDialog.css("position"),e="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:g.maxWidth,maxHeight:g.maxHeight,minWidth:g.minWidth,minHeight:this._minHeight(),handles:e,start:function(e,g){a(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",e,b(g))},resize:function(a,e){c._trigger("resize",
a,b(e))},stop:function(e,h){g.height=a(this).height();g.width=a(this).width();a(this).removeClass("ui-dialog-resizing");c._unblockFrames();c._trigger("resizeStop",e,b(h))}}).css("position",h)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(d){var f=this,g=!1,e={};a.each(d,
function(a,d){f._setOption(a,d);a in b&&(g=!0);a in c&&(e[a]=d)});g&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",e)},_setOption:function(a,b){var c,e,h=this.uiDialog;"dialogClass"===a&&h.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===
a&&(c=h.is(":data(ui-draggable)"),c&&!b&&h.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(e=h.is(":data(ui-resizable)"),e&&!b&&h.resizable("destroy"),e&&"string"==typeof b&&h.resizable("option","handles",b),e||!1===b||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,e=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});e.minWidth>
e.width&&(e.width=e.minWidth);a=this.uiDialog.css({height:"auto",width:e.width}).outerHeight();b=Math.max(0,e.minHeight-a);c="number"==typeof e.maxHeight?Math.max(0,e.maxHeight-a):"none";"auto"===e.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,e.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=
a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&
this.document.bind("focusin.dialog",function(g){b._allowInteraction(g)||(g.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());this._on(this.overlay,{mousedown:"_keepFocus"});a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),
this.overlay.remove(),this.overlay=null)}});a.ui.dialog.overlayInstances=0;!1!==a.uiBackCompat&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,g=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(g=c.split?c.split(" "):[c[0],c[1]],1===g.length&&(g[1]=g[0]),a.each(["left","top"],function(a,b){+g[a]===g[a]&&(e[a]=g[a],g[a]=b)}),c={my:g[0]+(0>e[0]?e[0]:"+"+e[0])+" "+g[1]+(0>e[1]?e[1]:"+"+e[1]),at:g.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,
c)):c=a.ui.dialog.prototype.options.position;(b=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(c);b||this.uiDialog.hide()}})})(jQuery);
(function(a,b){a.effects={effect:{}};(function(a,b){function f(a,b,c){var e=u[b.type]||{};return null==a?c||!b.def?null:b.def:(a=e.floor?~~a:parseFloat(a),isNaN(a)?b.def:e.mod?(a+e.mod)%e.mod:0>a?0:a>e.max?e.max:a)}function g(e){var f=q(),g=f._rgba=[];return e=e.toLowerCase(),y(m,function(a,c){var h,n=c.re.exec(e),n=n&&c.parse(n),k=c.space||"rgba";return n?(h=f[k](n),f[p[k].cache]=h[p[k].cache],g=f._rgba=h._rgba,!1):b}),g.length?("0,0,0,0"===g.join()&&a.extend(g,h.transparent),f):h[e]}function e(a,
b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var h,k=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],q=a.Color=function(b,e,d,f){return new a.Color.fn.parse(b,e,d,f)},p={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,
type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},n=q.support={},v=a("<p>")[0],y=a.each;v.style.cssText="background-color:rgba(1,1,1,.5)";n.rgba=-1<v.style.backgroundColor.indexOf("rgba");y(p,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});q.fn=a.extend(q.prototype,{parse:function(e,n,k,m){if(e===b)return this._rgba=[null,null,
null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(n),n=b);var v=this,u=a.type(e),I=this._rgba=[];return n!==b&&(e=[e,n,k,m],u="array"),"string"===u?this.parse(g(e)||h._default):"array"===u?(y(p.rgba.props,function(a,b){I[b.idx]=f(e[b.idx],b)}),this):"object"===u?(e instanceof q?y(p,function(a,b){e[b.cache]&&(v[b.cache]=e[b.cache].slice())}):y(p,function(b,d){var g=d.cache;y(d.props,function(a,b){if(!v[g]&&d.to){if("alpha"===a||null==e[a])return;v[g]=d.to(v._rgba)}v[g][b.idx]=f(e[a],b,!0)});v[g]&&
0>a.inArray(null,v[g].slice(0,3))&&(v[g][3]=1,d.from&&(v._rgba=d.from(v[g])))}),this):b},is:function(a){var c=q(a),e=!0,f=this;return y(p,function(a,g){var h,n=c[g.cache];return n&&(h=f[g.cache]||g.to&&g.to(f._rgba)||[],y(g.props,function(a,c){return null!=n[c.idx]?e=n[c.idx]===h[c.idx]:b})),e}),e},_space:function(){var a=[],b=this;return y(p,function(c,e){b[e.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var c=q(a),e=c._space(),d=p[e],g=0===this.alpha()?q("transparent"):this,h=g[d.cache]||
d.to(g._rgba),n=h.slice();return c=c[d.cache],y(d.props,function(a,e){var d=e.idx,g=h[d],k=c[d],m=u[e.type]||{};null!==k&&(null===g?n[d]=k:(m.mod&&(k-g>m.mod/2?g+=m.mod:g-k>m.mod/2&&(g-=m.mod)),n[d]=f((k-g)*b+g,e)))}),this[e](n)},blend:function(b){if(1===this._rgba[3])return this;var e=this._rgba.slice(),d=e.pop(),f=q(b)._rgba;return q(a.map(e,function(a,b){return(1-d)*f[b]+d*a}))},toRgbaString:function(){var b="rgba(",e=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});return 1===e[3]&&(e.pop(),
b="rgb("),b+e.join()+")"},toHslaString:function(){var b="hsla(",e=a.map(this.hsla(),function(a,b){return null==a&&(a=2<b?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===e[3]&&(e.pop(),b="hsl("),b+e.join()+")"},toHexString:function(b){var e=this._rgba.slice(),d=e.pop();return b&&e.push(~~(255*d)),"#"+a.map(e,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});q.fn.parse.prototype=q.fn;p.hsla.to=
function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,e=a[0]/255,d=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(e,d,f),h=Math.min(e,d,f),n=g-h,k=g+h,m=0.5*k;return b=h===g?0:e===g?60*(d-f)/n+360:d===g?60*(f-e)/n+120:60*(e-d)/n+240,c=0===n?0:0.5>=m?n/k:n/(2-k),[Math.round(b)%360,c,m,null==a?1:a]};p.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2];a=a[3];c=0.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*
e(d,c,b+1/3)),Math.round(255*e(d,c,b)),Math.round(255*e(d,c,b-1/3)),a]};y(p,function(e,g){var h=g.props,n=g.cache,m=g.to,v=g.from;q.fn[e]=function(e){if(m&&!this[n]&&(this[n]=m(this._rgba)),e===b)return this[n].slice();var g,k=a.type(e),t="array"===k||"object"===k?e:arguments,p=this[n].slice();return y(h,function(a,b){var c=t["object"===k?a:b.idx];null==c&&(c=p[b.idx]);p[b.idx]=f(c,b)}),v?(g=q(v(p)),g[n]=p,g):q(p)};y(h,function(b,d){q.fn[b]||(q.fn[b]=function(f){var g,h=a.type(f),n="alpha"===b?this._hsla?
"hsla":"rgba":e,m=this[n](),v=m[d.idx];return"undefined"===h?v:("function"===h&&(f=f.call(this,v),h=a.type(f)),null==f&&d.empty?this:("string"===h&&(g=k.exec(f),g&&(f=v+parseFloat(g[2])*("+"===g[1]?1:-1))),m[d.idx]=f,this[n](m)))})})});q.hook=function(b){b=b.split(" ");y(b,function(b,e){a.cssHooks[e]={set:function(b,d){var f,h="";if("transparent"!==d&&("string"!==a.type(d)||(f=g(d)))){if(d=q(f||d),!n.rgba&&1!==d._rgba[3]){for(f="backgroundColor"===e?b.parentNode:b;(""===h||"transparent"===h)&&f&&
f.style;)try{h=a.css(f,"backgroundColor"),f=f.parentNode}catch(k){}d=d.blend(h&&"transparent"!==h?h:"_default")}d=d.toRgbaString()}try{b.style[e]=d}catch(m){}}};a.fx.step[e]=function(b){b.colorInit||(b.start=q(b.elem,e),b.end=q(b.end),b.colorInit=!0);a.cssHooks[e].set(b.elem,b.start.transition(b.end,b.pos))}})};q.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor=
{expand:function(a){var b={};return y(["Top","Right","Bottom","Left"],function(c,e){b["border"+e+"Color"]=a}),b}};h=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(){function c(b){var c,d=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(d&&d.length&&d[0]&&d[d[0]])for(b=d.length;b--;)c=d[b],"string"==typeof d[c]&&(f[a.camelCase(c)]=d[c]);else for(c in d)"string"==typeof d[c]&&(f[c]=d[c]);return f}var d=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==
a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(b,e,h,k){var m=a.speed(e,h,k);return this.queue(function(){var e,h=a(this),k=h.attr("class")||"",n=m.children?h.find("*").addBack():h,n=n.map(function(){return{el:a(this),start:c(this)}});e=function(){a.each(d,function(a,c){b[c]&&h[c+"Class"](b[c])})};e();n=n.map(function(){this.end=
c(this.el[0]);var b=this.start,e=this.end,d,g,h={};for(d in e)g=e[d],b[d]!==g&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(g)))&&(h[d]=g));return this.diff=h,this});h.attr("class",k);n=n.map(function(){var b=this,c=a.Deferred(),e=a.extend({},m,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,e),c.promise()});a.when.apply(a,n.get()).done(function(){e();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});m.complete.call(h[0])})})};a.fn.extend({addClass:function(b){return function(c,
d,f,m){return d?a.effects.animateClass.call(this,{add:c},d,f,m):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,f,m){return 1<arguments.length?a.effects.animateClass.call(this,{remove:c},d,f,m):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(e,d,f,m,q){return"boolean"==typeof d||d===b?f?a.effects.animateClass.call(this,d?{add:e}:{remove:e},f,m,q):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:e},d,f,m)}}(a.fn.toggleClass),
switchClass:function(b,c,d,f,m){return a.effects.animateClass.call(this,{add:c,remove:b},d,f,m)}})})();(function(){function c(b,c,e,d){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(d=c,e=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(d=e,e=c,c={}),a.isFunction(e)&&(d=e,e=null),c&&a.extend(b,c),e=e||c.duration,b.duration=a.fx.off?0:"number"==typeof e?e:e in a.fx.speeds?a.fx.speeds[e]:a.fx.speeds._default,b.complete=d||c.complete,b}function d(b){return!b||
"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.3",save:function(a,b){for(var c=0;b.length>c;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,c){var e,d;for(d=0;c.length>d;d++)null!==c[d]&&(e=a.data("ui-effects-"+c[d]),e===b&&(e=""),a.css(c[d],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,
b){var c,d;switch(a[0]){case "top":c=0;break;case "middle":c=0.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":d=0;break;case "center":d=0.5;break;case "right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},e=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",
border:"none",margin:0,padding:0}),d={width:b.width(),height:b.height()},k=document.activeElement;try{k.id}catch(m){k=document.body}return b.wrap(e),(b[0]===k||a.contains(b[0],k))&&a(k).focus(),e=b.parent(),"static"===b.css("position")?(e.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,e){c[e]=b.css(e);isNaN(parseInt(c[e],10))&&(c[e]="auto")}),b.css({position:"relative",top:0,
left:0,right:"auto",bottom:"auto"})),b.css(d),e.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,e,d){return d=d||{},a.each(c,function(a,c){var g=b.cssUnit(c);0<g[0]&&(d[c]=g[0]*e+g[1])}),d}});a.fn.extend({effect:function(){function b(c){function e(){a.isFunction(h)&&h.call(f[0]);a.isFunction(c)&&c()}var f=a(this),h=d.complete,n=d.mode;
(f.is(":hidden")?"hide"===n:"show"===n)?(f[n](),e()):k.call(f[0],d,e)}var d=c.apply(this,arguments),e=d.mode,h=d.queue,k=a.effects.effect[d.effect];return a.fx.off||!k?e?this[e](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):!1===h?this.each(b):this.queue(h||"fx",b)},show:function(a){return function(b){if(d(b))return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(a.fn.show),hide:function(a){return function(b){if(d(b))return a.apply(this,
arguments);var e=c.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(a.fn.hide),toggle:function(a){return function(b){if(d(b)||"boolean"==typeof b)return a.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),e=[];return a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(e=[parseFloat(c),b])}),e}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,
f){b[f]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-
c(1-a)};a.easing["easeInOut"+b]=function(a){return 0.5>a?c(2*a)/2:1-c(-2*a+2)/2}})})()})(jQuery);
(function(a){a.effects.effect.drop=function(b,c){var d,f=a(this),g="position top bottom left right opacity height width".split(" "),e=a.effects.setMode(f,b.mode||"hide"),h="show"===e;d=b.direction||"left";var k="up"===d||"down"===d?"top":"left",m="up"===d||"left"===d?"pos":"neg",q={opacity:h?1:0};a.effects.save(f,g);f.show();a.effects.createWrapper(f);d=b.distance||f["top"===k?"outerHeight":"outerWidth"](!0)/2;h&&f.css("opacity",0).css(k,"pos"===m?-d:d);q[k]=(h?"pos"===m?"+=":"-=":"pos"===m?"-=":
"+=")+d;f.animate(q,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===e&&f.hide();a.effects.restore(f,g);a.effects.removeWrapper(f);c()}})}})(jQuery);(function(a){a.effects.effect.fade=function(b,c){var d=a(this),f=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:f},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}})(jQuery);
(function(a,b,c){function d(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var f="hashchange",g=document,e,h=a.event.special,k=g.documentMode,m="on"+f in b&&(k===c||7<k);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)};a.fn[f].delay=50;h[f]=a.extend(h[f],{setup:function(){if(m)return!1;a(e.start)},teardown:function(){if(m)return!1;a(e.stop)}});e=function(){function e(){var c=d(),g=t(n);c!==n?(y(n=c,g),a(b).trigger(f)):g!==n&&(location.href=location.href.replace(/#.*/,
"")+g);k=setTimeout(e,a.fn[f].delay)}var h={},k,n=d(),v=function(a){return a},y=v,t=v;h.start=function(){k||e()};h.stop=function(){k&&clearTimeout(k);k=c};/msie/.test(navigator.userAgent.toLowerCase())&&!m&&function(){var b,c;h.start=function(){b||(c=(c=a.fn[f].src)&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||y(d());e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=
g.title)}catch(a){}})};h.stop=v;t=function(){return d(b.location.href)};y=function(c,e){var d=b.document,h=a.fn[f].domain;c!==e&&(d.title=g.title,d.open(),h&&d.write('<script>document.domain="'+h+'"\x3c/script>'),d.close(),b.location.hash=c)}}();return h}()})(jQuery,this);
!function(){function a(a){return a.replace(/,/g,".").replace(/[^0-9\.]/g,"")}var b,c=null,d="0.0.0",f=null,g=null,e=null,h={},k=0,m={},q=0,p={},u=null,n=null,v=function(){var a,b,c,e,d="ZeroClipboard.swf";if(!document.currentScript||!(e=document.currentScript.src)){var f=document.getElementsByTagName("script");if("readyState"in f[0])for(a=f.length;a--&&("interactive"!==f[a].readyState||!(e=f[a].src)););else if("loading"===document.readyState)e=f[f.length-1].src;else{for(a=f.length;a--;){if(c=f[a].src,
!c){b=null;break}if(c=c.split("#")[0].split("?")[0],c=c.slice(0,c.lastIndexOf("/")+1),null==b)b=c;else if(b!==c){b=null;break}}null!==b&&(e=b)}}return e&&(e=e.split("#")[0].split("?")[0],d=e.slice(0,e.lastIndexOf("/")+1)+d),d}(),y=function(){var a=/\-([a-z])/g,b=function(a,b){return b.toUpperCase()};return function(c){return c.replace(a,b)}}(),t=function(a){a||(a=window.event);var b;this!==window?b=this:a.target?b=a.target:a.srcElement&&(b=a.srcElement);G.activate(b)},B=function(a,b){if(!a||1!==a.nodeType)return a;
if(a.classList)return a.classList.contains(b)||a.classList.add(b),a;if(b&&"string"==typeof b){var c=(b||"").split(/\s+/);if(1===a.nodeType)if(a.className){for(var e=" "+a.className+" ",d=a.className,f=0,g=c.length;g>f;f++)0>e.indexOf(" "+c[f]+" ")&&(d+=" "+c[f]);a.className=d.replace(/^\s+|\s+$/g,"")}else a.className=b}return a},C=function(a,b){if(!a||1!==a.nodeType)return a;if(a.classList)return a.classList.contains(b)&&a.classList.remove(b),a;if(b&&"string"==typeof b||void 0===b){var c=(b||"").split(/\s+/);
if(1===a.nodeType&&a.className)if(b){for(var e=(" "+a.className+" ").replace(/[\n\t]/g," "),d=0,f=c.length;f>d;d++)e=e.replace(" "+c[d]+" "," ");a.className=e.replace(/^\s+|\s+$/g,"")}else a.className=""}return a},z=function(a,b,c){if("function"==typeof b.indexOf)return b.indexOf(a,c);var e=b.length;for("undefined"==typeof c?c=0:0>c&&(c=e+c);e>c;c++)if(b.hasOwnProperty(c)&&b[c]===a)return c;return-1},A=function(a){if("string"==typeof a)throw new TypeError("ZeroClipboard doesn't accept query strings.");
return a.length?a:[a]},E=function(a,b,c,e){e?window.setTimeout(function(){a.apply(b,c)},0):a.apply(b,c)},I=function(a){var b,c;return a&&("number"==typeof a&&0<a?b=a:"string"==typeof a&&(c=parseInt(a,10))&&!isNaN(c)&&0<c&&(b=c)),b||("number"==typeof s.zIndex&&0<s.zIndex?b=s.zIndex:"string"==typeof s.zIndex&&(c=parseInt(s.zIndex,10))&&!isNaN(c)&&0<c&&(b=c)),b||0},O=function(a,b){if(a&&!1!==b&&"undefined"!=typeof console&&console&&(console.warn||console.log)){var c="`"+a+"` is deprecated. See docs for more info:\n    https://github.com/zeroclipboard/zeroclipboard/blob/master/docs/instructions.md#deprecations";
console.warn?console.warn(c):console.log(c)}},J=function(){var a,b,c,e,d,f=arguments[0]||{};a=1;for(b=arguments.length;b>a;a++)if(null!=(c=arguments[a]))for(e in c)c.hasOwnProperty(e)&&(d=c[e],f!==d)&&void 0!==d&&(f[e]=d);return f},V=function(a){if(null==a||""===a||(a=a.replace(/^\s+|\s+$/g,""),""===a))return null;var b=a.indexOf("//");a=-1===b?a:a.slice(b+2);var c=a.indexOf("/");return a=-1===c?a:-1===b||0===c?null:a.slice(0,c),a&&".swf"===a.slice(-4).toLowerCase()?null:a||null},D=function(){var a=
function(a,b){var c,e,d;if(null!=a&&"*"!==b[0]&&("string"==typeof a&&(a=[a]),"object"==typeof a&&"length"in a))for(c=0,e=a.length;e>c;c++)if(a.hasOwnProperty(c)&&(d=V(a[c]))){if("*"===d){b.length=0;b.push("*");break}-1===z(d,b)&&b.push(d)}},b={always:"always",samedomain:"sameDomain",never:"never"};return function(c,e){var d,f=e.allowScriptAccess;if("string"==typeof f&&(d=f.toLowerCase())&&/^always|samedomain|never$/.test(d))return b[d];d=V(e.moviePath);null===d&&(d=c);f=[];a(e.trustedOrigins,f);a(e.trustedDomains,
f);var g=f.length;if(0<g){if(1===g&&"*"===f[0])return"always";if(-1!==z(c,f))return 1===g&&c===d?"sameDomain":"always"}return"never"}}(),R=function(a){if(null==a)return[];if(Object.keys)return Object.keys(a);var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b},K=function(){var a=!1;if("boolean"==typeof f)a=!1===f;else{if("function"==typeof ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){}!a&&navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a},
G=function(a,b){var d;if(this instanceof G){this.id=""+k++;m[this.id]={instance:this,elements:[],handlers:{}};a&&this.clip(a);"undefined"!=typeof b&&(O("new ZeroClipboard(elements, options)",s.debug),G.config(b));this.options=G.config();"boolean"!=typeof f&&(f=!K());if(!1===f&&!0!==g&&null===c){e=g=!1;var h,v=document.getElementById("global-zeroclipboard-html-bridge");if(!v){var t=G.config();t.jsModuleId="string"==typeof u&&u||"string"==typeof n&&n||null;var v=D(window.location.host,s),p,y,q=[],B=
[],r=[];if(t.trustedOrigins&&("string"==typeof t.trustedOrigins?B.push(t.trustedOrigins):"object"==typeof t.trustedOrigins&&"length"in t.trustedOrigins&&(B=B.concat(t.trustedOrigins))),t.trustedDomains&&("string"==typeof t.trustedDomains?B.push(t.trustedDomains):"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(B=B.concat(t.trustedDomains))),B.length)for(p=0,y=B.length;y>p;p++)if(B.hasOwnProperty(p)&&B[p]&&"string"==typeof B[p]&&(h=V(B[p]),h)){if("*"===h){r=[h];break}r.push.apply(r,
[h,"//"+h,window.location.protocol+"//"+h])}h=(r.length&&q.push("trustedOrigins="+encodeURIComponent(r.join(","))),"string"==typeof t.jsModuleId&&t.jsModuleId&&q.push("jsModuleId="+encodeURIComponent(t.jsModuleId)),q.join("&"));t=s.moviePath+(null==s||s&&!0===s.cacheBust&&!0===s.useNoCache?(-1===s.moviePath.indexOf("?")?"?":"&")+"noCache="+(new Date).getTime():"");h='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+
t+'"/>         <param name="allowScriptAccess" value="'+v+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+h+'"/>         <embed src="'+t+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="'+
v+'"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+h+'"           scale="exactfit">         </embed>       </object>';v=document.createElement("div");v.id="global-zeroclipboard-html-bridge";v.setAttribute("class","global-zeroclipboard-container");v.style.position="absolute";v.style.left="0px";v.style.top="-9999px";v.style.width="15px";v.style.height=
"15px";v.style.zIndex=""+I(s.zIndex);document.body.appendChild(v);v.innerHTML=h}(h=document["global-zeroclipboard-flash-bridge"])&&(d=h.length)&&(h=h[d-1]);c=h||v.children[0].lastElementChild}d=void 0}else d=new G(a,b);return d};G.prototype.setText=function(a){return a&&""!==a&&(h["text/plain"]=a,!0===e&&c&&c.setText(a)),this};G.prototype.setSize=function(a,b){return!0===e&&c&&c.setSize(a,b),this};G.prototype.destroy=function(){this.unclip();this.off();delete m[this.id]};G.version="1.3.2";var s={swfPath:v,
trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0};G.config=function(a){"object"==typeof a&&null!==a&&J(s,a);if("string"!=typeof a||!a){a={};for(var b in s)s.hasOwnProperty(b)&&(a[b]="object"==typeof s[b]&&null!==s[b]?"length"in s[b]?s[b].slice(0):J({},s[b]):s[b]);return a}if(s.hasOwnProperty(a))return s[a]};G.destroy=function(){G.deactivate();for(var a in m)if(m.hasOwnProperty(a)&&m[a]){var b=m[a].instance;
b&&"function"==typeof b.destroy&&b.destroy()}(a=x(c))&&a.parentNode&&(a.parentNode.removeChild(a),e=null,c=null)};G.activate=function(a){b&&(C(b,s.hoverClass),C(b,s.activeClass));b=a;B(a,s.hoverClass);w();var d=s.title||a.getAttribute("title");if(d){var f=x(c);f&&f.setAttribute("title",d)}if(!(d=!0===s.forceHandCursor))var g,h,n,d="pointer"===(window.getComputedStyle?g=window.getComputedStyle(a,null).getPropertyValue("cursor"):(h=y("cursor"),g=a.currentStyle?a.currentStyle[h]:a.style[h]),g&&"auto"!==
g||(n=a.tagName.toLowerCase(),"a"!==n)?g:"pointer");!0===e&&c&&c.setHandCursor(d)};G.deactivate=function(){var a=x(c);a&&(a.style.left="0px",a.style.top="-9999px",a.removeAttribute("title"));b&&(C(b,s.hoverClass),C(b,s.activeClass),b=null)};var x=function(a){var b=/^OBJECT|EMBED$/;for(a=a&&a.parentNode;a&&b.test(a.nodeName)&&a.parentNode;)a=a.parentNode;return a||null},w=function(){if(b){var a=b,d=0,f=0,g=0,h=0,n=I(s.zIndex)-1;if(a.getBoundingClientRect){var k,m,h=a.getBoundingClientRect();if("pageXOffset"in
window&&"pageYOffset"in window)k=window.pageXOffset,m=window.pageYOffset;else{var v,f=1,d=("function"==typeof document.body.getBoundingClientRect&&(k=document.body.getBoundingClientRect(),m=k.right-k.left,v=document.body.offsetWidth,f=Math.round(100*(m/v))/100),f);k=Math.round(document.documentElement.scrollLeft/d);m=Math.round(document.documentElement.scrollTop/d)}v=document.documentElement.clientTop||0;d=h.left+k-(document.documentElement.clientLeft||0);f=h.top+m-v;g="width"in h?h.width:h.right-
h.left;h="height"in h?h.height:h.bottom-h.top}(k=x(c))&&(k.style.top=f+"px",k.style.left=d+"px",k.style.width=g+"px",k.style.height=h+"px",k.style.zIndex=n+1);!0===e&&c&&c.setSize(g,h)}return this};G.prototype.on=function(a,b){var c,h,n,k={},v=m[this.id]&&m[this.id].handlers;if("string"==typeof a&&a)n=a.toLowerCase().split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)a.hasOwnProperty(c)&&"string"==typeof c&&c&&"function"==typeof a[c]&&this.on(c,a[c]);if(n&&n.length){c=0;
for(h=n.length;h>c;c++)a=n[c].replace(/^on/,""),k[a]=!0,v[a]||(v[a]=[]),v[a].push(b);k.noflash&&f&&r.call(this,"noflash",{});k.wrongflash&&g&&r.call(this,"wrongflash",{flashVersion:d});k.load&&e&&r.call(this,"load",{flashVersion:d})}return this};G.prototype.off=function(a,b){var c,e,d,f,g,h=m[this.id]&&m[this.id].handlers;if(0===arguments.length)f=R(h);else if("string"==typeof a&&a)f=a.split(/\s+/);else if("object"==typeof a&&a&&"undefined"==typeof b)for(c in a)a.hasOwnProperty(c)&&"string"==typeof c&&
c&&"function"==typeof a[c]&&this.off(c,a[c]);if(f&&f.length)for(c=0,e=f.length;e>c;c++)if(a=f[c].toLowerCase().replace(/^on/,""),g=h[a],g&&g.length)if(b)for(d=z(b,g);-1!==d;)g.splice(d,1),d=z(b,g,d);else h[a].length=0;return this};G.prototype.handlers=function(a){var b,c=null,e=m[this.id]&&m[this.id].handlers;if(e){if("string"==typeof a&&a)return e[a]?e[a].slice(0):null;c={};for(b in e)e.hasOwnProperty(b)&&e[b]&&(c[b]=e[b].slice(0))}return c};G.prototype.clip=function(a){a=A(a);for(var b=0;b<a.length;b++)if(a.hasOwnProperty(b)&&
a[b]&&1===a[b].nodeType){if(a[b].zcClippingId)-1===z(this.id,p[a[b].zcClippingId])&&p[a[b].zcClippingId].push(this.id);else if(a[b].zcClippingId="zcClippingId_"+q++,p[a[b].zcClippingId]=[this.id],!0===s.autoActivate){var c=a[b],e=t;c&&1===c.nodeType&&(c.addEventListener?c.addEventListener("mouseover",e,!1):c.attachEvent&&c.attachEvent("onmouseover",e))}c=m[this.id].elements;-1===z(a[b],c)&&c.push(a[b])}return this};G.prototype.unclip=function(a){var b=m[this.id];if(b){var c,b=b.elements;a="undefined"==
typeof a?b.slice(0):A(a);for(var e=a.length;e--;)if(a.hasOwnProperty(e)&&a[e]&&1===a[e].nodeType){for(c=0;-1!==(c=z(a[e],b,c));)b.splice(c,1);var d=p[a[e].zcClippingId];if(d){for(c=0;-1!==(c=z(this.id,d,c));)d.splice(c,1);0===d.length&&(!0===s.autoActivate&&(c=a[e],d=t,c&&1===c.nodeType&&(c.removeEventListener?c.removeEventListener("mouseover",d,!1):c.detachEvent&&c.detachEvent("onmouseover",d))),delete a[e].zcClippingId)}}}return this};G.prototype.elements=function(){var a=m[this.id];return a&&a.elements?
a.elements.slice(0):[]};s.hoverClass="zeroclipboard-is-hover";s.activeClass="zeroclipboard-is-active";s.trustedOrigins=null;s.allowScriptAccess=null;s.useNoCache=!0;s.moviePath="ZeroClipboard.swf";G.detectFlashSupport=function(){return O("ZeroClipboard.detectFlashSupport",s.debug),K()};G.dispatch=function(a,c){if("string"==typeof a&&a){var e=a.toLowerCase().replace(/^on/,"");if(e){var d;if(b){var f,g,h,n=[];if(b&&1===b.nodeType&&(f=b.zcClippingId)&&p.hasOwnProperty(f)&&(d=p[f],d&&d.length))for(f=
0,g=d.length;g>f;f++)(h=m[d[f]].instance)&&h instanceof G&&n.push(h);d=n}else{g=[];h=R(m);d=0;for(n=h.length;n>d;d++)(f=m[h[d]].instance)&&f instanceof G&&g.push(f);d=g}n=0;for(f=d.length;f>n;n++)r.call(d[n],e,c)}}};G.prototype.setHandCursor=function(a){O("ZeroClipboard.prototype.setHandCursor",s.debug);a="boolean"==typeof a?a:!!a;!0===e&&c&&c.setHandCursor(a);return s.forceHandCursor=a,this};G.prototype.reposition=function(){return O("ZeroClipboard.prototype.reposition",s.debug),w()};G.prototype.receiveEvent=
function(a,b){if(O("ZeroClipboard.prototype.receiveEvent",s.debug),"string"==typeof a&&a){var c=a.toLowerCase().replace(/^on/,"");c&&r.call(this,c,b)}};G.prototype.setCurrent=function(a){return O("ZeroClipboard.prototype.setCurrent",s.debug),G.activate(a),this};G.prototype.resetBridge=function(){return O("ZeroClipboard.prototype.resetBridge",s.debug),G.deactivate(),this};G.prototype.setTitle=function(a){if(O("ZeroClipboard.prototype.setTitle",s.debug),a=a||s.title||b&&b.getAttribute("title")){var e=
x(c);e&&e.setAttribute("title",a)}return this};G.setDefaults=function(a){O("ZeroClipboard.setDefaults",s.debug);G.config(a)};G.prototype.addEventListener=function(a,b){return O("ZeroClipboard.prototype.addEventListener",s.debug),this.on(a,b)};G.prototype.removeEventListener=function(a,b){return O("ZeroClipboard.prototype.removeEventListener",s.debug),this.off(a,b)};G.prototype.ready=function(){return O("ZeroClipboard.prototype.ready",s.debug),!0===e};var r=function(c,f){c=c.toLowerCase().replace(/^on/,
"");var n=f&&f.flashVersion&&a(f.flashVersion)||null,k=b,v=!0;switch(c){case "load":if(n){if(!(10<=parseFloat(a(n))))return r.call(this,"onWrongFlash",{flashVersion:n}),void 0;g=!1;e=!0;d=n}break;case "wrongflash":n&&!(10<=parseFloat(a(n)))&&(g=!0,e=!1,d=n);break;case "mouseover":B(k,s.hoverClass);break;case "mouseout":!0===s.autoActivate&&G.deactivate();break;case "mousedown":B(k,s.activeClass);break;case "mouseup":C(k,s.activeClass);break;case "datarequested":(n=(n=(n=k.getAttribute("data-clipboard-target"))?
document.getElementById(n):null)?n.value||n.textContent||n.innerText:k.getAttribute("data-clipboard-text"))&&this.setText(n);v=!1;break;case "complete":if(h)for(var t in h)h.hasOwnProperty(t)&&delete h[t]}n=[this,f];if((t=m[this.id]&&m[this.id].handlers[c])&&t.length){var p,y,u,q=k||this;p=0;for(y=t.length;y>p;p++)u=t[p],k=q,"string"==typeof u&&"function"==typeof window[u]&&(u=window[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(k=u,u=u.handleEvent),"function"==typeof u&&E(u,k,n,v)}return this};
"function"==typeof define&&define.amd?define(["require","exports","module"],function(a,b,c){return u=c&&c.id||null,G}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?(n=module.id||null,module.exports=G):window.ZeroClipboard=G}();
var CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},f=function(){},g=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
e=d.WordArray=g.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var d=0;d<a;d++)b[e+d>>>2]|=(c[d>>>2]>>>24-8*(d%4)&255)<<24-8*((e+d)%4);else if(65535<c.length)for(d=0;d<a;d+=4)b[e+d>>>2]=c[d>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new e.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var d=b[e>>>2]>>>24-8*(e%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new e.init(c,b/2)}},m=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-8*(e%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new e.init(c,b)}},q=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(m.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return m.parse(unescape(encodeURIComponent(a)))}},
p=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new e.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=q.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,g=this.blockSize,h=f/(4*g),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*g;f=a.min(4*b,f);if(b){for(var k=0;k<b;k+=g)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=f}return new e.init(k,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=p.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(a){function b(a,b,c,e,d,f,g){a=a+(b&c|~b&e)+d+g;return(a<<f|a>>>32-f)+b}function c(a,b,c,e,d,f,g){a=a+(b&e|c&~e)+d+g;return(a<<f|a>>>32-f)+b}function d(a,b,c,e,d,f,g){a=a+(b^c^e)+d+g;return(a<<f|a>>>32-f)+b}function f(a,b,c,e,d,f,g){a=a+(c^(b|~e))+d+g;return(a<<f|a>>>32-f)+b}for(var g=CryptoJS,e=g.lib,h=e.WordArray,k=e.Hasher,e=g.algo,m=[],q=0;64>q;q++)m[q]=4294967296*a.abs(a.sin(q+1))|0;e=e.MD5=k.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,e){for(var g=0;16>g;g++){var h=e+g,k=a[h];a[h]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var g=this._hash.words,h=a[e+0],k=a[e+1],t=a[e+2],q=a[e+3],C=a[e+4],z=a[e+5],A=a[e+6],E=a[e+7],I=a[e+8],O=a[e+9],J=a[e+10],V=a[e+11],D=a[e+12],R=a[e+13],K=a[e+14],G=a[e+15],s=g[0],x=g[1],w=g[2],r=g[3],s=b(s,x,w,r,h,7,m[0]),r=b(r,s,x,w,k,12,m[1]),w=b(w,r,s,x,t,17,m[2]),x=b(x,w,r,s,q,22,m[3]),s=b(s,x,w,r,C,7,m[4]),r=b(r,s,x,w,z,12,m[5]),w=b(w,r,s,x,A,17,m[6]),x=b(x,w,r,s,E,22,m[7]),
s=b(s,x,w,r,I,7,m[8]),r=b(r,s,x,w,O,12,m[9]),w=b(w,r,s,x,J,17,m[10]),x=b(x,w,r,s,V,22,m[11]),s=b(s,x,w,r,D,7,m[12]),r=b(r,s,x,w,R,12,m[13]),w=b(w,r,s,x,K,17,m[14]),x=b(x,w,r,s,G,22,m[15]),s=c(s,x,w,r,k,5,m[16]),r=c(r,s,x,w,A,9,m[17]),w=c(w,r,s,x,V,14,m[18]),x=c(x,w,r,s,h,20,m[19]),s=c(s,x,w,r,z,5,m[20]),r=c(r,s,x,w,J,9,m[21]),w=c(w,r,s,x,G,14,m[22]),x=c(x,w,r,s,C,20,m[23]),s=c(s,x,w,r,O,5,m[24]),r=c(r,s,x,w,K,9,m[25]),w=c(w,r,s,x,q,14,m[26]),x=c(x,w,r,s,I,20,m[27]),s=c(s,x,w,r,R,5,m[28]),r=c(r,s,
x,w,t,9,m[29]),w=c(w,r,s,x,E,14,m[30]),x=c(x,w,r,s,D,20,m[31]),s=d(s,x,w,r,z,4,m[32]),r=d(r,s,x,w,I,11,m[33]),w=d(w,r,s,x,V,16,m[34]),x=d(x,w,r,s,K,23,m[35]),s=d(s,x,w,r,k,4,m[36]),r=d(r,s,x,w,C,11,m[37]),w=d(w,r,s,x,E,16,m[38]),x=d(x,w,r,s,J,23,m[39]),s=d(s,x,w,r,R,4,m[40]),r=d(r,s,x,w,h,11,m[41]),w=d(w,r,s,x,q,16,m[42]),x=d(x,w,r,s,A,23,m[43]),s=d(s,x,w,r,O,4,m[44]),r=d(r,s,x,w,D,11,m[45]),w=d(w,r,s,x,G,16,m[46]),x=d(x,w,r,s,t,23,m[47]),s=f(s,x,w,r,h,6,m[48]),r=f(r,s,x,w,E,10,m[49]),w=f(w,r,s,x,
K,15,m[50]),x=f(x,w,r,s,z,21,m[51]),s=f(s,x,w,r,D,6,m[52]),r=f(r,s,x,w,q,10,m[53]),w=f(w,r,s,x,J,15,m[54]),x=f(x,w,r,s,k,21,m[55]),s=f(s,x,w,r,I,6,m[56]),r=f(r,s,x,w,G,10,m[57]),w=f(w,r,s,x,A,15,m[58]),x=f(x,w,r,s,R,21,m[59]),s=f(s,x,w,r,C,6,m[60]),r=f(r,s,x,w,V,10,m[61]),w=f(w,r,s,x,t,15,m[62]),x=f(x,w,r,s,O,21,m[63]);g[0]=g[0]+s|0;g[1]=g[1]+x|0;g[2]=g[2]+w|0;g[3]=g[3]+r|0},_doFinalize:function(){var b=this._data,c=b.words,e=8*this._nDataBytes,d=8*b.sigBytes;c[d>>>5]|=128<<24-d%32;var f=a.floor(e/
4294967296);c[(d+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;c[(d+64>>>9<<4)+14]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash;c=b.words;for(e=0;4>e;e++)d=c[e],c[e]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;return b},clone:function(){var a=k.clone.call(this);a._hash=this._hash.clone();return a}});g.MD5=k._createHelper(e);g.HmacMD5=k._createHmacHelper(e)})(Math);
CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},f=function(){},g=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
e=d.WordArray=g.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var d=0;d<a;d++)b[e+d>>>2]|=(c[d>>>2]>>>24-8*(d%4)&255)<<24-8*((e+d)%4);else if(65535<c.length)for(d=0;d<a;d+=4)b[e+d>>>2]=c[d>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new e.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var d=b[e>>>2]>>>24-8*(e%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new e.init(c,b/2)}},m=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-8*(e%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new e.init(c,b)}},q=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(m.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return m.parse(unescape(encodeURIComponent(a)))}},
p=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new e.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=q.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,g=this.blockSize,h=f/(4*g),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*g;f=a.min(4*b,f);if(b){for(var k=0;k<b;k+=g)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=f}return new e.init(k,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=p.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(){var a=CryptoJS,b=a.lib,c=b.WordArray,d=b.Hasher,f=[],b=a.algo.SHA1=d.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],m=c[1],q=c[2],p=c[3],u=c[4],n=0;80>n;n++){if(16>n)f[n]=a[b+n]|0;else{var v=f[n-3]^f[n-8]^f[n-14]^f[n-16];f[n]=v<<1|v>>>31}v=(d<<5|d>>>27)+u+f[n];v=20>n?v+((m&q|~m&p)+1518500249):40>n?v+((m^q^p)+1859775393):60>n?v+((m&q|m&p|q&p)-1894007588):v+((m^q^
p)-899497514);u=p;p=q;q=m<<30|m>>>2;m=d;d=v}c[0]=c[0]+d|0;c[1]=c[1]+m|0;c[2]=c[2]+q|0;c[3]=c[3]+p|0;c[4]=c[4]+u|0},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+64>>>9<<4)+14]=Math.floor(c/4294967296);b[(d+64>>>9<<4)+15]=c;a.sigBytes=4*b.length;this._process();return this._hash},clone:function(){var a=d.clone.call(this);a._hash=this._hash.clone();return a}});a.SHA1=d._createHelper(b);a.HmacSHA1=d._createHmacHelper(b)})();
CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},f=function(){},g=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
e=d.WordArray=g.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var d=0;d<a;d++)b[e+d>>>2]|=(c[d>>>2]>>>24-8*(d%4)&255)<<24-8*((e+d)%4);else if(65535<c.length)for(d=0;d<a;d+=4)b[e+d>>>2]=c[d>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new e.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var d=b[e>>>2]>>>24-8*(e%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new e.init(c,b/2)}},m=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-8*(e%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new e.init(c,b)}},q=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(m.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return m.parse(unescape(encodeURIComponent(a)))}},
p=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new e.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=q.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,g=this.blockSize,h=f/(4*g),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*g;f=a.min(4*b,f);if(b){for(var k=0;k<b;k+=g)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=f}return new e.init(k,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=p.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(a){for(var b=CryptoJS,c=b.lib,d=c.WordArray,f=c.Hasher,c=b.algo,g=[],e=[],h=function(a){return 4294967296*(a-(a|0))|0},k=2,m=0;64>m;){var q;a:{q=k;for(var p=a.sqrt(q),u=2;u<=p;u++)if(!(q%u)){q=!1;break a}q=!0}q&&(8>m&&(g[m]=h(a.pow(k,0.5))),e[m]=h(a.pow(k,1/3)),m++);k++}var n=[],c=c.SHA256=f.extend({_doReset:function(){this._hash=new d.init(g.slice(0))},_doProcessBlock:function(a,b){for(var c=this._hash.words,d=c[0],f=c[1],g=c[2],h=c[3],k=c[4],m=c[5],p=c[6],q=c[7],u=0;64>u;u++){if(16>u)n[u]=
a[b+u]|0;else{var D=n[u-15],R=n[u-2];n[u]=((D<<25|D>>>7)^(D<<14|D>>>18)^D>>>3)+n[u-7]+((R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10)+n[u-16]}D=q+((k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25))+(k&m^~k&p)+e[u]+n[u];R=((d<<30|d>>>2)^(d<<19|d>>>13)^(d<<10|d>>>22))+(d&f^d&g^f&g);q=p;p=m;m=k;k=h+D|0;h=g;g=f;f=d;d=D+R|0}c[0]=c[0]+d|0;c[1]=c[1]+f|0;c[2]=c[2]+g|0;c[3]=c[3]+h|0;c[4]=c[4]+k|0;c[5]=c[5]+m|0;c[6]=c[6]+p|0;c[7]=c[7]+q|0},_doFinalize:function(){var b=this._data,c=b.words,e=8*this._nDataBytes,d=8*b.sigBytes;
c[d>>>5]|=128<<24-d%32;c[(d+64>>>9<<4)+14]=a.floor(e/4294967296);c[(d+64>>>9<<4)+15]=e;b.sigBytes=4*c.length;this._process();return this._hash},clone:function(){var a=f.clone.call(this);a._hash=this._hash.clone();return a}});b.SHA256=f._createHelper(c);b.HmacSHA256=f._createHmacHelper(c)})(Math);
CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},f=function(){},g=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
e=d.WordArray=g.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,e=this.sigBytes;a=a.sigBytes;this.clamp();if(e%4)for(var d=0;d<a;d++)b[e+d>>>2]|=(c[d>>>2]>>>24-8*(d%4)&255)<<24-8*((e+d)%4);else if(65535<c.length)for(d=0;d<a;d+=4)b[e+d>>>2]=c[d>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new e.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++){var d=b[e>>>2]>>>24-8*(e%4)&255;c.push((d>>>4).toString(16));c.push((d&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new e.init(c,b/2)}},m=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],e=0;e<a;e++)c.push(String.fromCharCode(b[e>>>2]>>>24-8*(e%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new e.init(c,b)}},q=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(m.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return m.parse(unescape(encodeURIComponent(a)))}},
p=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new e.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=q.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,g=this.blockSize,h=f/(4*g),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*g;f=a.min(4*b,f);if(b){for(var k=0;k<b;k+=g)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=f}return new e.init(k,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=p.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(a){var b=CryptoJS,c=b.lib,d=c.Base,f=c.WordArray,b=b.x64={};b.Word=d.extend({init:function(a,b){this.high=a;this.low=b}});b.WordArray=d.extend({init:function(b,c){b=this.words=b||[];this.sigBytes=c!=a?c:8*b.length},toX32:function(){for(var a=this.words,b=a.length,c=[],d=0;d<b;d++){var m=a[d];c.push(m.high);c.push(m.low)}return f.create(c,this.sigBytes)},clone:function(){for(var a=d.clone.call(this),b=a.words=this.words.slice(0),c=b.length,f=0;f<c;f++)b[f]=b[f].clone();return a}})})();
(function(){function a(){return f.create.apply(f,arguments)}for(var b=CryptoJS,c=b.lib.Hasher,d=b.x64,f=d.Word,g=d.WordArray,d=b.algo,e=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),
a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,
2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),
a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,
3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],h=[],k=0;80>k;k++)h[k]=a();d=d.SHA512=c.extend({_doReset:function(){this._hash=new g.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(a,b){for(var c=this._hash.words,
d=c[0],f=c[1],g=c[2],k=c[3],t=c[4],B=c[5],C=c[6],c=c[7],z=d.high,A=d.low,E=f.high,I=f.low,O=g.high,J=g.low,V=k.high,D=k.low,R=t.high,K=t.low,G=B.high,s=B.low,x=C.high,w=C.low,r=c.high,P=c.low,H=z,Q=A,M=E,X=I,F=O,ga=J,da=V,Y=D,ea=R,ba=K,ta=G,ka=s,ca=x,ma=w,za=r,qa=P,ia=0;80>ia;ia++){var l=h[ia];if(16>ia)var Z=l.high=a[b+2*ia]|0,T=l.low=a[b+2*ia+1]|0;else{var Z=h[ia-15],T=Z.high,ja=Z.low,Z=(T>>>1|ja<<31)^(T>>>8|ja<<24)^T>>>7,ja=(ja>>>1|T<<31)^(ja>>>8|T<<24)^(ja>>>7|T<<25),na=h[ia-2],T=na.high,W=na.low,
na=(T>>>19|W<<13)^(T<<3|W>>>29)^T>>>6,W=(W>>>19|T<<13)^(W<<3|T>>>29)^(W>>>6|T<<26),T=h[ia-7],Aa=T.high,la=h[ia-16],ha=la.high,la=la.low,T=ja+T.low,Z=Z+Aa+(T>>>0<ja>>>0?1:0),T=T+W,Z=Z+na+(T>>>0<W>>>0?1:0),T=T+la,Z=Z+ha+(T>>>0<la>>>0?1:0);l.high=Z;l.low=T}var Aa=ea&ta^~ea&ca,la=ba&ka^~ba&ma,l=H&M^H&F^M&F,Da=Q&X^Q&ga^X&ga,ja=(H>>>28|Q<<4)^(H<<30|Q>>>2)^(H<<25|Q>>>7),na=(Q>>>28|H<<4)^(Q<<30|H>>>2)^(Q<<25|H>>>7),W=e[ia],aa=W.high,S=W.low,W=qa+((ba>>>14|ea<<18)^(ba>>>18|ea<<14)^(ba<<23|ea>>>9)),ha=za+((ea>>>
14|ba<<18)^(ea>>>18|ba<<14)^(ea<<23|ba>>>9))+(W>>>0<qa>>>0?1:0),W=W+la,ha=ha+Aa+(W>>>0<la>>>0?1:0),W=W+S,ha=ha+aa+(W>>>0<S>>>0?1:0),W=W+T,ha=ha+Z+(W>>>0<T>>>0?1:0),T=na+Da,l=ja+l+(T>>>0<na>>>0?1:0),za=ca,qa=ma,ca=ta,ma=ka,ta=ea,ka=ba,ba=Y+W|0,ea=da+ha+(ba>>>0<Y>>>0?1:0)|0,da=F,Y=ga,F=M,ga=X,M=H,X=Q,Q=W+T|0,H=ha+l+(Q>>>0<W>>>0?1:0)|0}A=d.low=A+Q;d.high=z+H+(A>>>0<Q>>>0?1:0);I=f.low=I+X;f.high=E+M+(I>>>0<X>>>0?1:0);J=g.low=J+ga;g.high=O+F+(J>>>0<ga>>>0?1:0);D=k.low=D+Y;k.high=V+da+(D>>>0<Y>>>0?1:0);
K=t.low=K+ba;t.high=R+ea+(K>>>0<ba>>>0?1:0);s=B.low=s+ka;B.high=G+ta+(s>>>0<ka>>>0?1:0);w=C.low=w+ma;C.high=x+ca+(w>>>0<ma>>>0?1:0);P=c.low=P+qa;c.high=r+za+(P>>>0<qa>>>0?1:0)},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;b[d>>>5]|=128<<24-d%32;b[(d+128>>>10<<5)+30]=Math.floor(c/4294967296);b[(d+128>>>10<<5)+31]=c;a.sigBytes=4*b.length;this._process();return this._hash.toX32()},clone:function(){var a=c.clone.call(this);a._hash=this._hash.clone();return a},
blockSize:32});b.SHA512=c._createHelper(d);b.HmacSHA512=c._createHmacHelper(d)})();
CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},f=function(){},g=d.Base={extend:function(a){f.prototype=this;var b=new f;a&&b.mixIn(a);b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)});b.init.prototype=b;b.$super=this;return b},create:function(){var a=this.extend();a.init.apply(a,arguments);return a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},
e=d.WordArray=g.extend({init:function(a,c){a=this.words=a||[];this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||k).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;a=a.sigBytes;this.clamp();if(d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-8*(e%4)&255)<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);this.sigBytes+=a;return this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<
32-8*(c%4);b.length=a.ceil(c/4)},clone:function(){var a=g.clone.call(this);a.words=this.words.slice(0);return a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new e.init(c,b)}}),h=c.enc={},k=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-8*(d%4)&255;c.push((e>>>4).toString(16));c.push((e&15).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,
2),16)<<24-4*(d%8);return new e.init(c,b/2)}},m=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-8*(d%4)&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(a.charCodeAt(d)&255)<<24-8*(d%4);return new e.init(c,b)}},q=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(m.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data");}},parse:function(a){return m.parse(unescape(encodeURIComponent(a)))}},
p=d.BufferedBlockAlgorithm=g.extend({reset:function(){this._data=new e.init;this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=q.parse(a));this._data.concat(a);this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,f=c.sigBytes,g=this.blockSize,h=f/(4*g),h=b?a.ceil(h):a.max((h|0)-this._minBufferSize,0);b=h*g;f=a.min(4*b,f);if(b){for(var k=0;k<b;k+=g)this._doProcessBlock(d,k);k=d.splice(0,b);c.sigBytes-=f}return new e.init(k,f)},clone:function(){var a=g.clone.call(this);
a._data=this._data.clone();return a},_minBufferSize:0});d.Hasher=p.extend({cfg:g.extend(),init:function(a){this.cfg=this.cfg.extend(a);this.reset()},reset:function(){p.reset.call(this);this._doReset()},update:function(a){this._append(a);this._process();return this},finalize:function(a){a&&this._append(a);return this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return(new a.init(c)).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return(new u.HMAC.init(a,
c)).finalize(b)}}});var u=c.algo={};return c}(Math);
(function(){var a=CryptoJS,b=a.lib.WordArray;a.enc.Base64={stringify:function(a){var b=a.words,f=a.sigBytes,g=this._map;a.clamp();a=[];for(var e=0;e<f;e+=3)for(var h=(b[e>>>2]>>>24-8*(e%4)&255)<<16|(b[e+1>>>2]>>>24-8*((e+1)%4)&255)<<8|b[e+2>>>2]>>>24-8*((e+2)%4)&255,k=0;4>k&&e+0.75*k<f;k++)a.push(g.charAt(h>>>6*(3-k)&63));if(b=g.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var d=a.length,f=this._map,g=f.charAt(64);g&&(g=a.indexOf(g),-1!=g&&(d=g));for(var g=[],e=0,h=0;h<
d;h++)if(h%4){var k=f.indexOf(a.charAt(h-1))<<2*(h%4),m=f.indexOf(a.charAt(h))>>>6-2*(h%4);g[e>>>2]|=(k|m)<<24-8*(e%4);e++}return b.create(g,e)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();
(function(a){function b(a,b,c,d,e,f,g){a=a+(b&c|~b&d)+e+g;return(a<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){a=a+(b&d|c&~d)+e+g;return(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){a=a+(b^c^d)+e+g;return(a<<f|a>>>32-f)+b}function f(a,b,c,d,e,f,g){a=a+(c^(b|~d))+e+g;return(a<<f|a>>>32-f)+b}for(var g=CryptoJS,e=g.lib,h=e.WordArray,k=e.Hasher,e=g.algo,m=[],q=0;64>q;q++)m[q]=4294967296*a.abs(a.sin(q+1))|0;e=e.MD5=k.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},
_doProcessBlock:function(a,e){for(var g=0;16>g;g++){var h=e+g,k=a[h];a[h]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var g=this._hash.words,h=a[e+0],k=a[e+1],q=a[e+2],B=a[e+3],C=a[e+4],z=a[e+5],A=a[e+6],E=a[e+7],I=a[e+8],O=a[e+9],J=a[e+10],V=a[e+11],D=a[e+12],R=a[e+13],K=a[e+14],G=a[e+15],s=g[0],x=g[1],w=g[2],r=g[3],s=b(s,x,w,r,h,7,m[0]),r=b(r,s,x,w,k,12,m[1]),w=b(w,r,s,x,q,17,m[2]),x=b(x,w,r,s,B,22,m[3]),s=b(s,x,w,r,C,7,m[4]),r=b(r,s,x,w,z,12,m[5]),w=b(w,r,s,x,A,17,m[6]),x=b(x,w,r,s,E,22,m[7]),
s=b(s,x,w,r,I,7,m[8]),r=b(r,s,x,w,O,12,m[9]),w=b(w,r,s,x,J,17,m[10]),x=b(x,w,r,s,V,22,m[11]),s=b(s,x,w,r,D,7,m[12]),r=b(r,s,x,w,R,12,m[13]),w=b(w,r,s,x,K,17,m[14]),x=b(x,w,r,s,G,22,m[15]),s=c(s,x,w,r,k,5,m[16]),r=c(r,s,x,w,A,9,m[17]),w=c(w,r,s,x,V,14,m[18]),x=c(x,w,r,s,h,20,m[19]),s=c(s,x,w,r,z,5,m[20]),r=c(r,s,x,w,J,9,m[21]),w=c(w,r,s,x,G,14,m[22]),x=c(x,w,r,s,C,20,m[23]),s=c(s,x,w,r,O,5,m[24]),r=c(r,s,x,w,K,9,m[25]),w=c(w,r,s,x,B,14,m[26]),x=c(x,w,r,s,I,20,m[27]),s=c(s,x,w,r,R,5,m[28]),r=c(r,s,
x,w,q,9,m[29]),w=c(w,r,s,x,E,14,m[30]),x=c(x,w,r,s,D,20,m[31]),s=d(s,x,w,r,z,4,m[32]),r=d(r,s,x,w,I,11,m[33]),w=d(w,r,s,x,V,16,m[34]),x=d(x,w,r,s,K,23,m[35]),s=d(s,x,w,r,k,4,m[36]),r=d(r,s,x,w,C,11,m[37]),w=d(w,r,s,x,E,16,m[38]),x=d(x,w,r,s,J,23,m[39]),s=d(s,x,w,r,R,4,m[40]),r=d(r,s,x,w,h,11,m[41]),w=d(w,r,s,x,B,16,m[42]),x=d(x,w,r,s,A,23,m[43]),s=d(s,x,w,r,O,4,m[44]),r=d(r,s,x,w,D,11,m[45]),w=d(w,r,s,x,G,16,m[46]),x=d(x,w,r,s,q,23,m[47]),s=f(s,x,w,r,h,6,m[48]),r=f(r,s,x,w,E,10,m[49]),w=f(w,r,s,x,
K,15,m[50]),x=f(x,w,r,s,z,21,m[51]),s=f(s,x,w,r,D,6,m[52]),r=f(r,s,x,w,B,10,m[53]),w=f(w,r,s,x,J,15,m[54]),x=f(x,w,r,s,k,21,m[55]),s=f(s,x,w,r,I,6,m[56]),r=f(r,s,x,w,G,10,m[57]),w=f(w,r,s,x,A,15,m[58]),x=f(x,w,r,s,R,21,m[59]),s=f(s,x,w,r,C,6,m[60]),r=f(r,s,x,w,V,10,m[61]),w=f(w,r,s,x,q,15,m[62]),x=f(x,w,r,s,O,21,m[63]);g[0]=g[0]+s|0;g[1]=g[1]+x|0;g[2]=g[2]+w|0;g[3]=g[3]+r|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/
4294967296);c[(e+64>>>9<<4)+15]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360;c[(e+64>>>9<<4)+14]=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360;b.sigBytes=4*(c.length+1);this._process();b=this._hash;c=b.words;for(d=0;4>d;d++)e=c[d],c[d]=(e<<8|e>>>24)&16711935|(e<<24|e>>>8)&4278255360;return b},clone:function(){var a=k.clone.call(this);a._hash=this._hash.clone();return a}});g.MD5=k._createHelper(e);g.HmacMD5=k._createHmacHelper(e)})(Math);
(function(){var a=CryptoJS,b=a.lib,c=b.Base,d=b.WordArray,b=a.algo,f=b.EvpKDF=c.extend({cfg:c.extend({keySize:4,hasher:b.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){for(var c=this.cfg,f=c.hasher.create(),m=d.create(),q=m.words,p=c.keySize,c=c.iterations;q.length<p;){u&&f.update(u);var u=f.update(a).finalize(b);f.reset();for(var n=1;n<c;n++)u=f.finalize(u),f.reset();m.concat(u)}m.sigBytes=4*p;return m}});a.EvpKDF=function(a,b,c){return f.create(c).compute(a,
b)}})();
CryptoJS.lib.Cipher||function(a){var b=CryptoJS,c=b.lib,d=c.Base,f=c.WordArray,g=c.BufferedBlockAlgorithm,e=b.enc.Base64,h=b.algo.EvpKDF,k=c.Cipher=g.extend({cfg:d.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c);this._xformMode=a;this._key=b;this.reset()},reset:function(){g.reset.call(this);this._doReset()},process:function(a){this._append(a);return this._process()},
finalize:function(a){a&&this._append(a);return this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(a){return{encrypt:function(b,c,d){return("string"==typeof c?v:n).encrypt(a,b,c,d)},decrypt:function(b,c,d){return("string"==typeof c?v:n).decrypt(a,b,c,d)}}}});c.StreamCipher=k.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var m=b.mode={},q=function(b,c,d){var e=this._iv;e?this._iv=a:e=this._prevBlock;for(var f=0;f<d;f++)b[c+f]^=
e[f]},p=(c.BlockCipherMode=d.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a;this._iv=b}})).extend();p.Encryptor=p.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize;q.call(this,a,b,d);c.encryptBlock(a,b);this._prevBlock=a.slice(b,b+d)}});p.Decryptor=p.extend({processBlock:function(a,b){var c=this._cipher,d=c.blockSize,e=a.slice(b,b+d);c.decryptBlock(a,b);q.call(this,
a,b,d);this._prevBlock=e}});m=m.CBC=p;p=(b.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,e=[],g=0;g<c;g+=4)e.push(d);c=f.create(e,c);a.concat(c)},unpad:function(a){a.sigBytes-=a.words[a.sigBytes-1>>>2]&255}};c.BlockCipher=k.extend({cfg:k.cfg.extend({mode:m,padding:p}),reset:function(){k.reset.call(this);var a=this.cfg,b=a.iv,a=a.mode;if(this._xformMode==this._ENC_XFORM_MODE)var c=a.createEncryptor;else c=a.createDecryptor,this._minBufferSize=1;this._mode=c.call(a,
this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var a=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){a.pad(this._data,this.blockSize);var b=this._process(!0)}else b=this._process(!0),a.unpad(b);return b},blockSize:4});var u=c.CipherParams=d.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),m=(b.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext;a=a.salt;return(a?f.create([1398893684,
1701076831]).concat(a).concat(b):b).toString(e)},parse:function(a){a=e.parse(a);var b=a.words;if(1398893684==b[0]&&1701076831==b[1]){var c=f.create(b.slice(2,4));b.splice(0,4);a.sigBytes-=16}return u.create({ciphertext:a,salt:c})}},n=c.SerializableCipher=d.extend({cfg:d.extend({format:m}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);var e=a.createEncryptor(c,d);b=e.finalize(b);e=e.cfg;return u.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},
decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);return a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a,this):a}}),b=(b.kdf={}).OpenSSL={execute:function(a,b,c,d){d||(d=f.random(8));a=h.create({keySize:b+c}).compute(a,d);c=f.create(a.words.slice(b),4*c);a.sigBytes=4*b;return u.create({key:a,iv:c,salt:d})}},v=c.PasswordBasedCipher=n.extend({cfg:n.cfg.extend({kdf:b}),encrypt:function(a,b,c,d){d=this.cfg.extend(d);c=d.kdf.execute(c,
a.keySize,a.ivSize);d.iv=c.iv;a=n.encrypt.call(this,a,b,c.key,d);a.mixIn(c);return a},decrypt:function(a,b,c,d){d=this.cfg.extend(d);b=this._parse(b,d.format);c=d.kdf.execute(c,a.keySize,a.ivSize,b.salt);d.iv=c.iv;return n.decrypt.call(this,a,b,c.key,d)}})}();
(function(){function a(a,b){var c=(this._lBlock>>>a^this._rBlock)&b;this._rBlock^=c;this._lBlock^=c<<a}function b(a,b){var c=(this._rBlock>>>a^this._lBlock)&b;this._lBlock^=c;this._rBlock^=c<<a}var c=CryptoJS,d=c.lib,f=d.WordArray,d=d.BlockCipher,g=c.algo,e=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,
55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],k=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,
2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,
1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,
75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,
276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,
14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,
17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,
98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,
1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,
10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,
83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,
2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,
16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,
496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,
2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,
2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],q=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=g.DES=d.extend({_doReset:function(){for(var a=this._key.words,b=[],c=0;56>c;c++){var d=e[c]-1;b[c]=a[d>>>5]>>>31-d%32&1}a=this._subKeys=[];for(d=0;16>d;d++){for(var f=a[d]=[],g=k[d],c=0;24>c;c++)f[c/6|0]|=b[(h[c]-1+g)%28]<<31-c%6,f[4+(c/6|0)]|=b[28+(h[c+24]-1+g)%28]<<31-c%6;f[0]=f[0]<<1|f[0]>>>31;for(c=1;7>c;c++)f[c]>>>=
4*(c-1)+3;f[7]=f[7]<<5|f[7]>>>27}b=this._invSubKeys=[];for(c=0;16>c;c++)b[c]=a[15-c]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._subKeys)},decryptBlock:function(a,b){this._doCryptBlock(a,b,this._invSubKeys)},_doCryptBlock:function(c,d,e){this._lBlock=c[d];this._rBlock=c[d+1];a.call(this,4,252645135);a.call(this,16,65535);b.call(this,2,858993459);b.call(this,8,16711935);a.call(this,1,1431655765);for(var f=0;16>f;f++){for(var g=e[f],h=this._lBlock,k=this._rBlock,p=0,A=0;8>A;A++)p|=m[A][((k^
g[A])&q[A])>>>0];this._lBlock=k;this._rBlock=h^p}e=this._lBlock;this._lBlock=this._rBlock;this._rBlock=e;a.call(this,1,1431655765);b.call(this,8,16711935);b.call(this,2,858993459);a.call(this,16,65535);a.call(this,4,252645135);c[d]=this._lBlock;c[d+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});c.DES=d._createHelper(p);g=g.TripleDES=d.extend({_doReset:function(){var a=this._key.words;this._des1=p.createEncryptor(f.create(a.slice(0,2)));this._des2=p.createEncryptor(f.create(a.slice(2,4)));this._des3=
p.createEncryptor(f.create(a.slice(4,6)))},encryptBlock:function(a,b){this._des1.encryptBlock(a,b);this._des2.decryptBlock(a,b);this._des3.encryptBlock(a,b)},decryptBlock:function(a,b){this._des3.decryptBlock(a,b);this._des2.encryptBlock(a,b);this._des1.decryptBlock(a,b)},keySize:6,ivSize:2,blockSize:2});c.TripleDES=d._createHelper(g)})();
function bCrypt(){this.BLOWFISH_NUM_ROUNDS=this.BCRYPT_SALT_LEN=16;this.P_orig=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];this.S_orig=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,
3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,
596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,
79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,
3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,
2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,
1266315497,3048417604,3681880366,3289982499,290971E4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,
3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,
1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,
3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,
1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,
1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,
3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,
69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,
3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,
3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,
2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,
1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,
993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,
2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409E3,2509781533,112762804,3463356488,1866414978,891333506,
18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,
1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,
2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];this.bf_crypt_ciphertext=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];this.base64_code="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split("");this.index_64=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];this.P;this.S;this.lr;this.offp}bCrypt.prototype.getByte=function(a){try{var b=a.charCodeAt(0)}catch(c){b=a}return 127<b?-128+b%128:b};
bCrypt.prototype.encode_base64=function(a,b){var c=0,d=[],f,g;if(0>=b||b>a.length)throw"Invalid len";for(;c<b;){f=a[c++]&255;d.push(this.base64_code[f>>2&63]);f=(f&3)<<4;if(c>=b){d.push(this.base64_code[f&63]);break}g=a[c++]&255;f|=g>>4&15;d.push(this.base64_code[f&63]);f=(g&15)<<2;if(c>=b){d.push(this.base64_code[f&63]);break}g=a[c++]&255;f|=g>>6&3;d.push(this.base64_code[f&63]);d.push(this.base64_code[g&63])}return d.join("")};
bCrypt.prototype.char64=function(a){a=a.charCodeAt(0);return 0>a||a>this.index_64.length?-1:this.index_64[a]};
bCrypt.prototype.decode_base64=function(a,b){var c=0,d=a.length,f=0,g=[],e,h,k;if(0>=b)throw"Invalid maxolen";for(;c<d-1&&f<b;){e=this.char64(a.charAt(c++));h=this.char64(a.charAt(c++));if(-1==e||-1==h)break;k=this.getByte(e<<2);k|=(h&48)>>4;g.push(String.fromCharCode(k));if(++f>=b||c>=d)break;e=this.char64(a.charAt(c++));if(-1==e)break;k=this.getByte((h&15)<<4);k|=(e&60)>>2;g.push(String.fromCharCode(k));if(++f>=b||c>=d)break;h=this.char64(a.charAt(c++));k=this.getByte((e&3)<<6);k|=h;g.push(String.fromCharCode(k));
++f}d=[];for(c=0;c<f;c++)d.push(this.getByte(g[c]));return d};bCrypt.prototype.encipher=function(a,b){var c,d,f=a[b],g=a[b+1],f=f^this.P[0];for(c=0;c<=this.BLOWFISH_NUM_ROUNDS-2;)d=this.S[f>>24&255],d+=this.S[256|f>>16&255],d^=this.S[512|f>>8&255],d+=this.S[768|f&255],g=g^d^this.P[++c],d=this.S[g>>24&255],d+=this.S[256|g>>16&255],d^=this.S[512|g>>8&255],d+=this.S[768|g&255],f=f^d^this.P[++c];a[b]=g^this.P[this.BLOWFISH_NUM_ROUNDS+1];a[b+1]=f};
bCrypt.prototype.streamtoword=function(a,b){var c,d=0,f=b;for(c=0;4>c;c++)d=d<<8|a[f]&255,f=(f+1)%a.length;this.offp=f;return d};bCrypt.prototype.init_key=function(){this.P=this.P_orig.slice();this.S=this.S_orig.slice()};
bCrypt.prototype.key=function(a){var b;this.offp=0;var c=[0,0],d=this.P.length,f=this.S.length;for(b=0;b<d;b++)this.P[b]^=this.streamtoword(a,this.offp);for(b=0;b<d;b+=2)this.encipher(c,0),this.P[b]=c[0],this.P[b+1]=c[1];for(b=0;b<f;b+=2)this.encipher(c,0),this.S[b]=c[0],this.S[b+1]=c[1]};
bCrypt.prototype.ekskey=function(a,b){var c;this.offp=0;var d=[0,0],f=this.P.length,g=this.S.length;for(c=0;c<f;c++)this.P[c]^=this.streamtoword(b,this.offp);for(c=this.offp=0;c<f;c+=2)d[0]^=this.streamtoword(a,this.offp),d[1]^=this.streamtoword(a,this.offp),this.encipher(d,0),this.P[c]=d[0],this.P[c+1]=d[1];for(c=0;c<g;c+=2)d[0]^=this.streamtoword(a,this.offp),d[1]^=this.streamtoword(a,this.offp),this.encipher(d,0),this.S[c]=d[0],this.S[c+1]=d[1]};
bCrypt.prototype.crypt_raw=function(a,b,c,d,f){var g,e,h=this.bf_crypt_ciphertext.slice(),k=h.length;if(4>c||31<c)throw"Bad number of rounds";if(b.length!=this.BCRYPT_SALT_LEN)throw"Bad salt length";g=1<<c;this.init_key();this.ekskey(b,a);var m=this,q=0,p=0;setTimeout(function(){for(;q<g;){m.key(a);m.key(b);++q;var c=parseInt(100*(q/g));if(c!=p){p=c;d(c);setTimeout(arguments.callee,0);return}}for(q=0;64>q;q++)for(e=0;e<k>>1;e++)m.encipher(h,e<<1);c=[];for(q=0;q<k;q++)c.push(m.getByte(h[q]>>24&255)),
c.push(m.getByte(h[q]>>16&255)),c.push(m.getByte(h[q]>>8&255)),c.push(m.getByte(h[q]&255));f(c)},0)};
bCrypt.prototype.hashpw=function(a,b,c,d){var f=[],g=[],e=String.fromCharCode(0),h=0,k=0;if(!m)var m=function(){};if("$"!=b.charAt(0)||"2"!=b.charAt(1))throw"Invalid salt version";if("$"==b.charAt(2))k=3;else{e=b.charAt(2);if("a"!=e||"$"!=b.charAt(3))throw"Invalid salt revision";k=4}if("$"<b.charAt(k+2))throw"Missing salt rounds";var m=10*parseInt(b.substring(k,k+1)),q=parseInt(b.substring(k+1,k+2)),h=m+q;b=b.substring(k+3,k+25);a+="a"<=e?"\x00":"";for(k=0;k<a.length;k++)f.push(this.getByte(a.charAt(k)));
var g=this.decode_base64(b,this.BCRYPT_SALT_LEN),p=this;this.crypt_raw(f,g,h,c,function(a){var b=[];b.push("$2");"a"<=e&&b.push(e);b.push("$");10>h&&b.push("0");b.push(h.toString());b.push("$");b.push(p.encode_base64(g,g.length));b.push(p.encode_base64(a,4*p.bf_crypt_ciphertext.length-1));d(b.join(""))})};bCrypt.prototype.ready=function(){return"undefined"!=typeof this.PRNG&&this.PRNG.isReadyToGenerateRandomValues()?!0:!1};var gTouchStartTimeMs=0;
function touchConvert(a){a.preventDefault();var b=null,c=a.changedTouches[0],b=(new Date).getTime(),d=document.createEvent("MouseEvent"),f=!1;switch(a.type){case "touchstart":gTouchStartTimeMs=b;b="mousedown";break;case "touchmove":b="mousemove";break;case "touchcancel":case "touchend":f=500>b-gTouchStartTimeMs;b="mouseup";break;default:return}d.initMouseEvent(b,!0,!0,a.target.ownerDocument.defaultView,0,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);a.target.dispatchEvent(d);
f&&(d=document.createEvent("MouseEvent"),d.initMouseEvent("click",!0,!0,a.target.ownerDocument.defaultView,0,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),a.target.dispatchEvent(d))}
function makeTouchable(a){a.context.addEventListener?(a.context.addEventListener("touchstart",touchConvert,!0),a.context.addEventListener("touchmove",touchConvert,!0),a.context.addEventListener("touchend",touchConvert,!0)):a.context.attachEvent&&(a.context.attachEvent("touchstart",touchConvert),a.context.attachEvent("touchmove",touchConvert),a.context.attachEvent("touchend",touchConvert))}
function onTouch(a,b){a.context.addEventListener?a.context.addEventListener("touchend",b,!0):a.context.attachEvent&&a.context.attachEvent("touchend",b)}
(function(a){a.widget("ui.combobox",{options:{editable:!1,darkBackground:!1,inlineStyle:{},icons:{}},_create:function(){var b=this.element,c=this.element.children("option:selected").last(),c=this.element.children("option").index(c);b.context.selectedIndex=c;var d=void 0==b.attr("id")?(new Date).getTime():b.attr("id"),f=b.outerWidth(!0),g=Math.max(20,b.height()),e=f-16-11;this.elementId=d;this.editWidth=e-4;var h=this.options.darkBackground?"combobox_value_bright":"combobox_value_dark";HTMLString=
'<span id="'+d+'_combobox" class="combobox" style="width: '+f+"px; height: "+g+'px">';HTMLString+='<div id="'+d+'_value" style="width: '+e+"px; line-height: "+g+'px" class="combobox_value '+h+' clickable ui-button ui-widget ui-state-default ui-button-disabled ui-state-disabled ui-button-text-only ui-corner-left">';HTMLString+="</div>";HTMLString+='<div id="'+d+'_open" class="combobox_open ui-button ui-widget ui-state-default ui-corner-right">';HTMLString+='<span class="ui-icon ui-icon-triangle-2-n-s" style="margin-top: 1px"></span>';
HTMLString+="</div>";HTMLString+='<div id="'+d+'_options" class="combobox_list ui-corner-all"></div>';HTMLString+="</span>";b.after(HTMLString);b.hide();this.editable(this.options.editable);var k=this.options.icons;a("#"+d+"_combobox").css(this.options.inlineStyle);b.children("option").each(function(){"-"==a(this).val()?a("#"+d+"_options").append('<div class="separator"></div>'):void 0!=k[a(this).val()]?a("#"+d+"_options").append('<div class="option"><img src="'+k[a(this).val()]+'"/><div class="text">'+
a(this).text()+"</div></div>"):a("#"+d+"_options").append('<div class="option"><div class="text">'+a(this).text()+"</div></div>")});this.optionField=a("#"+d+"_options");this.optionField.children(".option, .separator").eq(c).addClass("selected");a("#"+d+"_open, #"+d+"_value").click(function(c){a(".combobox_list").hide();for(var e=b.children("option:selected").last(),e=b.children("option").index(e),f=e-6,g=0,h=0,k=0,m=a("#"+d+"_options"),B=m.children(".option, .separator"),C=B.eq(e-1),z=e-1;0<=z;--z){var A=
C.outerHeight(!0),k=k+A;z>f&&(g+=A,h+=A);C=C.prev()}f=Math.min(e+6,B.length);C=B.eq(e);for(z=e;z<f;++z)A=C.outerHeight(!0),h+=A,C=C.next();m.css("top",-g).height(h).show().scrollTop(k-g);var E=a("#"+d+"_combobox").width();B.each(function(){E=Math.max(a(this).outerWidth(),E)});m.width(E);c.stopPropagation()});var m=this;this.optionField.children(".option").click(function(){a("#"+d+"_options > .option").removeClass("selected");a(this).addClass("selected");b.context.selectedIndex=a(this).index();b.change();
var c=a("#"+d+"_value:first"),e=b.val();void 0!=k[e]?c.empty().append('<img class="combobox_valueimg" src="'+k[e]+'"/><div class="combobox_valuetext">'+a(this).text()+"</div>"):m.options.editable?c.children("input").val(a(this).text()).focus():c.empty().append('<div class="combobox_valuetext">'+a(this).text()+"</div>");a("#"+d+"_options").hide()})},editable:function(b){this.options.editable=b;var c=this.element.children("option:selected").last(),d=c.text();b?(HTMLString='<input id="'+this.elementId+
'_edit" class="combobox_edit" style="width: '+this.editWidth+'px" type="text"/>',a("#"+this.elementId+"_value").empty().append(HTMLString),a("#"+this.elementId+"_edit").val(d).focus().click(function(a){a.stopPropagation()})):(ValueField=a("#"+this.elementId+"_value").empty(),void 0!=this.options.icons[c.val()]?ValueField.append('<img class="combobox_valueimg" src="'+this.options.icons[c.val()]+'"/><div class="combobox_valuetext">'+d+"</div>"):ValueField.append('<div class="combobox_valuetext">'+d+
"</div>"))},destroy:function(){this.element.show();this.replacement.detach();a.Widget.prototype.destroy.call(this)}})})(jQuery);$(document).click(function(){$(".combobox_list").hide()});var s_Itoa64="./0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function finalHash(a,b){return CryptoJS.SHA256(a+b).toString()}
function hash(a,b,c,d,f,g){var e="";switch(b){case "cleartext":g(c);return;case "native_sha256s":e=hash_native_sha256s(c,d);break;case "phpbb3_md5r":hash_prefixed_md5r(c,"$H$",d,f,function(b){g(finalHash(a,b))});return;case "wp_md5r":hash_prefixed_md5r(c,"$P$",d,f,function(b){g(finalHash(a,b))});return;case "phpbb3_md5":case "eqdkp_md5":e=hash_generic_md5(c);break;case "eqdkp_sha512s":e=hash_eqdkp_sha512s(c,d);break;case "eqdkp_sha512sb":hash_eqdkp_sha512sb(c,d,f,function(b){g(finalHash(a,b))});return;
case "eqdkp_sha512sd":hash_eqdkp_sha512sd(c,d,f,function(b){g(finalHash(a,b))});return;case "eqdkp_sha512r":hash_eqdkp_sha512r(c,d,f,function(b){g(finalHash(a,b))});return;case "mybb_md5s":e=hash_mybb_md5s(c,d);break;case "smf_sha1s":e=hash_smf_sha1s(c,d);break;case "vb3_md5s":e=hash_vb3_md5s(c,d);break;case "jml_md5s":e=hash_jml_md5s(c,d);break;case "jml_bf":e=hash_jml_bf(c,d,f,function(b){g(finalHash(a,b))});return;case "vanilla_md5r":hash_vanilla_md5r(c,d,f,function(b){g(finalHash(a,b))});return;
case "drupal_sha512":hash_drupal_sha512(c,d,!1,f,function(b){g(finalHash(a,b))});return;case "drupal_usha512":hash_drupal_sha512(c,d,!0,f,function(b){g(finalHash(a,b))});return;case "drupal_pmd5":hash_drupal_md5(c,d,!1,"$P$",f,function(b){g(finalHash(a,b))});return;case "drupal_upmd5":hash_drupal_md5(c,d,!0,"U$P$",f,function(b){g(finalHash(a,b))});return;case "drupal_hmd5":hash_drupal_md5(c,d,!1,"$H$",f,function(b){g(finalHash(a,b))});return;case "drupal_uhmd5":hash_drupal_md5(c,d,!0,"U$H$",f,function(b){g(finalHash(a,
b))});return}g(finalHash(a,e))}
function getPasswordStrength(a){var b="#ccc",c=0;if(0<a.length){for(var b=[{used:0,min:32,max:48},{used:0,min:48,max:58},{used:0,min:58,max:65},{used:0,min:65,max:91},{used:0,min:91,max:97},{used:0,min:97,max:123},{used:0,min:123,max:127}],d=[{r:255,g:0,b:0},{r:255,g:255,b:0},{r:0,g:255,b:0}],f=0;f<a.length;++f)for(var g=a.charCodeAt(f),c=0;c<b.length;++c)if(g>=b[c].min&&g<b[c].max){++b[c].used;break}for(c=g=f=0;c<b.length;++c)0<b[c].used&&(g+=b[c].used,f+=b[c].max-b[c].min);g<a.length&&(f+=32);c=
Math.min(1,Math.pow(f,a.length/10)/128);b="#";a=1/(d.length-1);g=Math.min(parseInt(c/a,10),d.length-2);a=(c-a*g)/a;var f=d[g],e=d[g+1],d=parseInt(f.r*(1-a)+e.r*a,10),g=parseInt(f.g*(1-a)+e.g*a,10);a=parseInt(f.b*(1-a)+e.b*a,10);b+=(16>d?"0":"")+d.toString(16);b+=(16>g?"0":"")+g.toString(16);b+=(16>a?"0":"")+a.toString(16)}return{color:b,quality:c}}
function encode64(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c]>>24&255),b.push(a[c]>>16&255),b.push(a[c]>>8&255),b.push(a[c]&255);a="";for(c=0;c<b.length;){var d=b[c++];a+=s_Itoa64[d&63];c<b.length&&(d|=b[c]<<8);a+=s_Itoa64[d>>6&63];if(c++>=b.length)break;c<b.length&&(d|=b[c]<<16);a+=s_Itoa64[d>>12&63];if(c++>=b.length)break;a+=s_Itoa64[d>>>18&63]}return a}function hash_native_sha256s(a,b){return CryptoJS.SHA256(CryptoJS.SHA1(a)+b)}function hash_generic_md5(a,b){return CryptoJS.MD5(a)}
function hash_prefixed_md5r(a,b,c,d,f){c=c.split(":");var g=parseInt(c[0],10),e=1<<g,h=c[1],k=CryptoJS.MD5(h+a),m=CryptoJS.algo.MD5.create(),q=0,p=0;window.setTimeout(function(){for(;q<e;){m.update(k);m.update(a);k=m.finalize();m.reset();++q;var c=parseInt(100*(q/e),10);if(c!=p){p=c;d(c);window.setTimeout(arguments.callee,0);return}}d(100);f(b+s_Itoa64.charAt(g)+h+encode64(k.words))},0)}function hash_eqdkp_sha512s(a,b){return CryptoJS.SHA512(b+a)}
function hash_eqdkp_sha512sb(a,b,c,d){var f=new bCrypt,g=b.split(":");b=g[0];var e=g[1];a=CryptoJS.SHA512(e+a).toString();f.hashpw(a,b,c,function(a){c(100);d(a+":"+e)})}
function hash_eqdkp_sha512sd(a,b,c,d){var f=b.split(":");b=f[0];f=f[1];a=CryptoJS.SHA512(f+a).toString();a=CryptoJS.DES.encrypt(a,b);alert('EQDKP password has been hashed using crypt() with CRYPT_EXT_DES.This is not yet supported due to missing details about the crypt() implementation.\nYou can set "USE_CLEARTEXT_PASSWORDS" to "true" in the config to work around this problem.');c(100);d("_"+a+":"+f)}
function hash_eqdkp_sha512r(a,b,c,d){b=b.split(":");var f=parseInt(b[0],10),g=1<<f,e=b[1],h=b[2],k=CryptoJS.SHA512(e+a).toString(),m=CryptoJS.SHA512(h+k),q=CryptoJS.algo.SHA512.create(),p=0,u=0;window.setTimeout(function(){for(;p<g;){q.update(m);q.update(k);m=q.finalize();q.reset();++p;var a=parseInt(100*(p/g),10);if(a!=u){u=a;c(a);window.setTimeout(arguments.callee,0);return}}c(100);d("$S$"+s_Itoa64.charAt(f)+h+encode64(m.words)+":"+e)},0)}
function hash_mybb_md5s(a,b){return CryptoJS.MD5(CryptoJS.MD5(b)+CryptoJS.MD5(a))}function hash_smf_sha1s(a,b){return CryptoJS.SHA1(b+a)}function hash_vb3_md5s(a,b){return CryptoJS.MD5(CryptoJS.MD5(a)+b)}function hash_jml_md5s(a,b){return CryptoJS.MD5(a+b).toString()+":"+b}function hash_jml_bf(a,b,c,d){var f=new bCrypt,g=b.substr(0,3);b="$2a"+b.substr(3);f.hashpw(a,b,c,function(a){c(100);a=g+a.substr(3);d(a)})}
function hash_vanilla_md5r(a,b,c,d){b=b.split(":");var f=parseInt(b[0],10),g=1<<f,e=b[1],h=CryptoJS.MD5(e+a),k=CryptoJS.algo.MD5.create(),m=0,q=0;window.setTimeout(function(){for(;m<g;){k.update(h);k.update(a);h=k.finalize();k.reset();++m;var b=parseInt(100*(m/g),10);if(b!=q){q=b;c(b);window.setTimeout(arguments.callee,0);return}}c(100);d("$P$"+s_Itoa64.charAt(f)+e+encode64(h.words))},0)}
function hash_drupal_sha512(a,b,c,d,f){b=b.split(":");var g=parseInt(b[0],10),e=1<<g,h=b[1],k=c?"U$S$":"$S$",m=c?CryptoJS.MD5(a):a,q=CryptoJS.SHA512(h+m),p=CryptoJS.algo.SHA512.create(),u=0,n=0;window.setTimeout(function(){for(;u<e;){p.update(q);p.update(m);q=p.finalize();p.reset();++u;var a=parseInt(100*(u/e),10);if(a!=n){n=a;d(a);window.setTimeout(arguments.callee,0);return}}d(100);a=k+s_Itoa64.charAt(g)+h+encode64(q.words);f(a.substring(0,55))},0)}
function hash_drupal_md5(a,b,c,d,f,g){b=b.split(":");var e=parseInt(b[0],10),h=1<<e,k=b[1],m=c?CryptoJS.MD5(a):a,q=CryptoJS.MD5(k+a),p=CryptoJS.algo.MD5.create(),u=0,n=0;window.setTimeout(function(){for(;u<h;){p.update(q);p.update(m);q=p.finalize();p.reset();++u;var a=parseInt(100*(u/h),10);if(a!=n){n=a;f(a);window.setTimeout(arguments.callee,0);return}}f(100);a=d+s_Itoa64.charAt(e)+k+encode64(q.words);g(a.substring(0,55))},0)}
function getDateFromUTC(a,b,c,d,f){a=new Date(Date.UTC(parseInt(a,10),parseInt(b,10),parseInt(c,10),parseInt(d,10),parseInt(f,10),0));void 0!=gUser.settings.timeoffset&&a.setMinutes(a.getMinutes()+gUser.settings.timeoffset.number);return a}function getDateFromUTCString(a,b){var c=a.split("-"),d=b.split(":"),f=parseInt(c[1],10)-1;return getDateFromUTC(c[0],f,c[2],d[0],d[1])}function leadingZero(a){return 10>a?"0"+a:a}
function formatTime(a,b,c,d,f){a=getDateFromUTC(a,b,c,d,f);b=a.getHours();if(24==gSite.TimeFormat)return leadingZero(b)+":"+leadingZero(a.getMinutes());c=" pm";12>b?c=" am":b-=12;0===b&&(b=12);return leadingZero(b)+":"+leadingZero(a.getMinutes())+c}function formatTimeStringUTC(a,b){var c=a.split("-"),d=b.split(":"),f=parseInt(c[1],10)-1;return formatTime(c[0],f,c[2],d[0],d[1])}
function formatDateTime(a,b,c,d,f){var g=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];a=getDateFromUTC(a,b,c,d,f);b=a.getHours();if(24==gSite.TimeFormat)return leadingZero(a.getDate())+". "+g[a.getMonth()]+", "+leadingZero(b)+":"+leadingZero(a.getMinutes());c=" pm";12>b?c=" am":b-=12;0===b&&(b=12);d="th";if(10>a.getDate()||20<a.getDate())switch(a.getDate()%10){case 1:d="st";break;case 2:d="nd";break;
case 3:d="rd";break;default:d="th"}return g[a.getMonth()-1]+" "+leadingZero(a.getDate())+d+", "+leadingZero(b)+":"+leadingZero(a.getMinutes())+c}function formatDateTimeStringUTC(a,b){var c=a.split("-"),d=b.split(":"),f=parseInt(c[1],10)-1;return formatDateTime(c[0],f,c[2],d[0],d[1])}
function formatDate(a,b,c,d,f){var g=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];a=getDateFromUTC(a,b,c,d,f);a.getHours();if(24==gSite.TimeFormat)return leadingZero(a.getDate())+". "+g[a.getMonth()];b="th";if(10>a.getDate()||20<a.getDate())switch(a.getDate()%10){case 1:b="st";break;case 2:b="nd";break;case 3:b="rd";break;default:b="th"}return g[a.getMonth()-1]+" "+leadingZero(a.getDate())+b}
function formatDateStringUTC(a,b){var c=a.split("-"),d=b.split(":"),f=parseInt(c[1],10)-1;return formatDate(c[0],f,c[2],d[0],d[1])}function formatDateOffsetUTC(a,b){var c=a.split("-"),d=b.split(":"),f=parseInt(c[1],10)-1,c=-getDateFromUTC(c[0],f,c[2],d[0],d[1]).getTimezoneOffset();void 0!=gUser.settings.timeoffset&&(c=gUser.settings.timeoffset.number);return 0<c?"(UTC+"+c/60+")":0>c?"(UTC"+c/60+")":"(UTC)"}
function formatHourPrefixed(a){a=parseInt(a,10);if(24==gSite.TimeFormat)return leadingZero(a);var b="pm ";12>a?b="am ":a-=12;return 0===a?b+"12":b+leadingZero(a)}function asyncQuery(a,b,c,d){null==b&&(b={});b.Action=a;a=function(a){null!=a.error&&0!=a.error.length||c(a)};$.ajax({type:"POST",url:"lib/messagehub.php",dataType:"json",async:!0,data:b,complete:onAsyncDone,success:!0===d?c:a,error:onAsyncError})}
function blockingQuery(a,b,c){null==b&&(b={});b.Action=a;$.ajax({type:"POST",url:"lib/messagehub.php",dataType:"json",async:!1,data:b,complete:onAsyncDone,success:c,error:onAsyncError})}function getXHRErrors(a){if(null!=a.error&&0<a.error.length){var b="";$.each(a.error,function(a,d){b+=d});return b}return null}function onAsyncDone(a){$("#ajaxblocker").clearQueue().hide();a=getXHRErrors(a.responseJSON);null!=a&&notify(L("RequestError")+"<br/><br/>"+a)}
function onAsyncError(a,b,c){$("#ajaxblocker").clearQueue().hide();a=L("RequestError")+"<br/><br/>Status "+b+"<br/>"+c;notify(a)}var gUnappliedChanges=!1,gUser=null,gSite=null,gGame=null,gLocale=null;function L(a){return null==gLocale||null==gLocale[a]?"LOCA_MISSING_"+a:gLocale[a]}function dispatch(a){setTimeout(function(){setTimeout(a,1)},1)}function tryAutoLogin(){blockingQuery("try_auto_login",null,function(a){})}
function reloadLocale(){blockingQuery("query_locale",null,function(a){gLocale=a.locale})}function reloadUser(){gUser=null;blockingQuery("query_user",null,function(a){a.registeredUser?gUser=a:initMenu()})}function reloadConfig(){blockingQuery("query_config",null,function(a){gSite=a.site;gGame=a.game;onChangeConfig()})}function hash_fnv(a){var b=2166136261;a=a.toString();for(var c=0;c<a.length;++c)b^=a.charCodeAt(c),b+=(b<<1)+(b<<4)+(b<<7)+(b<<8)+(b<<24);return b>>>0}
function hash_object(a){var b="",c;for(c in a)b+=a[c].toString();return hash_fnv(b)}
function onChangeConfig(){var a=hash_object(gSite);$('link[rel="stylesheet"]').each(function(){var b=this.href.indexOf("?");if(-1<b){for(var d=this.href.substr(0,b),b=this.href.substr(b+1).split("&"),d=d+"?v="+a,f=0;f<b.length;++f)"v"!=b[f].split("=")[0]&&(d+="&"+b[f]);this.href=d}else this.href=this.href+"?v="+a});$("#banner").detach();if("disable"!=gSite.Banner.toLowerCase()){""!==gSite.BannerLink?$("#menu").before('<a id="banner" href="'+gSite.BannerLink+'"></a>'):$("#menu").before('<div id="banner"></div>');
var b="none"!=gSite.Banner.toLowerCase()?"url(themes/banner/"+gSite.Banner+")":"none";$("#banner").css("background-image",b)}""!=gSite.HelpLink?$("#help").show():$("#help").hide();gSite.Logout?$("#logout").css("display","inline-block"):$("#logout").hide();$("#appwindow").removeClass("portalmode");gSite.PortalMode&&$("#appwindow").addClass("portalmode");"none"==gSite.Background?$("body").css("background","none"):$("body").css("background",gSite.BGColor+" url(themes/backgrounds/"+gSite.Background+") "+
gSite.BGRepeat)}function onUIDataChange(){gUnappliedChanges=!0;$(".apply_changes").button("option","disabled",!1)}function onAppliedUIDataChange(){gUnappliedChanges=!1;$(".apply_changes").button("option","disabled",!0)}
function onChangeContext(a){var b=a.currentTarget.id;a=b.split("_");for(var b=a[1],c=2;c<a.length;++c)b+=","+a[c];gUnappliedChanges?window.location.hash.substring(1,window.location.hash.length)!=b&&confirm(L("UnappliedChanges"),L("DiscardChanges"),L("Cancel"),function(){changeContext(b);onAppliedUIDataChange()}):changeContext(b)}
function changeContext(a){var b=a.split(",")[0];"settings"==b&&(b="settings_users");var c=window.location.hash.substring(1,window.location.hash.length);$(".menu_button").removeClass("on");$("#button_"+b).addClass("on");hideTooltip();return c!=a?(b=window.location.href.substr(0,window.location.href.lastIndexOf("#")),window.location.href=b+"#"+a,!0):!1}function forceChangeContext(a){changeContext(a)||menuAutoLoad()}
function confirm(a,b,c,d){$("#dialog").empty().append(a);a=$("#dialog").dialog({resizable:!1,draggable:!1,width:400,title:L("Notification"),dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:b,click:function(){$(this).dialog("close");$("#eventblocker").hide();d()}},{text:c,click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();$("#eventblocker").show()}
function notify(a){$("#dialog").empty().append(a);a=$("#dialog").dialog({resizable:!1,draggable:!1,title:L("Notification"),width:400,dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:"Ok",click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();$("#eventblocker").show()}
function prompt(a,b,c,d){$("#dialog").empty().append(a).append('<br/><input id="prompt_text" class="prompt_text"/>');a=$("#dialog").dialog({resizable:!1,draggable:!1,width:400,title:L("InputRequired"),dialogClass:"dialogFix"});a.dialog("option","buttons",[{text:b,click:function(){$(this).dialog("close");$("#eventblocker").hide();d($("#prompt_text").val())}},{text:c,click:function(){$(this).dialog("close")}}]);a.dialog({close:function(){$("#eventblocker").hide()}});$(".ui-dialog-buttonset > *").last().focus();
$("#eventblocker").show()}function openLink(a){window.open(a);return!1}function onResize(){hideTooltip();var a=$("#appwindow").height(),b=$("#appwindow").offset().top,c=$(window).height();c<a?0===$("input:focus").length&&(b=$("#menu").offset().top-b,a-=c,$("#appwindow").offset({top:0}),$(window).scrollTop(Math.min(a,b))):$("#appwindow").offset({top:c/2-a/2})}
$(document).ready(function(){$("#tooltip").hide();$("#sheetoverlay").hide();$("#dialog").hide();$("#ajaxblocker").hide();$(document).ajaxSend(function(){$("#ajaxblocker").clearQueue().hide();0==$("#body *").size()?$("#ajaxblocker").delay(300).queue(function(){$("#body").append('<img id="spinner" style="position: relative; top: 50%; margin-top: -32px" src="lib/layout/images/busy.gif"/>');$(this).dequeue()}):0==$("#spinner").size()&&$("#ajaxblocker").delay(800).show(200)});$(window).bind("hashchange",
menuAutoLoad);$(window).resize(onResize);reloadLocale();reloadConfig();tryAutoLogin();reloadUser();initMenu();$("#closesheet").click(closeSheet);$("#body, #banner, #menu").click(startFadeTooltip);dispatch(onResize)});
function menuAutoLoad(){var a=window.location.hash.substring(1,window.location.hash.length),b=a.split(",");if(null==gUser)switch(b[0]){default:changeContext("login");generateLogin();break;case "register":changeContext(a);generateRegistration();break;case "login":changeContext(a),generateLogin()}else if(gUser.validUser)switch(b[0]){default:0!=gUser.characterNames.length||gUser.isAdmin?(changeContext("calendar"),loadDefaultCalendar()):(changeContext("profile"),loadProfile("characters",0));break;case "calendar":changeContext(a);
loadDefaultCalendar();break;case "profile":changeContext(a);1>=b.length?loadProfile("characters",0):2==b.length?loadProfilePanel(b[1],0):loadProfilePanel(b[1],parseInt(b[2],10));break;case "raid":changeContext(a);1>=b.length?loadAllRaids():2==b.length?loadRaid(parseInt(b[1],10),"setup"):loadRaidPanel(b[1],parseInt(b[2],10));break;case "settings":gUser.isAdmin&&(changeContext(a),1>=b.length?loadSettings("users"):loadSettingsPanel(b[1]))}}
function doLogOut(){var a=function(){asyncQuery("logout",null,function(){gUnappliedChanges=!1;reloadUser();initMenu()})};gUnappliedChanges?confirm(L("UnappliedChanges"),L("DiscardChanges"),L("Cancel"),function(){a()}):a()}
function initMenu(){$("#menu").empty();$("#body").empty();if(null==gUser){var a='<span id="button_login" class="menu_button"><div class="icon"></div><div class="text">'+L("Login")+'</div><div class="indicator"></div></span>';gSite.AllowRegistration&&(a+='<span id="button_register" class="menu_button"><div class="icon"></div><div class="text">'+L("Register")+'</div><div class="indicator"></div></span>');$("#menu").append(a);$("#button_login").click(onChangeContext);$("#button_register").click(onChangeContext);
forceChangeContext("login")}else!gUser.validUser&&gUser.registeredUser?(a='<div id="logout"'+(gSite.Logout?"":' style="display:none"')+'><button class="button_logout">'+L("Logout")+"</button></div>",$("#menu").append(a),$(".button_logout").button({icons:{secondary:"ui-icon-eject"}}),$(".button_logout").click(doLogOut),a='<div id="lockMessage">'+(L("AccountIsLocked")+"<br/>"),a+=L("ContactAdminToUnlock"),a+="</div>",$("#body").empty().append(a)):(a=""+('<span id="button_calendar" class="menu_button"><div class="icon"></div><div class="text">'+
L("Calendar")+'</div><div class="indicator"></div></span>'),a+='<span id="button_raid" class="menu_button"><div class="icon"></div><div class="text">'+L("Raid")+'</div><div class="indicator"></div></span>',a+='<span id="button_profile" class="menu_button"><div class="icon"></div><div class="text">'+L("Profile")+'</div><div class="indicator"></div></span>',gUser.isAdmin&&(a+='<span id="button_settings_users" class="menu_button"><div class="icon"></div><div class="text">'+L("Settings")+'</div><div class="indicator"></div></span>'),
a+='<div id="logout"'+(gSite.Logout?"":' style="display:none"')+'><button class="button_logout">'+L("Logout")+"</button></div>",a+='<span id="help"'+(""!=gSite.HelpLink?"":' style="display:none"')+'><button class="button_help"></button></span>',$("#menu").append(a),$(".button_logout").button({icons:{secondary:"ui-icon-eject"}}),$(".button_help").button({icons:{secondary:"ui-icon-help"}}),$("#button_calendar").click(onChangeContext),$("#button_raid").click(onChangeContext),$("#button_profile").click(onChangeContext),
$("#button_settings_users").click(onChangeContext),$(".button_logout").click(doLogOut),$(".button_help").click(function(){openLink(gSite.HelpLink)}),0<window.location.hash.length?menuAutoLoad():0===gUser.characterIds.length?forceChangeContext("profile"):forceChangeContext("calendar"))}
function switchPassField(){$("#loginpass").after('<input id="loginpass" type="password" class="textactive"/>');$("#loginpass:first").detach();$("#loginpass").focus();$("#loginpass").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginname").after('<input id="loginpass" type="text" class="text" value="'+L("Password")+'">'),$("#loginpass").focus(switchPassField))});$("#loginpass").keyup(function(a){13==a.keyCode&&startLogin()})}
function generateLogin(){var a;a='<div id="loginform"><input type="hidden" id="sticky_value" name="sticky" value="false"/>';a+="<div>";a+='<input id="loginname" type="text" class="text" name="user" value="'+L("Username")+'"/>';a+="</div>";a+="<div>";a+='<input id="loginpass" type="text" class="text" value="'+L("Password")+'"/>';a+="</div>";a+='<div class="buttonfield">';a+='<button id="dologin" style="margin-left: 5px" onclick="return startLogin()" class="button_login">'+L("Login")+"</button>";a+=
'<button id="sticky" style="margin-left: 5px" class="button_sticky"></button>';a+="</div>";a+="</div>";$("#body").empty().append(a);$("#loginname").focus(function(){$("#loginname").removeClass("text").addClass("textactive");$("#loginname").val()==L("Username")&&$("#loginname").val("")});$("#loginname").blur(function(){""===$("#loginname").val()&&($("#loginname").removeClass("textactive").addClass("text"),$("#loginname").val(L("Username")))});$("#loginpass").focus(switchPassField);$("#dologin").button().click(startLogin);
$("#sticky").button({icons:{primary:"ui-icon-unlocked"}}).click(function(a){"true"==$("#sticky_value").val()?($(this).button("option","icons",{primary:"ui-icon-unlocked"}),$("#sticky_value").val("false")):($(this).button("option","icons",{primary:"ui-icon-locked"}),$("#sticky_value").val("true"));return!1});$("#loginname").keyup(function(a){13==a.keyCode&&startLogin()})}
function updateProgress(a){100==a?$("#hashing").remove():(0===$("#hashing").length&&$("#sticky_value").after('<div id="hashing"><span class="pglabel">'+L("HashingInProgress")+'</span><span id="hashprogress" class="progress"></span></div>'),$("#hashprogress").css("width",a+"%"))}
function finishLogin(a){if(null!=a.error&&0<a.error.length)$("input").removeAttr("disabled"),$("button").button("option","disabled",!1),$("#hashing").remove();else{var b=a.salt,c=a.pubkey,d=a.method,f=$("#loginpass").val();hash(c,d,f,b,updateProgress,function(b){b={user:$("#loginname").val(),pass:b,sticky:"true"==$("#sticky_value").val()};asyncQuery("login",b,function(){null!=a.error&&0<a.error.length?($("input").removeAttr("disabled"),$("button").button("option","disabled",!1),$("#hashing").remove()):
(reloadUser(),initMenu())},!0)})}}function startLogin(){if(!$("#loginform").data("submitted")){$("input").attr("disabled","disabled");$("button").button("option","disabled",!0);var a={Login:$("#loginname").val()};asyncQuery("query_credentials",a,finishLogin,!0);return!1}}
function validateRegistration(){if(""===$("#loginname").val()||$("#loginname").val()==L("Username"))return notify(L("EnterValidUsername")),!1;if(""===$("#loginpass").val()||$("#loginpass").val()==L("Password"))return notify(L("EnterNonEmptyPassword")),!1;if($("#loginpass").val()!=$("#loginpass_repeat").val())return notify(L("PasswordsNotMatch")),!1;var a={name:$("#loginname").val(),pass:$("#loginpass").val()};asyncQuery("user_create",a,function(a){a.publicmode?notify(L("RegistrationDone")):notify(L("RegistrationDone")+
"<br/>"+L("ContactAdminToUnlock"));changeContext("login");generateLogin()})}
function switchRegisterPassField(){$("#loginpass").after('<input id="loginpass" type="password" class="textactive" name="pass"/>');$("#loginpass:first").detach();$("#loginpass").focus();$("#loginpass").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginpass_repeat").before('<input id="loginpass" type="text" class="text" value="'+L("Password")+'">'),$("#loginpass").focus(switchRegisterPassField))});$("#loginpass").keyup(function(){var a=getPasswordStrength($("#loginpass").val()),
b=parseInt(100*a.quality,10);$("#strength").css("background-color",a.color).css("width",b+"%")})}
function switchRegisterPassRepeatField(){$("#loginpass_repeat").after('<input id="loginpass_repeat" type="password" class="textactive" name="pass_repeat"/>');$("#loginpass_repeat:first").detach();$("#loginpass_repeat").focus();$("#loginpass_repeat").blur(function(){""===$(this).val()&&($(this).unbind("blur"),$(this).detach(),$("#loginpass").after('<input id="loginpass_repeat" type="text" class="text" value="'+L("RepeatPassword")+'">'),$("#loginpass_repeat").focus(switchRegisterPassRepeatField))})}
function generateRegistration(){var a;a='<div id="loginform" style="margin-top:-80px"><input type="hidden" name="register"/>';a+="<div>";a+='<input id="loginname" type="text" class="text" value="'+L("Username")+'"/>';a+="</div>";a+='<div id="strprogress"><span class="pglabel">'+L("PassStrength")+'</span><span id="strength" class="progress"></span></div>';a+="<div>";a+='<input id="loginpass" type="text" class="text" value="'+L("Password")+'"/>';a+="</div>";a+="<div>";a+='<input id="loginpass_repeat" type="text" class="text" value="'+
L("RepeatPassword")+'"/>';a+="</div>";a+='<button id="doregister" onclick="validateRegistration()" style="margin-left: 5px" class="button_register">'+L("Register")+"</button>";a+="</div>";$("#body").empty().append(a);$("#loginname").focus(function(){$("#loginname").removeClass("text").addClass("textactive");$("#loginname").val()==L("Username")&&$("#loginname").val("")});$("#loginname").blur(function(){""===$("#loginname").val()&&($("#loginname").removeClass("textactive").addClass("text"),$("#loginname").val(L("Username")))});
$("#loginpass").focus(switchRegisterPassField);$("#loginpass_repeat").focus(switchRegisterPassRepeatField);$("#doregister").button()}function delayedFadeTooltip(){var a=$("#tooltip");!1===a.data("sticky")&&a.delay(200).fadeOut(100)}function startFadeTooltip(){var a=$("#tooltip");a.fadeOut(100);null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null))}
function hideTooltip(){var a=$("#tooltip");a.stop(!0,!0).clearQueue().hide();null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null))}function showTooltip(){var a=$("#tooltip");null!=a.data("onHide")&&(a.data("onHide")(),a.data("onHide",null));a.stop(!0,!0).clearQueue().show();a.unbind("mouseover");a.unbind("mouseout");a.data("sticky")||(a.mouseover(showTooltip),a.mouseout(delayedFadeTooltip))}
function toggleStickyState(a,b){var c=$("#tooltip"),d=a.attr("id"),f=c.data("id"),f=d==f;if(c.is(":visible")){if(b)c.data("sticky")?(c.data("sticky",!1),c.fadeOut(100)):(a.unbind("mouseout"),c.data("sticky",!0),showTooltip());else{if(!c.data("sticky")&&(a.unbind("mouseout"),a.mouseout(delayedFadeTooltip),!f))return c.data("id",d),!1;showTooltip()}return!0}a.unbind("mouseout");c.data("id",d);b?c.data("sticky",!0):(c.data("sticky",!1),a.mouseout(delayedFadeTooltip));return!1}
function setTooltipArrowTopLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("top left")}function setTooltipArrowTopRightBadge(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("top right_badge")}function setTooltipArrowBottomLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("bottom left")}
function setTooltipArrowBottomRight(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("bottom right")}function setTooltipArrowLeft(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("side_left")}function setTooltipArrowRight(){$("#tooltip_arrow").removeClass("top bottom left right side_left side_right").addClass("side_right")}
function getPageCenter(){var a=$("#body"),b=a.offset();return{X:b.left+0.5*a.width(),Y:b.top+0.5*a.height()}}function showTooltipRaidInfo(a,b,c,d,f){null!=gUser&&(toggleStickyState(a,f)||showTooltipRaidInfoSwitch(a,b,c,d))}
function showTooltipRaidInfoSwitch(a,b,c,d){var f=$("#info_text"),g=$("#tooltip"),e=a.offset(),h=getPageCenter();f.empty().append(generateRaidTooltip(b,c,d));$(".icon",f).click(function(){changeContext("raid,setup,"+b.id)});$(".attend",f).change(function(){triggerAttend(this,b.id,d)});$(".commentbadge",f).click(function(e){showTooltipRaidCommentSwitch(a,b,c,d);e.stopPropagation()});showTooltip();for(var k=[],m=0;m<gUser.characterIds.length;++m)gUser.characterGames[m]==gGame.GameId&&(k[gUser.characterIds[m]]=
"themes/icons/"+gSite.Iconset+"/classessmall/"+gGame.Classes[gUser.characterClass[m][0]].style+".png");$(".attend",f).combobox({inlineStyle:{"float":"left"},darkBackground:!0,icons:k});d?e.top<h.Y?(e.top+=a.height()+12,e.left<h.X?(e.left-=10,g.offset(e),setTooltipArrowTopLeft()):(e.left-=g.width()-a.width()/2-40,g.offset(e),setTooltipArrowTopRightBadge())):(e.top-=g.height()+30,e.left<h.X?(e.left-=10,g.offset(e),setTooltipArrowBottomLeft()):(e.left-=g.width()-a.width()/2-8,g.offset(e),setTooltipArrowBottomRight())):
(e.left+=a.width()+10,g.offset(e),setTooltipArrowLeft())}
function showTooltipRaidCommentSwitch(a,b,c,d){var f=$("#info_text"),g=$("#tooltip").width(),e=$("#tooltip").height();f.empty().append(generateRaidCommentTooltip(b));$(".infobadge",f).click(function(e){showTooltipRaidInfoSwitch(a,b,c,d);e.stopPropagation()});$(".text",f).css("width",g-6).css("height",e-47);$("button",f).click(function(){var a=$(".text",f).val();triggerUpdateComment(a,b.id,d)});$("button",f).button({icons:{secondary:"ui-icon-disk"}})}
function commitAttend(a,b,c,d){asyncQuery("raid_attend",{attendanceIndex:a,fallback:0,raidId:b,comment:d},c?generateCalendar:loadAllRaids)}function triggerAttend(a,b,c){if(null!=gUser){var d=a.value;-1==d?prompt(L("WhyAbsent"),L("SetAbsent"),L("Cancel"),function(a){commitAttend(d,b,c,a)}):commitAttend(d,b,c,"");startFadeTooltip()}}function triggerUpdateComment(a,b,c){null!=gUser&&asyncQuery("comment_update",{raidId:b,comment:a},c?generateCalendar:loadAllRaids)}
function applyLocationImage(a,b){var c=a.src.substr(a.src.lastIndexOf("/")+1);$("#locationimagepicker").css("background-image","url(themes/icons/"+gSite.Iconset+"/raidbig/"+c+")");$("#locationimagepicker").data("selectedImage",c);b&&onUIDataChange();startFadeTooltip()}
function applyLocationImageExternal(a,b){var c=a.src.substr(a.src.lastIndexOf("/")+1),d=$("#locationimagelist").data("external");d.css("background-image","url(themes/icons/"+gSite.Iconset+"/raidsmall/"+c+")");d.data("selectedImage",c);b&&onUIDataChange();startFadeTooltip()}
function onLocationChange(a){$("#locationimagepicker").unbind("click").removeClass("clickable");0===a.selectedIndex?($(a).combobox("editable",!0),$("#locationimagepicker").addClass("clickable").click(function(a){showTooltipRaidImageList();a.stopPropagation()}),$("#locationimagepicker").css("background-image","url(lib/layout/images/icon_choose.png)")):($(a).combobox("editable",!1),a=$("#locationimagepicker").data("imageNames")[a.selectedIndex-1],$("#locationimagepicker").css("background-image","url(themes/icons/"+
gSite.Iconset+"/raidbig/"+a+")"))}function showTooltipRaidImageListAtElement(a){var b=$("#tooltip");b.data("sticky",!0);if(b.is(":visible"))b.fadeOut(100);else{$("#info_text").empty().append($("#locationimagelist > *").clone());showTooltip();var c=a.offset();c.left+=32<a.width()?5:-10;c.top+=a.height()+10;b.offset(c);setTooltipArrowTopLeft()}}function showTooltipRaidImageList(a){showTooltipRaidImageListAtElement($("#locationimagepicker"))}
function showTooltipCharChooser(a,b,c,d,f){if(!toggleStickyState(a.parent(),d)){var g=$("#tooltip");d=$("#info_text");for(var e=a.offset(),h=getPageCenter(),k="",m=0,q=0;q<b.characters.length;++q)if(b.characters[q].id==b.charId){m=q;break}if("multi"==gGame.ClassMode)for(q=0;q<b.className.length&&b.className[q]!=b.activeClass;++q);for(var p=[],u=[],q=0;q<b.characters.length;++q){var n=b.characters[q];if("multi"==gGame.ClassMode)for(var v=0;v<n.className.length;++v){var y=n.className[v],t=gGame.Classes[y],
t=null==t?c:t.defaultRole;void 0==u[t]&&(u[t]=[]);-1==p.indexOf(t)&&p.push(t);u[t].push({charIdx:q,classId:y,roleId:t})}else y=n.className[0],void 0==u[n.firstRole]&&(u[n.firstRole]=[]),-1==p.indexOf(n.firstRole)&&p.push(n.firstRole),u[n.firstRole].push({charIdx:q,classId:y,roleId:n.firstRole}),n.secondRole!=n.firstRole&&(void 0==u[n.secondRole]&&(u[n.secondRole]=[]),-1==p.indexOf(n.secondRole)&&p.push(n.secondRole),u[n.secondRole].push({charIdx:q,classId:y,roleId:n.secondRole}))}for(var B=[],C=p.indexOf(c),
q=0;q<p.length;++q)B[p[q]]=0;if("___"!=b.className[0])for(n=u[c],q=0;q<n.length;++q)if(n[q].charIdx==m&&("multi"!=gGame.ClassMode||n[q].classId==b.activeClass)){B[c]=q;break}a.data("setup_info",{charIdx:m,classId:b.activeClass,roleId:c});k+='<div style="width: 116px; display: inline-block"><div class="role_select">';if(1<p.length)for(k+='<div class="switch_role_up clickable"></div><div class="switch_role_down clickable"></div>',m=C+p.length-1,q=0;q<p.length;++q)n=(m+q)%p.length,k+='<img class="role" style="opacity: '+
(p[n]==c?1:0.25)+'" src="lib/layout/images/icon_'+gGame.Roles[p[n]].style+'.png"/>';else k+='<img class="single_role" src="lib/layout/images/icon_'+gGame.Roles[c].style+'.png"/>';k+="</div>";k+='<div class="char_select'+(1<u[c].length?" clickable":"")+'">';k+='<div class="switch_char_next"></div>';k+='<div class="mainchar"></div>';k+="</div>";gUser.isRaidlead&&"___"!=b.className[0]&&"unavailable"!=b.status&&"undecided"!=b.status&&(k+='<button class="switch_button">'+L("Switch")+"</button>",k+='<button class="absent_button">'+
L("Retire")+"</button>");k+="</div>";k+='<div class="player_info">';k+='<div class="name"></div>';k+='<div class="detail"></div>';if(0===b.comment.length)switch(b.status){case "undecided":k+=L("Undecided");break;case "unavailable":k+=L("AbsentNoReason")}else c=b.comment.replace(/(http[s]*:\/\/\S+)/g,'<a href="$1" target="_blank">$1</a>'),k+=c;k+="</div>";d.empty().append(k);$(".switch_button",d).button({icons:{primary:"ui-icon-transferthick-e-w"}});$(".absent_button",d).button({icons:{primary:"ui-icon-cancel"}});
$(".switch_button",d).click(function(){var a=p[C],c=u[a][B[a]];b.switchTo(c.charIdx,a,c.classId);onUIDataChange();hideTooltip()});$(".absent_button",d).click(function(){b.setAbsent();hideTooltip()});var z=$(".role_select",g),A=$(".char_select",g),E=$(".mainchar",A),I=$(".name",g),O=$(".detail",g),J=function(){var c=p[C],d=u[c][B[c]],e=b.characters[d.charIdx],f=e.name,h=d.classId,h="___"!=h?gGame.Classes[h].style:"random";A.css("background-image","url(themes/icons/"+gSite.Iconset+"/classesbig/"+h+
".png)");I.empty().append(f);if("single"==gGame.ClassMode)e=L(gGame.Roles[e.firstRole].name)+(e.firstRole!=e.secondRole?", "+L(gGame.Roles[e.secondRole].name):""),O.empty().append(e);else{O.empty();for(var k=0;k<e.className.length;++k)"___"==e.className[k]?O.append(L("Random")):O.append((0<k?", ":"")+L(gGame.Classes[e.className[k]].name))}b.characters[d.charIdx].mainchar?E.show():E.hide();A.removeClass("clickable");1<u[c].length?($(".switch_char_next",g).show(),A.addClass("clickable")):$(".switch_char_next",
g).hide();a.data("setup_info",d);!gUser.isRaidlead||"unavailable"!=b.status&&"undecided"!=b.status||($(a).css("backgroundImage","url(themes/icons/"+gSite.Iconset+"/classessmall/"+h+".png)"),$(".playerName",a.parent()).empty().append(f))};J();A.click(function(){var a=p[C];B[a]=(B[a]+1)%u[a].length;J()});$(".switch_role_up",g).click(function(){C=(C+p.length-1)%p.length;$(".role:last",z).clone().prependTo(z);$(".role",z).css("top",-48);$(".role",z).slice(3).animate({top:-16},300);$(".role:eq(1)",z).animate({opacity:1,
top:-16},300);$(".role:eq(2)",z).animate({opacity:0.25,top:-16},300);$(".role:eq(0)",z).animate({top:-16},300,function(){J();$(".role:last",z).detach()})});$(".switch_role_down",g).click(function(){C=(C+1)%p.length;$(".role:first",z).clone().appendTo(z);$(".role",z).slice(3).animate({top:-48},300);$(".role:eq(1)",z).animate({opacity:0.25,top:-48},300);$(".role:eq(2)",z).animate({opacity:1,top:-48},300);$(".role:eq(0)",z).animate({top:-48},300,function(){J();$(".role:first",z).detach();$(".role").css("top",
-16)})});showTooltip();g.data("onHide",f);e.left+=a.width()/2+14;e.top-=g.height()+30;e.left<h.X?(e.left-=40,g.offset(e),setTooltipArrowBottomLeft()):(e.left-=g.width()+6,g.offset(e),setTooltipArrowBottomRight())}}function validateRoles(a){var b=gGame.Classes[a.charClass[0]];if("multi"==gGame.ClassMode)a.role1=b.defaultRole,a.role2=b.defaultRole;else{var c=b.roles,d=!1,f=!1;for(i=0;i<c.length;++i)c[i]==a.role1&&(d=!0),c[i]==a.role2&&(f=!0);d||(a.role1=b.defaultRole);f||(a.role2=b.defaultRole)}}
function showTooltipClassList(a,b){var c=$("#tooltip");c.data("sticky",!0);if(c.is(":visible"))c.fadeOut(100);else{var d=$("#info_text"),f=a.offset(),g=getPageCenter(),e="<div><div>",h=0;$.each(gGame.Classes,function(a,b){0<h&&0==h%5&&(e+='</div><div style="clear: left">');e+='<span class="class_select clickable" id="cs_'+a+'"><img src="themes/icons/'+gSite.Iconset+"/classessmall/"+b.style+'.png"/><br/>'+L(b.name)+"</span>";++h});e+="</div></div>";d.empty().append(e);$(".class_select").click(function(){var c=
$(this).attr("id").substr(3),d=parseInt(a.parent().attr("id").substr(4),10),d=$("#charlist").data("characters").mCharacters[d];d.charClass=Array(c);a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[c].style+".png)");validateRoles(d);b();hideTooltip();onUIDataChange()});showTooltip();f.left<g.X?(f.left+=a.width()+10,setTooltipArrowLeft()):(f.left-=c.width()+30,setTooltipArrowRight());c.offset(f)}}
function showTooltipClassListMultiSelect(a,b){var c=$("#tooltip");c.data("sticky",!0);if(c.is(":visible"))c.fadeOut(100);else{var d=$("#info_text"),f=a.offset(),g=getPageCenter(),e=f.left<g.X,g=parseInt(a.parent().attr("id").substr(4),10),h=$("#charlist").data("characters").mCharacters[g],k="",m=function(){var c="";e&&(c=1<h.charClass.length?c+'<img class="shuffle clickable" src="lib/layout/images/move_left.png"/>':c+'<img class="shuffle" style="opacity: 0.5" src="lib/layout/images/move_left.png"/>');
for(var c=c+'<span style="display: inline-block"><div style="height: 42px">',d=0,f=0;f<h.charClass.length;++f){var g=h.charClass[f];"empty"!=g&&(0<d&&0===d%7&&(c+='</div><div style="height: 42px; clear: left">'),c+='<img class="class_selected'+(1<h.charClass.length?" clickable":"")+'" style="'+(e?"float: left":"float: right")+'" id="cs_'+g+'" src="themes/icons/'+gSite.Iconset+"/classessmall/"+gGame.Classes[g].style+'.png"/>',++d)}c+="</div></span>";e||(c=1<h.charClass.length?c+'<img class="shuffle clickable" src="lib/layout/images/move_right.png"/>':
c+'<img class="shuffle" style="opacity: 0.5" src="lib/layout/images/move_right.png"/>');$(".multi_selected").empty().append(c);$(".class_selected").click(function(){var c=0<$("#tooltip .multi_selected .class_selected:animated").length;1<h.charClass.length&&!c&&(c=$(this).attr("id").substr(3),c=h.charClass.indexOf(c),h.charClass.splice(c,1),a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[h.charClass[0]].style+".png)"),0==c&&(validateRoles(h),b()),m(),onUIDataChange())});
$(".shuffle").click(function(){var c=0<$("#tooltip .multi_selected .class_selected:animated").length;1<h.charClass.length&&!c&&$("#tooltip .multi_selected .class_selected:first").fadeOut(200,function(){h.charClass[h.charClass.length]=h.charClass[0];h.charClass.splice(0,1);a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[h.charClass[0]].style+".png)");validateRoles(h);b();m();onUIDataChange();$("#tooltip .multi_selected .class_selected:last").hide().fadeIn(300)})})},
k=e?k+'<div class="multi_selected"></div>':k+'<div class="multi_selected" style="text-align: right"></div>',k=k+'<div style="clear: left"><div>',q=0;$.each(gGame.Classes,function(a,b){0<q&&0==q%5&&(k+='</div><div style="clear: left">');k+='<span class="class_select clickable" id="cs_'+a+'"><img src="themes/icons/'+gSite.Iconset+"/classessmall/"+b.style+'.png"/><br/>'+L(b.name)+"</span>";++q});k+="</div></div>";d.empty().append(k);m();$(".class_select").click(function(){var c=$(this).attr("id").substr(3);
"empty"==h.charClass[0]&&h.charClass.splice(0,1);-1==h.charClass.indexOf(c)&&(h.charClass.push(c),a.css("background","url(themes/icons/"+gSite.Iconset+"/classesbig/"+gGame.Classes[h.charClass[0]].style+".png)"),1==h.charClass.length&&(validateRoles(h),b()),m(),onUIDataChange())});showTooltip();e?(f.left+=a.width()+10,setTooltipArrowLeft()):(f.left-=c.width()+30,setTooltipArrowRight());c.offset(f)}}
function showUnlinkTooltip(a,b){if(null!=gUser){var c=$("#tooltip");c.data("sticky",b);if(c.is(":visible"))c.fadeOut(100);else{var d=$("#info_text"),f=$(".userLinked > .userImage",a),g=f.offset(),e;e='<div style="width: 200px"><img id="unlink" class="removeLink clickable" src="lib/layout/images/remove.png"/>'+('<div style="padding-top: 2px; margin-right: 4px;">'+L("UnlinkUser")+"</div>");e+="</div>";d.empty().append(e);var h=a.attr("id");$("#unlink").click(function(){unlinkUser(h);hideTooltip()});
showTooltip();g.left+=f.width()+5;g.top-=10;c.offset(g);setTooltipArrowLeft()}}}
function showUserTooltip(a,b){if(null!=gUser){var c=$("#tooltip");c.data("sticky",b);if(c.is(":visible"))c.fadeOut(100);else{var d=$("#info_text"),f=$(".userDrag > .userImage",a),g=f.offset(),e=a.parent().attr("id"),h='<div style="margin-bottom: 10px">'+L("MoveUser")+"</div>",h=h+'<select id="grp_move" style="width: 160px">'+('<option value="groupBanned"'+("groupBanned"==e?" selected":"")+">"+L("Locked")+"</option>"),h=h+('<option value="groupMember"'+("groupMember"==e?" selected":"")+">"+L("Members")+
"</option>"),h=h+('<option value="groupRaidlead"'+("groupRaidlead"==e?" selected":"")+">"+L("Raidleads")+"</option>"),h=h+('<option value="groupAdmin"'+("groupAdmin"==e?" selected":"")+">"+L("Administrators")+"</option>"),h=h+'<option value="-">---</option>',h=h+('<option value="groupSync">'+L("LinkUser")+"</option>"),h=h+"</select>";d.empty().append(h);var k=a.attr("id");$("#grp_move").change(function(){moveUserToGroup(k,$("#grp_move > option:selected").val());hideTooltip()});$("#grp_move").combobox({darkBackground:!0});
showTooltip();g.left+=f.width()+5;g.top-=10;c.offset(g);setTooltipArrowLeft()}}}function closeSheet(){hideTooltip();$("#sheetoverlay").is(":visible")&&$("#sheetoverlay").fadeOut(100,function(){$(this).hide();$("#eventblocker").hide();$("#sheet_body").empty()})}
function showSheetNewRaid(a,b,c,d){if(null!=gUser){var f=$("#sheetoverlay"),g=$("#sheet_body");HTMLString='<span style="display: inline-block; vertical-align: top; margin-right: 20px">';HTMLString+='<div id="raiddatepicker"></div>';HTMLString+="</span>";HTMLString+='<span style="display: inline-block; vertical-align: top">';HTMLString+='<span style="display: inline-block; margin-right: 5px; float: left" class="imagepicker clickable" id="locationimagepicker"><div class="imagelist" id="locationimagelist"></div></span>';
HTMLString+='<span style="display: inline-block; vertical-align: top; margin-top: 6px">';HTMLString+='<div style="margin-bottom: 10px">';HTMLString+='<select id="selectlocation" onchange="onLocationChange(this)">';HTMLString+='<option value="0">'+L("NewDungeon")+"</option>";HTMLString+="</select>";HTMLString+='<span style="display: inline-block; width: 3px;"></span>';HTMLString+='<select id="selectsize" style="width: 48px">';$.each(gGame.Groups,function(a,b){HTMLString+='<option value="'+a+'">'+a+
"</option>"});HTMLString+="</select>";HTMLString+="</div>";HTMLString+="<div>";HTMLString+='<select id="starthour">';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 10px">:</span>';HTMLString+='<select id="startminute" style="width: 48px">';HTMLString+='<option value="0">00</option>';HTMLString+='<option value="15">15</option>';HTMLString+='<option value="30">30</option>';HTMLString+='<option value="45">45</option>';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 20px">'+
L("to")+"</span>";HTMLString+='<select id="endhour">';HTMLString+="</select>";HTMLString+='<span class="filltext" style="width: 10px">:</span>';HTMLString+='<select id="endminute" style="width: 48px">';HTMLString+='<option value="0">00</option>';HTMLString+='<option value="15">15</option>';HTMLString+='<option value="30">30</option>';HTMLString+='<option value="45">45</option>';HTMLString+="</select>";HTMLString+="</div>";HTMLString+="</span>";HTMLString+='<div style="margin-top: 16px; clear: left">';
HTMLString+='<textarea id="descriptiondummy" class="textdummy description">'+L("Description")+"</textarea>";HTMLString+='<textarea id="description" class="textinput description" style="display:none"></textarea>';HTMLString+="</div>";HTMLString+="</div>";HTMLString+="</span>";HTMLString+='<div style="margin-top: 10px; clear: left">';HTMLString+='<span style="float: left; width: 230px">';HTMLString+='<input type="text" id="repeat_amount" value="0" class="textinput" style="padding-left: 3px; color: #ccc; width: 31px; height: 16px">';
HTMLString+='<select id="repeat_stride" style="width: 180px">';HTMLString+='<option value="once">'+L("RepeatOnce")+"</option>";HTMLString+='<option value="day">'+L("RepeatDay")+"</option>";HTMLString+='<option value="week">'+L("RepeatWeek")+"</option>";HTMLString+='<option value="month">'+L("RepeatMonth")+"</option>";HTMLString+="</select>";HTMLString+="</span>";HTMLString+='<span style="display: inline-block; margin-left: 20px; width: 301px" id="submit_options">';HTMLString+='<select id="selectmode" style="width: 180px">';
HTMLString+='<option value="manual">'+L("RaidModeManual")+"</option>";HTMLString+='<option value="overbook">'+L("RaidModeOverbook")+"</option>";HTMLString+='<option value="attend">'+L("RaidModeAttend")+"</option>";HTMLString+='<option value="all">'+L("RaidModeAll")+"</option>";HTMLString+='<option value="optout">'+L("RaidModeOptOut")+"</option>";HTMLString+="</select>";HTMLString+='<button id="newRaidSubmit" style="float:right">'+L("CreateRaid")+"</button>";HTMLString+="</span>";HTMLString+="</div>";
g.empty().append(HTMLString);$("#descriptiondummy").focus(function(){$("#descriptiondummy").hide();$("#description").show().focus()});$("#description").blur(function(){""===$("#description").val()&&($("#description").hide(),$("#descriptiondummy").show())});var e=[];$.each(a.location,function(a,b){e[a]=b.image;$("#selectlocation").append('<option value="'+b.id+'">'+b.name+"</option>")});$("#locationimagepicker").data("imageNames",e);HTMLString="<span><div>";var h=1;$.each(a.locationimage,function(a,
b){0===h%11&&(HTMLString+="<br/>",++h);HTMLString+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+b+'" onclick="applyLocationImage(this, false)" style="width: 32px; height: 32px; margin-right: 5px;"/>';++h});HTMLString+="</div></span>";$("#locationimagelist").append(HTMLString);$("#locationimagepicker").data("selectedImage","unknown.png").click(function(a){showTooltipRaidImageList();a.stopPropagation()});HTMLString="";for(i=4;0<=i;--i)HTMLString+='<option value="'+i+'">'+
formatHourPrefixed(i)+"</option>";for(i=23;4<i;--i)HTMLString+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";var g=24==gSite.TimeFormat?48:64,k=24==gSite.TimeFormat?181:213,m=24==gSite.TimeFormat?295:327;$("#starthour").css("width",g).empty().append(HTMLString);$("#endhour").css("width",g).empty().append(HTMLString);$("#selectlocation").css("width",k);$("#descriptiondummy").css({width:m,"max-width":m});$("#description").css({width:m,"max-width":m});var q=[];q.RaidStartHour=19;q.RaidStartMinute=
15;q.RaidEndHour=23;q.RaidEndMinute=0;q.RaidSize=10;q.StartOfWeek=1;$.each(a.setting,function(a,b){q[b.name]=b.value});$("#starthour").children("option").each(function(){$(this).val()==q.RaidStartHour&&$(this).attr("selected","selected")});$("#startminute").children("option").each(function(){$(this).val()==q.RaidStartMinute&&$(this).attr("selected","selected")});$("#endhour").children("option").each(function(){$(this).val()==q.RaidEndHour&&$(this).attr("selected","selected")});$("#endminute").children("option").each(function(){$(this).val()==
q.RaidEndMinute&&$(this).attr("selected","selected")});$("#selectsize").children("option").each(function(){$(this).val()==q.RaidSize&&$(this).attr("selected","selected")});$("#selectmode").children("option").each(function(){$(this).val()==q.RaidMode&&$(this).attr("selected","selected")});a=[L("Sun"),L("Mon"),L("Tue"),L("Wed"),L("Thu"),L("Fri"),L("Sat")];g=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")];
0<b?$("#raiddatepicker").datepicker({dayNamesShort:a,dayNamesMin:a,monthNames:g,firstDay:q.StartOfWeek,inline:!0,defaultDate:c+"/"+b+"/"+d}):$("#raiddatepicker").datepicker({dayNamesShort:a,dayNamesMin:a,monthNames:g,firstDay:q.StartOfWeek,inline:!0});$("#newRaidSubmit").click(triggerNewRaid);$("#eventblocker").show().click(startFadeTooltip);f.show();$("#newRaid").click(startFadeTooltip);$("#sheetoverlay").click(startFadeTooltip);$("#repeat_stride").combobox({inlineStyle:{"float":"right"},darkBackground:!0});
$("#selectlocation").combobox({editable:!0,darkBackground:!0});$("#selectsize").combobox({darkBackground:!0});$("#starthour").combobox({darkBackground:!0});$("#startminute").combobox({darkBackground:!0});$("#endhour").combobox({darkBackground:!0});$("#endminute").combobox({darkBackground:!0});$("#stage").combobox({darkBackground:!0});$("#selectmode").combobox({inlineStyle:{"float":"left"},darkBackground:!0});$("#newRaidSubmit").button({icons:{secondary:"ui-icon-disk"}})}}
function triggerNewRaid(){var a=$("#locationimagepicker").data("selectedImage"),b=new Date($("#raiddatepicker").datepicker("getDate")),c=new Date(b);b.setHours(parseInt($("#starthour").val(),10));b.setMinutes(parseInt($("#startminute").val(),10));c.setHours(parseInt($("#endhour").val(),10));c.setMinutes(parseInt($("#endminute").val(),10));b.getHours()>c.getHours()&&(c.setTime(c.getTime()+864E5),c.setHours(parseInt($("#endhour").val(),10)));a={raidImage:a,locationId:$("#selectlocation").val(),locationSize:$("#selectsize").val(),
locationName:$("#selectlocation_edit").val(),startYear:b.getFullYear(),startMonth:b.getMonth()+1,startDay:b.getDate(),startHour:b.getHours(),startMinute:b.getMinutes(),startOffset:b.getTimezoneOffset(),endYear:c.getFullYear(),endMonth:c.getMonth()+1,endDay:c.getDate(),endHour:c.getHours(),endMinute:c.getMinutes(),endOffset:c.getTimezoneOffset(),mode:$("#selectmode").val(),description:$("#description").val(),repeat:$("#repeat_amount").val(),stride:$("#repeat_stride").children("option:selected").val()};
asyncQuery("raid_create",a,generateCalendar)}function matchesDate(a,b){var c=getDateFromUTCString(a.startDate,a.start);return c.getFullYear()==b.getFullYear()&&c.getMonth()==b.getMonth()&&c.getDate()==b.getDate()}
function generateRaidTooltip(a,b,c){c="";var d=a.status,f=a.role,g=a.image,e="",h="status",k="";"available"==d?(e=L("Benched"),h+="wait"):"unavailable"==d?b&&(e=L("Absent"),h+="absent"):"ok"==d?(e=L("RaidingAs")+" "+L(gGame.Roles[f].name),h+="ok",k=gGame.Roles[f].style):b&&(e=L("NotSignedUp"));d=a.attendanceIndex;f=a.size;c+='<span class="tooltip">';!b&&0<gUser.characterIds.length&&(c+='<div class="commentbadge clickable"></div>');var m=a.start,q=a.startDate,p=a.end,u=a.endDate,n=a.location,v=12;
30>n.length?v=16:45>n.length&&(v=14);c+='<div class="icon clickable" style="background: url(\'themes/icons/'+gSite.Iconset+"/raidbig/"+g+"')\"></div>";c=c+'<div class="textBlock">'+('<div class="location" style="font-size: '+v+'px">'+n+" ("+f+")</div>");c+='<div class="time">'+formatTimeStringUTC(q,m)+" - "+formatTimeStringUTC(u,p);c+=" "+formatDateOffsetUTC(q,m)+"</div>";c+='<div class="description">'+a.description+"</div>";c+="</div>";c+='<div class="functions">';a=!1;for(g=0;!a&&g<gUser.characterIds.length;++g)gUser.characterGames[g]==
gGame.GameId&&(a=!0);if(!b&&a){c+='<select class="attend" style="width: 130px">';0===d&&(c+='<option value="0" selected>'+L("NotSignedUp")+"</option>");for(g=0;g<gUser.characterIds.length;++g)gUser.characterGames[g]==gGame.GameId&&(c+='<option value="'+gUser.characterIds[g]+'"'+(d==gUser.characterIds[g]?" selected":"")+">"+gUser.characterNames[g]+"</option>");c+='<option value="-1"'+(-1==d?" selected":"")+">"+L("Absent")+"</option>";c+="</select>"}offsetText=b?"":' style="margin-left: 10px"';""!=
e&&(c+='<span class="attendstatus leftgradient_'+k+" "+h+'"'+offsetText+">",c+='<span class="attendtext">'+e+"</span>",""!=k&&(c+='<img class="attendedrole" src="lib/layout/images/icon_'+k+'.png"/>'),c+="</span>");c+="</div>";return c+="</span>"}
function generateRaidCommentTooltip(a){var b;b='<span class="comment"><div class="infobadge clickable"></div>';b+='<button class="submit">'+L("SaveComment")+"</button>";b+='<textarea class="text">'+a.comment.replace(/<\/br>/g,"\n")+"</textarea>";return b+="</span>"}
function generateCalendar(a){startFadeTooltip();closeSheet();for(var b=[L("Sunday"),L("Monday"),L("Tuesday"),L("Wednesday"),L("Thursday"),L("Friday"),L("Saturday")],c=[L("January"),L("February"),L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")],d='<div id="calendarPositioner"><table id="calendar" cellspacing="0" border="0">',f=parseInt(a.startDay,10),g=parseInt(a.startMonth,10)-1,e=parseInt(a.startYear,10),h=parseInt(a.startOfWeek,
10),f=new Date(e,g,f),g=parseInt(a.displayMonth,10)-1,e=parseInt(a.displayYear,10),k=void 0==gUser.settings.VacationStart?0:1E3*gUser.settings.VacationStart.number,m=void 0==gUser.settings.VacationEnd?0:1E3*gUser.settings.VacationEnd.number,d=d+"<tr>",q=0;7>q;++q)d+='<td class="weekday">'+b[(q+h)%7]+"</td>";d+="</tr>";b=0;h=new Date;h=new Date(h.getFullYear(),h.getMonth(),h.getDate());for(q=0;6>q;++q){for(var d=d+'<tr class="row">',p=0;7>p;++p){var u=f<h,n=f.getMonth()==g?"shadow_gray":"shadow_white",
v=f.getMonth()==g?"dayOfMonth":"dayOfOther",y="day",t="vacation";f.getMonth()==h.getMonth()&&f.getDate()==h.getDate()?(y="today ",t="vacation_today"):0===p&&(y="dayFirst");d=f.getTime()>=k&&f.getTime()<=m?d+('<td class="'+y+" calendarDay "+t+'" id="'+f.getTime()+'">'):d+('<td class="'+y+' calendarDay" id="'+f.getTime()+'">');d+='<div class="day_overflow">';for(d+='<div class="'+v+" "+n+'">'+f.getDate()+"</div>";b<a.raid.length&&matchesDate(a.raid[b],f);){var n=a.raid[b],v=n.status,y=n.id,t=n.size,
B=n.image,C="locked"==n.stage,z="status";"available"==v?z+="wait":"unavailable"==v?z+="absent":"ok"==v&&(z+="ok");d+='<span id="raid'+y+'" index="'+b+'" locked="'+(u||C)+'" class="raid clickable" style="background: url(\'themes/icons/'+gSite.Iconset+"/raidsmall/"+B+'\')" class="raidimg">';d+='<div class="'+z+' shadow_inlay">'+t+"</div>";"canceled"==n.stage?(d+='<div class="overlayCanceled"></div>',C=!0):C&&(d+='<div class="overlayLocked"></div>',C=!0);d+="</span>";++b}d+="</div>";d+="</td>";f.setDate(f.getDate()+
1)}d+="</tr>"}d+='</table></div><div id="calendarFunctions">';d+='<button class="button button_prev_month" onclick="loadCalendar('+g+", "+e+', -1)"></button>';d+='<button class="button button_next_month" onclick="loadCalendar('+g+", "+e+', 1)"></button>';gUser.isRaidlead&&(d+='<button class="button button_new_raid" onclick="loadNewRaidSheet()"></button>');d+='<span id="month">'+c[g]+" "+e+"</span>";d+="</div>";$("#body").empty().append(d);$(".button_prev_month").button({icons:{primary:"ui-icon-carat-1-w"},
text:!1});$(".button_next_month").button({icons:{primary:"ui-icon-carat-1-e"},text:!1});$(".button_new_raid").button({icons:{primary:"ui-icon-plus"},text:!1});$(".raid").each(function(){var b=parseInt($(this).attr("index"),10),c="true"==$(this).attr("locked"),d=a.raid[b];$(this).mouseover(function(){showTooltipRaidInfo($(this),d,c,!0,!1)});$(this).click(function(a){showTooltipRaidInfo($(this),d,c,!0,!0);a.stopPropagation()});$(this).dblclick(function(a){changeContext("raid,setup,"+d.id);a.stopPropagation()})});
gUser.isRaidlead&&($(".calendarDay").dblclick(function(a){var b=new Date(parseInt($(this).attr("id"),10));loadNewRaidSheetForDay(b.getDate(),b.getMonth()+1,b.getFullYear());a.stopPropagation()}),$(".calendarDay").each(function(){if(1==$("div > *",this).length){var a=new Date(parseInt($(this).attr("id"),10));onTouch($(this),function(){loadNewRaidSheetForDay(a.getDate(),a.getMonth()+1,a.getFullYear())})}}))}
function loadNewRaidSheet(){hideTooltip();asyncQuery("query_newRaidData",{},function(a){showSheetNewRaid(a,0,0,0)})}function loadNewRaidSheetForDay(a,b,c){hideTooltip();asyncQuery("query_newRaidData",{},function(d){showSheetNewRaid(d,a,b,c)})}function loadCalendar(a,b,c){reloadUser();null!=gUser&&loadCalendarUnchecked(a,b,c)}function loadCalendarUnchecked(a,b,c){$("#body").empty();for(a+=c;0>a;)--b,a+=12;for(;11<a;)++b,a-=12;asyncQuery("query_calendar",{Month:a+1,Year:b},generateCalendar)}
function loadDefaultCalendar(){reloadUser();if(null!=gUser)if(null!=gUser.calendar)loadCalendarUnchecked(gUser.calendar.month-1,gUser.calendar.year,0);else{var a=new Date;loadCalendarUnchecked(a.getUTCMonth(),a.getUTCFullYear(),0)}}var cPlayerFlagNone=0,cPlayerFlagModified=1,cPlayerFlagNew=2,cPlayerFlagCharId=4,cPlayerFlagUserId=8,cPlayerFlagName=16,cPlayerFlagComment=32;
function CRaidMemberList(){this.mPlayers=[];this.mRemovedPlayers=[];this.mNextRandomId=-1;this.mStage="";this.mMode="manual";this.addPlayer=function(a){var b=this,c={id:a.id,userId:a.userId,timestamp:a.timestamp,hasRecord:a.hasId,charId:a.charid,name:a.name,className:a.classname,mainchar:a.mainchar,activeClass:a.activeclass,activeRole:a.role,firstRole:a.role1,secondRole:a.role2,status:a.status,comment:a.comment,flags:cPlayerFlagNone,characters:[],classIdent:function(){return b.getClassIdent(this)},
classStyle:function(){return b.getClassStyle(this)},switchTo:function(a,c,g){return b.switchPlayer(this.id,a,c,g)},setAbsent:function(){var a=this.id;prompt(L("AbsentMessage"),L("MarkAsAbesent"),L("Cancel"),function(c){0==c.length&&(c=L("AbsentBy"));b.absentPlayer(a,"</br>["+gUser.name+"] "+c)})}};$.each(a.character,function(a,b){c.characters.push({id:b.id,mainchar:b.mainchar,name:b.name,className:b.classname,firstRole:b.role1,secondRole:b.role2})});"___"==a.classname[0]&&c.characters.push({id:a.id,
mainchar:a.mainchar,name:a.name,className:a.classname,firstRole:a.role1,secondRole:a.role2});this.mPlayers.push(c)};this.addRandomPlayer=function(a){var b={id:this.mNextRandomId,userId:0,timestamp:Math.round((new Date).getTime()/1E3),hasRecord:!1,charId:0,name:L("Random"),className:["___"],mainchar:!1,activeClass:null,activeRole:a,firstRole:a,secondRole:a,status:"all"==this.mMode?"ok":"available",comment:"",flags:cPlayerFlagModified|cPlayerFlagNew|cPlayerFlagName,characters:Array({id:this.mNextRandomId,
mainchar:!1,name:L("Random"),className:["___"],firstRole:a,secondRole:a}),classIdent:function(){return"___"},classStyle:function(){return"random"}};--this.mNextRandomId;this.mPlayers.push(b);this.updateRoleList(a)};this.getClassIdent=function(a){return"multi"==gGame.ClassMode?a.activeClass:a.className[0]};this.getClassStyle=function(a){return"___"!=a.classIdent()?gGame.Classes[a.classIdent()].style:"random"};this.forEachPlayer=function(a){for(var b=0;b<this.mPlayers.length;++b)a(this.mPlayers[b])};
this.forEachPlayerWithRole=function(a,b){for(var c=0;c<this.mPlayers.length;++c)this.mPlayers[c].activeRole==a&&b(this.mPlayers[c])};this.numPlayersWithRole=function(a){for(var b=0,c=0;c<this.mPlayers.length;++c)this.mPlayers[c].activeRole==a&&++b;return b};this.getPlayerIndex=function(a){for(var b=0;b<this.mPlayers.length;++b)if(this.mPlayers[b].id==a)return b;return-1};this.getModifiedPlayersForRole=function(a,b){this.forEachPlayerWithRole(a,function(a){0!==(a.flags&cPlayerFlagModified)&&(b.push(a.id),
b.push(a.status),b.push(a.timestamp),b.push(a.flags),0!==(a.flags&cPlayerFlagCharId)&&(b.push(a.charId),b.push(a.activeClass)),0!==(a.flags&cPlayerFlagUserId)&&b.push(a.userId),0!==(a.flags&cPlayerFlagName)&&b.push(a.name),0!==(a.flags&cPlayerFlagComment)&&b.push(a.comment))})};this.changePlayerName=function(a,b){var c=this.getPlayerIndex(a);return b!=this.mPlayers[c].name?(this.mPlayers[c].name=b,this.mPlayers[c].flags=this.mPlayers[c].flags|cPlayerFlagModified|cPlayerFlagName,!0):!1};this.generatePlayerSlot=
function(a,b){var c;c=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";var d=""===a.comment?"activeSlot":"activeSlotComment";gUser.isRaidlead&&(d+=" dragable");c=""+('<div class="'+d+" "+c+' clickable" id="sp'+a.id+'">');c+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c+='<div class="slotMarker"></div>';a.mainchar&&(c+='<div class="mainbadge"></div>');c+="</div>";c=gUser.isRaidlead&&"___"==a.className[0]?c+('<input class="editableName" type="test" value="'+
a.name+'"/>'):c+('<div class="playerName">'+a.name+"</div>");return c=c+"</div>"+this.updateClipStatus(b)};this.generateSpilledSlot=function(a,b){var c;c=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";var d=""===a.comment?"spilledSlot":"spilledSlotComment";gUser.isRaidlead&&(d+=" dragable");c=""+('<div class="'+d+" "+c+' clickable" id="sp'+a.id+'">');c+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c+='<div class="slotMarker"></div>';
a.mainchar&&(c+='<div class="mainbadge"></div>');c+="</div>";c=gUser.isRaidlead&&"___"==a.className[0]?c+('<input class="editableName" type="test" value="'+a.name+'"/>'):c+('<div class="playerName">'+a.name+"</div>");return c=c+"</div>"+this.updateClipStatus(b)};this.generateWaitSlot=function(a,b,c){var d;d=0===b.clipItemCount%b.colsPerClip?"break":"nobreak";c=c?"benchSlot":"waitSlot";c=""===a.comment?c:c+"Comment";gUser.isRaidlead&&(c+=" dragable");d=""+('<div class="'+c+" "+d+' clickable" id="sp'+
a.id+'">');d+='<div class="playerIcon" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';a.mainchar&&(d+='<div class="mainbadge"></div>');d+="</div>";d=gUser.isRaidlead&&"___"==a.className[0]?d+('<input class="editableName" type="test" value="'+a.name+'"/>'):d+('<div class="playerName">'+a.name+"</div>");return d=d+"</div>"+this.updateClipStatus(b)};this.generateEmptySlot=function(a){var b;b=""+('<div class="emptySlot '+(0===a.clipItemCount%a.colsPerClip?
"break":"nobreak")+'" style="background-image: url(lib/layout/images/'+gGame.Roles[a.roleId].style+'.png)">');return b=b+"</div>"+this.updateClipStatus(a)};this.generateAddRandomSlot=function(a,b){var c="",d=0===a.clipItemCount%a.colsPerClip?"break":"nobreak",c=b?c+('<div class="randomSlot clickable '+d+'" style="background-image: url(lib/layout/images/'+(gGame.Roles[a.roleId].style+"_rnd.png")+')">'):c+('<div class="randomSlot clickable '+d+'">');return c=c+"</div>"+this.updateClipStatus(a)};this.generateAbsentSlot=
function(a,b){var c;c=""+('<div class="'+(""===a.comment?"benchSlot":"benchSlotComment")+' clickable nobreak" id="ap'+a.id+'">');c+='<div class="playerIcon" id="ap_icon'+a.id+'" style="background-image: url(themes/icons/'+gSite.Iconset+"/classessmall/"+a.classStyle()+'.png)">';c=c+"</div>"+('<div class="playerName">'+a.name+"</div>");c+="</div>";return c+=this.updateRowClipStatus(b)};this.updateClipStatus=function(a){var b="";++a.itemCount;++a.clipItemCount;a.itemCount<a.displayCount&&a.clipItemCount==
a.colsPerClip*a.rowsPerClip-1&&(b+=this.generateNextClipButton(a));return b};this.generateNextClipButton=function(a){var b;b=""+('<div class="clipchange clickable '+(1==a.colsPerClip?"break":"nobreak")+'" onclick="showRaidClip(\'role_'+a.roleId+"_clip"+(a.currentId+1)+"')\"></div>");b=b+"</div>"+('<div class="clip" id="role_'+a.roleId+"_clip"+(a.currentId+1)+'">');b+='<div class="clipchange clickable break" onclick="showRaidClip(\'role_'+a.roleId+"_clip"+a.currentId+"')\"></div>";++a.currentId;a.clipItemCount=
1;return b};this.updateRowClipStatus=function(a){var b="";++a.itemCount;++a.clipItemCount;a.clipItemCount==6*a.rowsPerClip-1&&(b+='<div class="clipchange nobreak" onclick="showRaidClip(\''+a.prefix+(a.currentId+1)+"')\"></div>",b=b+"</div>"+('<div class="clip" id="'+a.prefix+(a.currentId+1)+'">'),b+='<div class="clipchange nobreak" onclick="showRaidClip(\''+a.prefix+a.currentId+"')\"></div>",++a.currentId,a.clipItemCount=1);return b};this.generateRoleList=function(a,b,c){var d=0,f=gGame.Roles[a],
g="";this.forEachPlayerWithRole(a,function(a){"ok"!=a.status&&"available"!=a.status||++d});var g=gGame.RaidViewOrder.indexOf(a)==gGame.RaidViewOrder.length-1?g+'<div class="roleList" style="margin-right:0">':g+'<div class="roleList">',g=g+("<h3>"+L(f.name)+' <span class="attendance_count">'+d+"/"+c+"</span></h3>"),g=g+('<div class="clip" id="role_'+a+'_clip0">'),e={roleId:a,colsPerClip:b,rowsPerClip:9,currentId:0,itemCount:0,clipItemCount:0,displayCount:Math.max(this.numPlayersWithRole(a),c)},h=this,
k=0;this.forEachPlayerWithRole(a,function(a){"ok"==a.status&&(g=k>=c?g+h.generateSpilledSlot(a,e):g+h.generatePlayerSlot(a,e),++k)});var f=e.clipItemCount/b,m=0===f-parseInt(f,10)?0:1,f=parseInt(f,10)+m;f==e.rowsPerClip?g+=this.generateNextClipButton(e):(e.clipItemCount=f*b,g+='<div class="separator"></div>');var q=k>=c&&"overbook"!=this.mMode||!gUser.isRaidlead&&"locked"==this.mStage;this.forEachPlayerWithRole(a,function(a){"available"==a.status&&(g+=h.generateWaitSlot(a,e,q))});for(gUser.isRaidlead&&
(g+=this.generateAddRandomSlot(e,e.itemCount<c));e.itemCount<c;)g+=this.generateEmptySlot(e);g+="</div>";return g+="</div>"};this.generateAbsentList=function(a){var b='<div id="absentList">',b=b+('<h2 style="position: relative; width: 800px">'+L("AbsentPlayers")+"</h2>"),b=b+'<div class="clip" id="absentclip0">',c=this,d={rowsPerClip:a,currentId:0,itemCount:0,clipItemCount:0,prefix:"absentclip"};this.forEachPlayer(function(a){"unavailable"==a.status&&(b+=c.generateAbsentSlot(a,d))});b+="</div>";return b+=
"</div>"};this.generateUndecidedList=function(a){var b='<div id="undecidedList">',b=b+('<h2 style="position: relative; width: 800px">'+L("UndecidedPlayers")+"</h2>"),b=b+'<div class="clip" id="undecidedclip0">',c=this,d={rowsPerClip:a,currentId:0,itemCount:0,clipItemCount:0,prefix:"undecidedclip"};this.forEachPlayer(function(a){"undecided"==a.status&&(b+=c.generateAbsentSlot(a,d))});b+="</div>";return b+="</div>"};this.bindClipPlayer=function(a){var b=parseInt(a.attr("id").substr(2),10),c=this;a.draggable({delay:100,
revert:!0,revertDuration:200,helper:"clone",start:function(){c.showDropTargets(b,$(this))},stop:function(){c.hideDropTargets()}});a.children(".editableName").each(function(){$(this).click(function(a){a.stopPropagation()});$(this).focus(function(){$(this).prev().css("background-image","url(lib/layout/images/remove.png)").click(function(a){a.stopPropagation();c.removePlayer(b)})});$(this).blur(function(){c.changePlayerName(b,$(this).val())&&onUIDataChange();$(this).prev().css("background-image","url(themes/icons/"+
gSite.Iconset+"/classessmall/random.png)").unbind("click")})});makeTouchable(a)};this.bindClips=function(a){if(null!=gUser){var b=a.children(".clip"),c=a.data("config"),d=this;gUser.isRaidlead?(b.children(".activeSlot"),b.children(".activeSlotComment"),b.children(".benchSlot").each(function(){parseInt($(this).attr("id").substr(2),10);d.bindClipPlayer($(this))}),b.children(".waitSlot, .waitSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),b=d.getPlayerIndex(a),e=d.mPlayers[b],
h=$(this),k=h.children(".playerIcon"),m=function(){h.unbind("click").click(q)},q=function(b){"all"!=d.mMode&&h.unbind("click").click(function(){d.upgradePlayer(a);onUIDataChange()});showTooltipCharChooser(k,e,c.id,!0,m);b.stopPropagation()};h.click(q);"all"!=d.mMode&&h.dblclick(function(){d.upgradePlayer(a)});d.bindClipPlayer(h)}),b.children(".benchSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),a=d.getPlayerIndex(a),b=d.mPlayers[a],e=$(this),h=e.children(".playerIcon"),
k=function(){e.unbind("click").click(onClickFunction)};e.click(function(a){showTooltipCharChooser(h,b,c.id,!0,k);a.stopPropagation()});d.bindClipPlayer(e)}),b.children(".activeSlot, .spilledSlot, .activeSlotComment, .spilledSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),b=d.getPlayerIndex(a),e=d.mPlayers[b],h=$(this),k=h.children(".playerIcon"),m=function(){h.unbind("click").click(q)},q=function(b){"all"!=d.mMode&&h.unbind("click").click(function(){d.downgradePlayer(a);
onUIDataChange()});showTooltipCharChooser(k,e,c.id,!0,m);b.stopPropagation()};h.click(q);d.bindClipPlayer(h)}),b.children(".randomSlot").each(function(){$(this).click(function(){d.addRandomPlayer(c.id);onUIDataChange()})})):b.children(".activeSlot, .spilledSlot, .waitSlot, .benchSlot, .activeSlotComment, .spilledSlotComment, .waitSlotComment, .benchSlotComment").each(function(){var a=parseInt($(this).attr("id").substr(2),10),a=d.getPlayerIndex(a),b=d.mPlayers[a],a=$(this),e=a.children(".playerIcon");
a.mouseover(function(a){showTooltipCharChooser(e,b,c.id,!1,null);a.stopPropagation()});a.click(function(a){showTooltipCharChooser(e,b,c.id,!0,null);a.stopPropagation()})})}};this.updateRoleList=function(a){var b=gGame.RaidViewOrder.indexOf(a);a=$($("#raidsetup > .roleList")[b]);var c=a.data("config");a.replaceWith(this.generateRoleList(c.id,c.columns,c.reqSlots));a=$($("#raidsetup > .roleList")[b]);var b=c.clip.lastIndexOf("_clip")+5,d=parseInt(c.clip.substr(b),10),f=a.children(".clip").length;d>=
f&&(c.clip=c.clip.substr(0,b)+(f-1));a.data("config",c);$("#"+c.clip).show();this.bindClips(a)};this.showDropTargets=function(a,b){hideTooltip();var c=$("#raiddetail").data("players"),d=this.getPlayerIndex(a),f=this.mPlayers[d],d=$("#raidsetup > .roleList");if("single"==gGame.ClassMode)d.each(function(d){var e=gGame.RaidViewOrder[d];"___"!=f.className[0]&&e!=f.firstRole&&e!=f.secondRole||e==f.activeRole?$(this).fadeTo(100,0.15):$(this).droppable({drop:function(){b.draggable("option","revert",!1);
b.draggable("destroy").detach();c.movePlayer(a,e);onUIDataChange()}})});else{var g=[];if("___"!=f.className[0])for(var e=0;e<f.className.length;++e)g.push(gGame.Classes[f.className[e]].defaultRole);d.each(function(d){var e=gGame.RaidViewOrder[d];("___"==f.className[0]||-1<g.indexOf(e))&&e!=f.activeRole?$(this).droppable({drop:function(){b.draggable("option","revert",!1);b.draggable("destroy").detach();c.movePlayer(a,e);onUIDataChange()}}):$(this).fadeTo(100,0.15)})}$("#absent_drop").fadeTo(100,1).droppable({hoverClass:"absent_hover",
drop:function(){0<f.charId?prompt(L("AbsentMessage"),L("MarkAsAbesent"),L("Cancel"),function(d){b.draggable("option","revert",!1);b.draggable("destroy").detach();0==d.length&&(d=L("AbsentBy"));c.absentPlayer(a,"</br>["+gUser.name+"] "+d)}):(b.draggable("option","revert",!1),b.draggable("destroy").detach(),c.absentPlayer(a,""))}})};this.hideDropTargets=function(){$("#raidsetup > .roleList").fadeTo(100,1);$("#raidsetup > .ui-droppable").droppable("destroy");$("#absent_drop").fadeTo(100,0)};this.upgradePlayer=
function(a){a=this.getPlayerIndex(a);a=this.mPlayers[a];a.status="ok";a.flags|=cPlayerFlagModified;this.updateRoleList(a.activeRole)};this.downgradePlayer=function(a){a=this.getPlayerIndex(a);a=this.mPlayers[a];a.status="available";a.flags|=cPlayerFlagModified;this.updateRoleList(a.activeRole)};this.switchPlayer=function(a,b,c,d){a=this.getPlayerIndex(a);a=this.mPlayers[a];var f=a.activeRole;null!==b&&(b=a.characters[b],a.charId!=b.id||a.activeClass!=d||a.activeRole!=c)&&(a.name=b.name,a.className=
b.className,a.mainchar=b.mainchar,a.charId=b.id,a.activeClass=d,a.activeRole=c,a.firstRole=b.firstRole,a.secondRole=b.secondRole,a.comment+="</br>["+gUser.name+"] "+L("SwitchChar"),a.flags=a.flags|cPlayerFlagCharId|cPlayerFlagModified|cPlayerFlagComment);f!=a.activeRole&&(this.updateRoleList(f),a.status="all"==this.mMode?"ok":"available");this.updateRoleList(a.activeRole)};this.movePlayer=function(a,b){var c=this.getPlayerIndex(a),c=this.mPlayers[c],d=c.activeRole;c.activeRole=b;c.flags|=cPlayerFlagModified;
if(0==c.userId)c.firstRole=b,c.secondRole=b;else if("multi"==gGame.ClassMode){for(var f=0;f<c.className.length;++f){var g=c.className[f];if(b==gGame.Classes[g].defaultRole){c.activeClass=g;break}}c.flags|=cPlayerFlagCharId}c.status="all"==this.mMode?"ok":"available";this.updateRoleList(d);this.updateRoleList(b)};this.removePlayer=function(a){var b=this.getPlayerIndex(a),c=this.mPlayers[b].activeRole;this.mPlayers.splice(b,1);0<a&&this.mRemovedPlayers.push(a);this.updateRoleList(c);onUIDataChange()};
this.absentPlayer=function(a,b){var c=this.getPlayerIndex(a),d=this.mPlayers[c],f=d.activeRole;0<d.charId?(c=d.characters[0],d.name=c.name,d.charId=c.id,d.className=c.className,d.activeClass=c.className[0],d.mainchar=c.mainchar,d.activeRole=c.firstRole,d.firstRole=c.firstRole,d.secondRole=c.secondRole,d.flags=d.flags|cPlayerFlagModified|cPlayerFlagComment|cPlayerFlagCharId,d.status="unavailable",d.comment+=b,$("#absentList").replaceWith(this.generateAbsentList(3)),onUpdateAbsentList(this)):(this.mPlayers.splice(c,
1),this.mRemovedPlayers.push(a));this.updateRoleList(f);hideTooltip();onUIDataChange()}}function showRaidClip(a){var b=$("#"+a),c=b.parent();c.data("config").clip=a;c.children(".clip").hide();b.show()}function validateRoleCounts(){var a=0,b=$("#selectsize").val();$.each(gGame.RaidViewOrder,function(c,d){var f=$("#slotCount_"+d),g=parseInt(f.val(),10);if(a+g>b||c==gGame.RaidViewOrder-1&&a+g<b)g=b-a;f.unbind("change");f[0].value=g;f.bind("change",validateRoleCounts);a+=g})}
function generateRaidInfo(a,b){L("January");L("February");L("March");L("April");L("May");L("June");L("July");L("August");L("September");L("October");L("November");L("December");var c=a.image,d=a.locationname,f=0,g=a.description;$.each(a.slots,function(a,b){f+=b});var e=a.startDate,h=a.endDate,k=a.start,m=a.end,q=14;30>d.length?q=28:45>d.length&&(q=20);c='<div class="raidinfo">'+('<img src="themes/icons/'+gSite.Iconset+"/raidbig/"+c+'" class="raidicon">');c=c+('<div class="raidname" style="font-size: '+
q+'px">'+d+"</div>")+('<div class="raidsize">'+f+" "+L("Players")+"</div>");c+='<div class="datetime">'+formatDateTimeStringUTC(e,k)+" - "+formatTimeStringUTC(h,m);c+=" "+formatDateOffsetUTC(e,k)+"</div>";""!=g&&(c+='<div class="raidcomment">'+g+"</div>");c+="</div>";$("#"+b).prepend(c)}
function generateRaidSetup(a){var b=$("#raiddetail").data("players"),c='<div id="raidsetup" class="content_area"></div>';$("#raiddetail").append(c);gUser.isRaidlead&&$("#raidsetup").append('<div id="absent_drop">'+L("MakeAbsent")+"</div>");$.each(gGame.RaidViewOrder,function(d,f){var g=gGame.RaidView[f],e=a.slots[f];c=b.generateRoleList(f,g,e);$("#raidsetup").append(c);$("#raidsetup > *:last").data("config",{id:f,columns:g,reqSlots:e,clip:"role_"+f+"_clip0"})});$("#raidsetup > .roleList").each(function(){$(this).children(".clip:first").show();
b.bindClips($(this))});generateRaidInfo(a,"raidsetup")}
function onClickAbsentSlot(a,b,c,d){var f=b.data("setup_info");hideTooltip();if(null!==f&&void 0!==f){var g=$("#raiddetail").data("players"),e=c.characters[f.charIdx],h=""!==c.comment;c.status="all"==g.mMode?"ok":"available";c.name=e.name;c.charId=e.id;c.className=e.className;c.mainchar=e.mainchar;c.activeClass=f.classId;c.activeRole=f.roleId;c.firstRole=e.firstRole;c.secondRole=e.secondRole;c.comment+="</br>["+gUser.name+"] "+L("SetupBy");c.flags=c.flags|cPlayerFlagModified|cPlayerFlagComment|cPlayerFlagCharId;
c.hasRecord||(c.flags|=cPlayerFlagNew);h||(c.flags|=cPlayerFlagUserId);d?($("#undecidedList").replaceWith(g.generateUndecidedList(3)),onUpdateUndecidedList(g)):($("#absentList").replaceWith(g.generateAbsentList(3)),onUpdateAbsentList(g));g.updateRoleList(c.activeRole);onUIDataChange();hideTooltip()}else{var k=$(b).css("backgroundImage"),m=$(".playerName",b.parent()).text();showTooltipCharChooser(b,c,"multi"==gGame.ClassMode?gGame.Classes[c.className[0]].defaultRole:c.firstRole,!0,function(){$(b).css("backgroundImage",
k);$(".playerName",b.parent()).empty().append(m);b.data("setup_info",null)})}a.stopPropagation()}function updateSlackersBadges(a){var b=0;a.forEachPlayer(function(a){"unavailable"==a.status&&++b});$("#slackers_badge").empty();0<b&&$("#slackers_badge").append('<span style="color: #f00">'+b+"</span>")}
function onUpdateAbsentList(a){$("#absentList").data("config",{clip:"absentclip0"});$("#absentList > .clip").children(".benchSlotComment, .benchSlot").each(function(){var b=parseInt($(this).attr("id").substr(2),10),b=a.getPlayerIndex(b),c=a.mPlayers[b],d=$(this).children(".playerIcon");gUser.isRaidlead?$(this).click(function(a){onClickAbsentSlot(a,d,c,!1);a.stopPropagation()}):(d.mouseover(function(a){showTooltipCharChooser(d,c,c.activeRole,!1,null);a.stopPropagation()}),d.click(function(a){showTooltipCharChooser(d,
c,c.activeRole,!0,null);a.stopPropagation()}))});$("#absentList > .clip:first").show();updateSlackersBadges(a)}
function onUpdateUndecidedList(a){$("#undecidedList").data("config",{clip:"undecidedclip0"});$("#undecidedList > .clip").children(".benchSlotComment, .benchSlot").each(function(){var b=parseInt($(this).attr("id").substr(2),10),b=a.getPlayerIndex(b),c=a.mPlayers[b],d=$(this).children(".playerIcon");gUser.isRaidlead?$(this).click(function(a){onClickAbsentSlot(a,d,c,c.activeRole,!0);a.stopPropagation()}):d.mouseover(function(a){showTooltipCharChooser(d,c,c.activeRole,!1,null);a.stopPropagation()})});
$("#undecidedList > .clip:first").show();updateSlackersBadges(a)}function generateRaidSlackers(a){var b=$("#raiddetail").data("players"),c='<div id="slackers" class="content_area">';$("#raiddetail").append(c);c=b.generateAbsentList(3);$("#slackers:first").append(c);c=b.generateUndecidedList(3);$("#slackers:first").append(c);onUpdateAbsentList(b);onUpdateUndecidedList(b);generateRaidInfo(a,"slackers")}
function generateRaidSettings(a){var b='<div id="raidoptions" class="content_area">';$("#raiddetail").append(b);var c=$("#raidoptions"),d=a.image,f=a.locationid,g=a.size,e=a.description,h=a.stage,k=a.mode,m=getDateFromUTCString(a.startDate,a.start),q=m.getHours(),p=m.getMinutes(),u=getDateFromUTCString(a.endDate,a.end),n=u.getHours(),v=u.getMinutes();$("#raidoptions").data("info",{id:a.raidId,year:m.getFullYear(),month:m.getMonth(),day:m.getDate(),size:parseInt(g,10)});b='<span style="display: inline-block; margin-right: 5px; float: left" class="imagepicker" id="locationimagepicker"><div class="imagelist" id="locationimagelist"></div></span>';
b+='<span style="display: inline-block; margin-top: 8px; margin-left: 4px; vertical-align: top">';b+='<div style="margin-bottom: 10px">';b+='<select id="selectlocation" onchange="onLocationChange(this)">';b+='<option value="0">'+L("NewDungeon")+"</option>";b+="</select>";b+='<span style="display: inline-block; width: 3px;"></span>';b+='<select id="selectsize" style="width: 48px">';$.each(gGame.Groups,function(a,c){b+='<option value="'+a+'">'+a+"</option>"});b+="</select>";b+="</div>";b+="<div>";b+=
'<select id="starthour">';b+="</select>";b+='<span class="filltext" style="width: 10px">:</span>';b+='<select id="startminute" style="width: 48px">';b+='<option value="0">00</option>';b+='<option value="15">15</option>';b+='<option value="30">30</option>';b+='<option value="45">45</option>';b+="</select>";b+='<span class="filltext" style="width: 20px">'+L("to")+"</span>";b+='<select id="endhour">';b+="</select>";b+='<span class="filltext" style="width: 10px">:</span>';b+='<select id="endminute" style="width: 48px">';
b+='<option value="0">00</option>';b+='<option value="15">15</option>';b+='<option value="30">30</option>';b+='<option value="45">45</option>';b+="</select>";b+="</div>";b+="</span>";c.append(b);b="";for(i=4;0<=i;--i)b+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";for(i=23;4<i;--i)b+='<option value="'+i+'">'+formatHourPrefixed(i)+"</option>";var m=24==gSite.TimeFormat?48:64,u=24==gSite.TimeFormat?181:213,y=24==gSite.TimeFormat?295:327;$("#starthour").css("width",m).empty().append(b);
$("#endhour").css("width",m).empty().append(b);$("#selectlocation").css("width",u);$("#descriptiondummy").css({width:y,"max-width":y});$("#description").css({width:y,"max-width":y});$("#selectsize").change(validateRoleCounts);var b="",t=1,B=[];$.each(a.locationimage,function(a,c){0===t%11&&(b+="<br/>",++t);b+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+c+'" onclick="applyLocationImage(this, true)" style="width:32px; height:32px; margin-right:5px;"/>';++t});$("#locationimagelist").append(b);
$("#locationimagepicker").css("background-image","url(themes/icons/"+gSite.Iconset+"/raidbig/"+d+")");$.each(a.location,function(a,b){B[a]=b.image;var c=b.id==f?" selected":"";$("#selectlocation").append('<option value="'+b.id+'"'+c+">"+b.name+"</option>")});b='<br/><div style="margin-top: 25px">';b+='<div class="settingLine"><div class="settingLabel">'+L("Comment")+"</div>";b+='<div class="settingField"><textarea id="comment" style="width:235px; height:64px">'+e.replace(/<\/br>/g,"\n")+"</textarea></div></div>";
b+='<div class="settingLine"><div class="settingLabel">'+L("RaidStatus")+"</div>";b+='<div class="settingField"><select id="raidstage" style="width: 190px">';b+='<option value="open"'+("open"==h?" selected":"")+">"+L("RaidOpen")+"</option>";b+='<option value="locked"'+("locked"==h?" selected":"")+">"+L("RaidLocked")+"</option>";b+='<option value="canceled"'+("canceled"==h?" selected":"")+">"+L("RaidCanceled")+"</option>";b+="</select></div></div>";b+='<div class="settingLine"><div class="settingLabel">'+
L("RaidSetupStyle")+"</div>";b+='<div class="settingField"><select id="raidmode" style="width: 190px">';b+='<option value="manual"'+("manual"==k?" selected":"")+">"+L("RaidModeManual")+"</option>";b+='<option value="overbook"'+("overbook"==k?" selected":"")+">"+L("RaidModeOverbook")+"</option>";b+='<option value="attend"'+("attend"==k?" selected":"")+">"+L("RaidModeAttend")+"</option>";b+='<option value="all"'+("all"==k?" selected":"")+">"+L("RaidModeAll")+"</option>";b+="</select></div></div>";$.each(gGame.RaidViewOrder,
function(c,d){b+='<div class="'+(0==c?"settingLine settingNewSection":"settingLine")+'"><div class="settingLabel">'+L("RequiredForRole")+' "'+L(gGame.Roles[d].name)+'"</div>';b+='<div class="settingField"><input id="slotCount_'+d+'" style="width:24px;" value="'+a.slots[d]+'" type="text"/></div></div>'});b+='<div class="settingLine settingNewSection"><div class="settingLabel">'+L("Export")+"</div>";b+='<div class="settingField"><select id="exportFormat" style="width: 60px">';b+='<option value="xml">XML</option>';
b+='<option value="json" selected>JSON</option>';b+="</select>";b+='<button id="exportFile" style="margin-left: 5px">'+L("ExportFile")+"</button>";b+='<button id="exportClipboard" style="margin-left: 5px">'+L("ExportClipboard")+"</button>";b+="</div></div>";b+='<div class="settingLine settingNewSection"><div class="settingLabel">&nbsp;</div>';b+='<div class="settingField"><button id="deleteRaid">&nbsp;'+L("DeleteRaid")+"</button></div></div>";b+="</div>";c.append(b);$("#raidstage").combobox();$("#raidmode").combobox();
$("#selectsize > option").each(function(){$(this).val()==g&&$(this).attr("selected","selected")});$("#starthour > option").each(function(){$(this).val()==q&&$(this).attr("selected","selected")});$("#startminute > option").each(function(){$(this).val()==p&&$(this).attr("selected","selected")});$("#endhour > option").each(function(){$(this).val()==n&&$(this).attr("selected","selected")});$("#endminute > option").each(function(){$(this).val()==v&&$(this).attr("selected","selected")});$("#selectlocation").combobox({editable:!1});
$("#selectsize").combobox();$("#starthour").combobox();$("#startminute").combobox();$("#endhour").combobox();$("#endminute").combobox();$("#exportFormat").combobox();$("#deleteRaid").button({icons:{primary:"ui-icon-circle-close"}}).click(function(){triggerRaidDelete()});$("#exportFile").button({icons:{secondary:"ui-icon-extlink"}}).click(function(){var b=$("#exportFormat option:selected").val();window.location="lib/apihub.php?query=raid&raid="+a.raidId+"&attends=true&token="+a.token+"&format="+b+
"&as=raid_"+a.raidId+("xml"==b?".xml":".json")});$("#exportClipboard").button({icons:{secondary:"ui-icon-clipboard"},disabled:!0});c=new ZeroClipboard($("#exportClipboard"),{moviePath:"lib/script/ZeroClipboard.swf",hoverClass:"ui-state-hover",activeClass:"ui-state-active"});c.on("load",function(){$("#exportClipboard").button("option","disabled",!1)});c.on("dataRequested",function(b,c){var d=$("#exportFormat option:selected").val(),e="";$.ajax({type:"POST",url:"lib/apihub.php",dataType:d,async:!1,
data:{query:"raid",raid:a.raidId,attends:!0,format:d,token:a.token},complete:onAsyncDone,success:function(a,b,c){e=c.responseText},error:onAsyncError});b.setText(e)});c.on("complete",function(a,b){""!=b.text&&notify(L("CopyOk"))});$("#locationimagepicker").data("imageNames",B).data("selectedImage",d);$("#selectlocation").change(function(){$("#locationimagepicker").unbind("click");0<$("#selectlocation").context.selectedIndex&&$("#locationimagepicker").click(function(a){showTooltipRaidImageList();a.stopPropagation()})});
$("#raidoptions select").change(onUIDataChange);$("#raidoptions textarea").change(onUIDataChange);$.each(gGame.RaidViewOrder,function(a,b){$("#slotCount_"+b).change(function(){validateRoleCounts();onUIDataChange()})})}
function generateRaid(a){hideTooltip();closeSheet();if(null!=gUser)if(null==a.raidId)c='<div id="lockMessage">'+L("RaidNotFound"),c+="</div>",$("#body").empty().append(c);else{var b=new CRaidMemberList,c;c='<div id="raiddetail"><div id="tablist" class="tabs setup"><div style="margin-top: 16px">';c+='<div id="setuptoggle" class="tab_icon icon_setup clickable"></div>';c+='<div id="slackerstoggle" class="tab_icon icon_slackers_off clickable"><div id="slackers_badge"></div></div>';gUser.isRaidlead&&(c+=
'<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>');c+="</div></div>";gUser.isRaidlead&&(c+='<button id="applyButton" class="apply_changes" disabled="disabled">'+L("Apply")+"</button>");c+="</div>";$("#body").empty().append(c);$("#raiddetail").data("raidid",a.raidId);$("#raiddetail").hide();var d=a.raidId;b.mStage=a.stage;b.mMode=a.mode;$("#raiddetail").data("players",b);$.each(a.attendee,function(a,c){b.addPlayer(c)});generateRaidSetup(a);generateRaidSlackers(a);gUser.isRaidlead&&
(generateRaidSettings(a),$("#settingstoggle").click(function(){changeContext("raid,settings,"+d)}),$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerRaidUpdate()}));$("#setuptoggle").click(function(){changeContext("raid,setup,"+d)});$("#slackerstoggle").click(function(){changeContext("raid,slackers,"+d)});loadRaidPanel(a.show,d);$("#raiddetail").show()}}
function showRaidPanel(a,b){$("#raidsetup").hide();$("#slackers").hide();$("#raidoptions").hide();$("#tablist").removeClass("setup");$("#tablist").removeClass("slackers");$("#tablist").removeClass("settings");$("#setuptoggle").removeClass("icon_setup");$("#slackerstoggle").removeClass("icon_slackers");$("#settingstoggle").removeClass("icon_settings");$("#setuptoggle").addClass("icon_setup_off");$("#slackerstoggle").addClass("icon_slackers_off");$("#settingstoggle").addClass("icon_settings_off");$(a).show();
$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);$("#raidoptions").data("activesection",b)}function loadRaid(a,b){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("raid_detail",{id:a,showPanel:b},generateRaid))}
function loadRaidPanel(a,b){if(null!=gUser)if(0===$("#raiddetail").length||$("#raiddetail").data("raidid")!=b)loadRaid(b,a);else switch(a){default:case "setup":showRaidPanel("#raidsetup","setup");break;case "slackers":showRaidPanel("#slackers","slackers");break;case "settings":showRaidPanel("#raidoptions","settings")}}
function triggerRaidDelete(){null!=gUser&&gUser.isRaidlead&&confirm(L("ConfirmRaidDelete"),L("DeleteRaid"),L("Cancel"),function(){var a={id:$("#raidoptions").data("info").id};onAppliedUIDataChange();asyncQuery("raid_delete",a,generateCalendar)})}
function triggerRaidUpdate(){if(null!=gUser&&gUser.isRaidlead){var a=$("#raiddetail").data("players"),b=$("#raidoptions").data("info"),c=[],d=[],f=[];$.each(gGame.RaidViewOrder,function(b,e){var g=$("#slotCount_"+e);c.push(e);d.push(parseInt(g.val(),10));f[e]=[];a.getModifiedPlayersForRole(e,f[e])});var g=new Date(b.year,b.month,b.day,$("#starthour").val(),$("#startminute").val(),0),e=new Date(b.year,b.month,b.day,$("#endhour").val(),$("#endminute").val(),0);g.getHours()>e.getHours()&&(e.setTime(e.getTime()+
864E5),e.setHours($("#endhour").val()));var h={id:b.id,raidImage:$("#locationimagepicker").data("selectedImage"),locationId:$("#selectlocation").val(),locationSize:$("#selectsize").val(),locationName:$("#selectlocation_edit").val(),startYear:g.getFullYear(),startMonth:g.getMonth()+1,startDay:g.getDate(),startHour:g.getHours(),startMinute:g.getMinutes(),startOffset:g.getTimezoneOffset(),endYear:e.getFullYear(),endMonth:e.getMonth()+1,endDay:e.getDate(),endHour:e.getHours(),endMinute:e.getMinutes(),
endOffset:e.getTimezoneOffset(),description:$("#comment").val(),mode:$("#raidmode option:selected").val(),stage:$("#raidstage option:selected").val(),slotRoles:c,slotCount:d,removed:a.mRemovedPlayers,showPanel:$("#raidoptions").data("activesection")};$.each(gGame.RaidViewOrder,function(a,b){h["role_"+b]=f[b]});onAppliedUIDataChange();asyncQuery("raid_update",h,generateRaid)}}
function generateRaidList(a){var b='<div id="raidlist">',b=b+("<h1>"+L("Upcoming")+"</h1>"),b=b+'<div id="nextRaids">';$.each(a.raid,function(a,c){var g=!0,e=!1;$.each(gGame.Roles,function(a,b){var d=c.slotMax[a],e=c.slotCount[a];g=g&&e>=d});var h=g?"overlayStatusOk":"overlayStatusOpen";"canceled"==c.stage?(h="overlayStatusCanceled",e=!0):"locked"==c.stage&&(h="overlayStatusLocked",e=!0);var k=c.startDate,m=c.start,q=c.endDate,p=c.end;b+='<span class="raidSlot box_inlay">';b+='<span id="raid'+c.id+
'" class="locationImg clickable" index="'+a+'" locked="'+e+'" >';b+='<img src="themes/icons/'+gSite.Iconset+"/raidbig/"+c.image+'"/>';b+='<div class="overlayStatus '+h+'"></div>';b+="</span>";b+='<span class="raidInfo">';b+='<div class="location">'+c.location+" ("+c.size+")</div>";b+=formatDateStringUTC(k,m)+"<br/>"+formatTimeStringUTC(k,m)+" - "+formatTimeStringUTC(q,p);b+=" "+formatDateOffsetUTC(k,m)+"<br/>";b+="</span>";b+='<span class="setupInfo">';g?b+='<div class="setupInfoSlot" style="background-image: url(lib/layout/images/slot_ok.png)"></div>':
$.each(gGame.Roles,function(a,d){var e=c.slotMax[a],g=c.slotCount[a];g<e&&(b+='<div class="setupInfoSlot" style="background-image: url(lib/layout/images/'+d.style+'.png)">',b+="+"+(e-g),b+="</div>")});b+="</span>";b+="</span>"});b+="</div>";b+="<br/><h1>"+L("History")+"</h1>";b+='<div id="raidHistory">';$.each(a.history,function(a,c){var g=c.startDate,e=c.start;b+='<span class="historySlot clickable" id="raid'+c.id+'">';b+='<img class="icon clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+
c.image+'"/>';"canceled"==c.stage?b+='<div class="overlayCanceled"></div>':"locked"==c.stage&&(b+='<div class="overlayLocked"></div>');b+='<div class="name">'+c.location+'<br/><span style="font-size: 80%">'+formatDateStringUTC(g,e)+"</span></div>";b+="</span>"});b+="</div>";$("#body").empty().append(b);var c=$("#appwindow").data("animation");window.clearInterval(c);c=window.setInterval(function(){$(".setupInfo").each(function(){var a=$(this);if(2<$(this).children().length){var b=a.children().first();
b.height();b.slideUp(1E3,function(){$(this).detach().appendTo(a).show()})}})},3E3);$("#appwindow").data("animation",c);$(".locationImg").each(function(){var b=parseInt($(this).attr("index"),10),c="true"==$(this).attr("locked"),g=a.raid[b];$(this).mouseover(function(){showTooltipRaidInfo($(this),g,c,!1,!1)});$(this).click(function(a){showTooltipRaidInfo($(this),g,c,!1,!0);a.stopPropagation()});$(this).dblclick(function(a){changeContext("raid,setup,"+parseInt($(this).attr("id").substr(4),10));a.stopPropagation()})});
$(".historySlot").dblclick(function(a){changeContext("raid,setup,"+parseInt($(this).attr("id").substr(4),10));a.stopPropagation()})}function loadAllRaids(){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("raid_list",{offset:0,count:30},generateRaidList))}var g_NewCharIndex=0;
function CCharacterList(){this.mCharacters=[];this.addCharacter=function(a,b,c,d,f,g){a={id:a,name:b,charClass:c,mainChar:d,role1:f,role2:g};d&&this.toggleMainChar(this.mCharacters.length);this.mCharacters.push(a)};this.addNewCharacter=function(){this.addCharacter(0,"",["empty"],0===this.mCharacters.length,-1,-1)};this.toggleMainChar=function(a){for(var b=0;b<this.mCharacters.length;++b)this.mCharacters[b].mainChar=b==a};this.removeCharacter=function(a){this.mCharacters.splice(a,1);this.rebuildSlots()};
this.generateSlots=function(a,b,c){for(var d="",f=0;a<this.mCharacters.length&&f<c;++f){var g=this.mCharacters[a];0===f&&0!==a?d+='<div class="nextgroup clickable box_inlay" id="next'+(b-1)+'"></div>':(d+='<div class="charslot box_inlay" id="char'+a+'">',d+='<div class="clearchar clickable"></div>',d+='<div class="class" style="top: 15px; left: 29px; background: url(themes/icons/'+gSite.Iconset+"/classesbig/"+("empty"!=g.charClass[0]?gGame.Classes[g.charClass[0]].style:"empty")+'.png)">',d=g.mainChar?
d+'<div class="badge mainchar" style="top: -15px; left: -28px;"></div>':d+'<div class="badge twink" style="top: -15px; left: -28px;"></div>',d+="</div>",0===g.id?(d+='<div class="newname_label" style="top: 24px">'+L("CharName")+"</div>",d+='<input type="text" style="top: 24px" class="newname" value="'+g.name+'"/>'):d+='<div class="name" style="top: 24px">'+g.name+"</div>",d+='<div class="role_group"></div>',d+="</div>",++a)}d=a==this.mCharacters.length?d+'<div class="newchar clickable box_inlay"></div>':
d+('<div class="nextgroup clickable box_inlay" id="next'+(b+1)+'"></div>');return{HTMLString:d,charIdx:a}};this.rebuildSlots=function(){var a="",b=$("#charlist > .charGroup:visible"),b=0===b.length?0:parseInt(b.attr("id").substr(3),10),c=0;if(0===this.mCharacters.length)a+='<div id="grp0" class="charGroup"><div class="newchar clickable box_inlay"></div>',a+="</div>";else for(var d=0;c<this.mCharacters.length;++d)c=this.generateSlots(c,d,6),a+='<div id="grp'+d+'" class="charGroup">',a+=c.HTMLString,
a+="</div>",c=c.charIdx;$("#charlist").empty().append(a);var f=$("#charlist > .charGroup"),g=this,b=Math.min(b,f.length-1);f.hide();f.eq(b).show();f.each(function(){$(this).children(".newchar").click(function(a){g.addNewCharacter();g.rebuildSlots();a.stopPropagation();onUIDataChange()});$(this).children(".nextgroup").click(function(a){var b=parseInt($(this).attr("id").substr(4),10);f.hide();f.eq(b).show();hideTooltip();a.stopPropagation()});$(this).children(".charslot").each(function(){var a=this,
b=parseInt($(this).attr("id").substr(4),10),c=g.mCharacters[b],d=0===c.id;$(".class:first > .badge:first",this).click(function(a){g.toggleMainChar(b);$(".charslot > .class > .badge",f).removeClass("mainchar twink").addClass("twink");$(this).removeClass("mainchar twink").addClass("mainchar");a.stopPropagation();onUIDataChange()});var q=function(){var b="";if("empty"==c.charClass[0])b+='<div class="single" style="background-image: url(lib/layout/images/slot_wait.png)"></div>';else{var d=gGame.Classes[c.charClass[0]],
f=d.roles.length;"multi"==gGame.ClassMode?b+='<div class="single" style="background-image: url(lib/layout/images/'+gGame.Roles[d.defaultRole].style+'_rnd.png)"></div>':1==f?b+='<div class="single" style="background-image: url(lib/layout/images/'+gGame.Roles[c.role1].style+'_rnd.png)"></div>':(b+='<div class="primary clickable" style="background-image: url(lib/layout/images/'+gGame.Roles[c.role1].style+'_rnd.png)"></div>',b+='<div class="secondary clickable" style="background-image: url(lib/layout/images/'+
gGame.Roles[c.role2].style+'_rnd.png)"></div>')}$(".role_group",a).empty().append(b);$(".primary",a).click(function(a){if(!$(this).is(":animated")){a=gGame.Classes[c.charClass[0]].roles;var b=(a.indexOf(c.role1)+1)%a.length;c.role1=a[b];$(this).animate({left:-60},100,function(){$(this).css("background-image","url(lib/layout/images/"+gGame.Roles[c.role1].style+"_rnd.png)");$(this).animate({left:-5},100);onUIDataChange()})}});$(".secondary",a).click(function(a){if(!$(this).is(":animated")){a=gGame.Classes[c.charClass[0]].roles;
var b=(a.indexOf(c.role2)+1)%a.length;c.role2=a[b];$(this).animate({right:-60},100,function(){$(this).css("background-image","url(lib/layout/images/"+gGame.Roles[c.role2].style+"_rnd.png)");$(this).animate({right:-5},100);onUIDataChange()})}})};q();if(d||"multi"==gGame.ClassMode){var p=$(this).children(".class:first");p.addClass("clickable");p.click(function(a){"multi"==gGame.ClassMode?showTooltipClassListMultiSelect($(this),q):showTooltipClassList($(this),q);a.stopPropagation()})}if(d){var u=$(this).children(".newname:first"),
n=$(this).children(".newname_label:first");""!==u.val()&&(u.show(),n.hide());n.click(function(){n.hide();u.show().focus()});u.blur(function(){""===$(this).val()&&(u.hide(),n.show())});u.change(function(){g.mCharacters[b].name=$(this).val()})}$(this).children(".clearchar").click(function(){d?g.removeCharacter(b):confirm(L("ConfirmDeleteCharacter")+"<br>"+L("AttendancesRemoved"),L("DeleteCharacter"),L("Cancel"),function(){g.removeCharacter(b);onUIDataChange()})})})})}}
function setupCharacters(a){var b=$("#charlist").data("characters");$.each(a.character,function(a,d){b.addCharacter(d.id,d.name,d.classname,d.mainchar,d.role1,d.role2)});b.rebuildSlots()}
function generateUserAttendance(a){var b=a.attendance.raids,c=a.attendance.ok,d=a.attendance.available,f=a.attendance.unavailable,g=b-(c+d+f),e=720*(c/b)-10,h=720*(d/b)-10,k=720*(f/b)-10,m=720*(g/b)-10,q=[],p=[],u=0;$.each(gGame.Roles,function(b,d){var e=a.attendance.roles[b];q[b]=void 0==e?0:e;p[b]=720*(q[b]/c)-10;u+=q[b]});HTMLString='<div class="attendanceCount" style="720px">';0<c&&(HTMLString+='<span class="bar_part gradient_ok" style="width: '+e.toFixed()+'px">'+c+"</span>");0<d&&(HTMLString+=
'<span class="bar_part gradient_available" style="width: '+h.toFixed()+'px">'+d+"</span>");0<f&&(HTMLString+='<span class="bar_part gradient_unavailable" style="width: '+k.toFixed()+'px">'+f+"</span>");0<g&&(HTMLString+='<span class="bar_part gradient_missed" style="width: '+m.toFixed()+'px">'+g+"</span>");0===b&&(HTMLString+='<span class="bar_part gradient_missed" style="width: 710px">&nbsp;</span>');HTMLString+="</div>";HTMLString+='<div class="label">'+L("RaidAttendance")+"</div>";HTMLString+=
'<div class="attendanceType" style="720px">';0===u?HTMLString+='<span class="bar_part gradient_missed" style="width: 710px"><div class="count">&nbsp;</div></span>':$.each(gGame.Roles,function(a,b){0<q[a]&&(HTMLString+='<span class="bar_part gradient_'+b.style+'" style="width: '+p[a].toFixed()+'px">'+q[a]+"</span>")});HTMLString+="</div>";HTMLString+='<div class="label">'+L("RolesInRaids")+"</div>";HTMLString+='<div class="labels">';HTMLString+="<div>";HTMLString+='<div class="box gradient_ok"></div>';
HTMLString+='<div class="label">'+c+"x "+L("Attended")+"</div>";HTMLString+='<div class="box gradient_available"></div>';HTMLString+='<div class="label">'+d+"x "+L("Queued")+"</div>";HTMLString+='<div class="box gradient_unavailable"></div>';HTMLString+='<div class="label">'+f+"x "+L("Absent")+"</div>";HTMLString+='<div class="box gradient_missed"></div>';HTMLString+='<div class="label">'+g+"x "+L("Missed")+"</div>";HTMLString+="</div>";HTMLString+='<div style="clear: left; padding-top: 5px">';$.each(gGame.Roles,
function(a,b){HTMLString+="<span>";HTMLString+='<div class="box gradient_'+b.style+'"></div>';HTMLString+='<div class="label">'+q[a]+"x "+L(b.name)+"</div>";HTMLString+="</span>"});HTMLString+="</div>";HTMLString+="</div>";$("#attendance").empty().append(HTMLString)}
function showProfilePanel(a,b){$("#characters").hide();$("#profilesettings").hide();$("#tablist").removeClass("characters");$("#tablist").removeClass("settings");$("#characterstoggle").removeClass("icon_characters");$("#settingstoggle").removeClass("icon_settings");$("#characterstoggle").addClass("icon_characters_off");$("#settingstoggle").addClass("icon_settings_off");$(a).show();$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);"about"==
b||"stats"==b?$("#applyButton").hide():$("#applyButton").show()}
function generateProfile(a){if(null==a.name){var b;b='<div id="lockMessage">'+L("UserNotFound");b+="</div>";$("#body").empty().append(b)}else b='<div id="profile">'+("<h1>"+L("Profile")+"</h1>"),b+='<div id="tablist" class="tabs characters"><div style="margin-top: 16px">',b+='<div id="characterstoggle" class="tab_icon icon_characters clickable"></div>',b+='<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>',b+="</div></div>",b+='<button id="applyButton" class="apply_changes" disabled="disabled">'+
L("Apply")+"</button>",$("#body").empty().append(b),$("#profile").data("userid",a.userid),$("#profile").hide(),generateProfileCharacters(a),generateProfileSettings(a),$("#characterstoggle").click(function(){a.userid==gUser.id?changeContext("profile,characters"):changeContext("profile,characters,"+a.userid)}),$("#settingstoggle").click(function(){a.userid==gUser.id?changeContext("profile,settings"):changeContext("profile,settings,"+a.userid)}),$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerProfileUpdate(a.userid)}),
loadProfilePanel(a.show,a.userid),$("#profile").show()}
function generateProfileCharacters(a){HTMLString='<div id="characters" class="content_area">';HTMLString+="<h2>"+L("Characters")+"</h2>";HTMLString+='<div id="charlist"></div>';HTMLString+='<h2 style="margin-top: 20px; margin-bottom: 4px">'+L("RaidAttendance")+"</h2>";HTMLString+='<div id="attendance"></div>';HTMLString+="</div>";$("#profile").append(HTMLString);$("#charlist").data("characters",new CCharacterList);setupCharacters(a);generateUserAttendance(a)}
function generateProfileSettings(a){HTMLString='<div id="profilesettings" class="content_area">';var b="none"!=a.binding&&a.bindingActive,c=b?' disabled="disabled"':"",b=b?"settingLabel labeldisabled":"settingLabel";HTMLString+='<div class="settingLine"><div class="'+b+'">'+(gUser.isAdmin&&gUser.id!=a.userid?L("AdminPassword"):L("OldPassword"))+"</div>";HTMLString+='<div class="settingField"><input type="password" id="pass_old"'+c+"/></div></div>";HTMLString+='<div class="settingLine"><div class="'+
b+'">'+L("Password")+"</div>";HTMLString+='<div class="settingField"><input type="password" id="pass_new" disabled="disabled"/></div></div>';HTMLString+='<div class="settingLine"><div class="'+b+'"></div><div class="settingField">';HTMLString+='<div id="profile_strprogress"><span class="pglabel">'+L("PassStrength")+'</span><span id="strength" class="progress"></span></div>';HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="'+b+'">'+L("RepeatPassword")+"</div>";HTMLString+=
'<div class="settingField"><input type="password" id="pass_repeat" disabled="disabled"/></div></div>';HTMLString+='<div class="settingLine settingNewSection"><div class="settingLabel">'+L("AutoAttend")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<input type="checkbox" id="auto_attend" value="true"'+(void 0!=a.settings.AutoAttend?" checked":"")+"/>";HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationStart")+"</div>";HTMLString+=
'<div class="settingField">';HTMLString+='<div class="datepicker"><span class="datepicker_icon ui-icon-calendar"></span><input type="text" class="datepicker_field" id="vacation_start"/></div>';HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationEnd")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<div class="datepicker"><span class="datepicker_icon ui-icon-calendar"></span><input type="text" class="datepicker_field" id="vacation_end"/></div>';
HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel">'+L("VacationMessage")+"</div>";HTMLString+='<div class="settingField">';HTMLString+='<textarea id="vacationMessage">'+(void 0==a.settings.VacationMessage?"":a.settings.VacationMessage.text)+"</textarea>";HTMLString+="</div></div>";HTMLString+='<div class="settingLine"><div class="settingLabel"></div>';HTMLString+='<div class="settingField">';HTMLString+='<button id="vacationClear">'+L("ClearVacation")+"</button>";
HTMLString+="</div></div>";HTMLString+="</div>";$("#profile").append(HTMLString);$("#pass_old").keyup(function(){var a=0==$("#pass_old").val().length;$("#pass_new").prop("disabled",a);$("#pass_repeat").prop("disabled",a);onUIDataChange()});$("#pass_new").keyup(function(){var a=getPasswordStrength($("#pass_new").val()),b=parseInt(100*a.quality,10);$("#strength").css({"background-color":a.color,width:b+"%"})});var c=[L("Sun"),L("Mon"),L("Tue"),L("Wed"),L("Thu"),L("Fri"),L("Sat")],b=[L("January"),L("February"),
L("March"),L("April"),L("May"),L("June"),L("July"),L("August"),L("September"),L("October"),L("November"),L("December")],d=24==gSite.TimeFormat?"d. MM yy":"MM d, yy";$("#auto_attend").change(function(){onUIDataChange()});$("#vacation_start").parent().click(function(a){$("#vacation_start").focus()});$("#vacation_end").parent().click(function(a){$("#vacation_end").focus()});$("#vacationMessage").change(function(a){onUIDataChange()});$("#vacationClear").button({icons:{primary:"ui-icon-circle-close"}}).click(function(){$("#vacation_start").datepicker("setDate",
null);$("#vacation_end").datepicker("setDate",null);$("#vacationMessage").val("");onUIDataChange()});$("#vacation_start").datepicker({dayNamesShort:c,dayNamesMin:c,monthNames:b,dateFormat:d,firstDay:gSite.StartOfWeek,onClose:function(a){""!=a&&($("#vacation_end").datepicker("option","minDate",a),onUIDataChange())}});$("#vacation_end").datepicker({dayNamesShort:c,dayNamesMin:c,monthNames:b,dateFormat:d,firstDay:gSite.StartOfWeek,onClose:function(a){""!=a&&($("#vacation_start").datepicker("option",
"maxDate",a),onUIDataChange())}});void 0!=a.settings.VacationStart&&$("#vacation_start").datepicker("setDate",new Date(1E3*a.settings.VacationStart.number));void 0!=a.settings.VacationEnd&&$("#vacation_end").datepicker("setDate",new Date(1E3*a.settings.VacationEnd.number))}
function triggerProfileUpdate(a){if(null!=gUser){for(var b=$("#charlist").data("characters"),c=0;c<b.mCharacters.length;++c){var d=b.mCharacters[c];if(0===d.id){if("empty"==d.charClass[0]){notify(L("Error")+".<br>"+L("NoClass"));return}if(0===d.name.length){notify(L("Error")+".<br>"+L("NoName"));return}}}null!=$("#vacation_end").datepicker("getDate")&&null==$("#vacation_start").datepicker("getDate")?notify(L("NoStartDate")):null!=$("#vacation_start").datepicker("getDate")&&null==$("#vacation_end").datepicker("getDate")?
notify(L("NoEndDate")):0<$("#pass_old").val().length?""===$("#pass_new").val()?notify(L("EnterNonEmptyPassword")):$("#pass_new").val()!=$("#pass_repeat").val()?notify(L("PasswordsNotMatch")):asyncQuery("query_credentials_id",{UserId:gUser.id},triggerHashPassword):triggerProfileUpdateData(a,"")}}
function updateNewPasswordProgress(a){if(100==a)$("#profile_hashing").remove();else{if(0===$("#profile_hashing").length){var b=$("#applyButton").width()+16;$("#applyButton").before('<div id="profile_hashing" style="right: '+b+'px"><span class="pglabel">'+L("HashingInProgress")+'</span><span id="hashprogress" class="progress"></span></div>')}$("#hashprogress").css("width",a+"%")}}
function triggerHashPassword(a){var b=a.salt,c=a.pubkey;a=a.method;var d=$("#pass_old").val();hash(c,a,d,b,updateNewPasswordProgress,function(a){triggerProfileUpdateData($("#profile").data("userid"),a)})}
function triggerProfileUpdateData(a,b){for(var c=[],d=[],f=[],g=[],e=[],h=[],k=$("#charlist").data("characters"),m=0;m<k.mCharacters.length;++m){var q=k.mCharacters[m];c.push(q.id);f.push(q.charClass);g.push(q.mainChar);e.push(q.role1);h.push(q.role2);0===q.id?d.push(q.name):d.push("")}k=window.location.hash.substring(window.location.hash.indexOf(",")+1);m=$("#vacation_start").datepicker("getDate");q=$("#vacation_end").datepicker("getDate");null!=q&&(q.setHours(23),q.setMinutes(59));c={userId:a,charId:c,
name:d,charClass:f,mainChar:g,role1:e,role2:h,showPanel:k,autoAttend:$("#auto_attend").prop("checked"),vacationStart:null==m?null:m.getTime()/1E3,vacationEnd:null==q?null:q.getTime()/1E3,vacationMessage:""==$("#vacationMessage")?null:$("#vacationMessage").val(),oldPass:b,newPass:$("#pass_new").val()};onAppliedUIDataChange();asyncQuery("profile_update",c,function(a){reloadUser();generateProfile(a)})}
function loadProfile(a,b){reloadUser();null!=gUser&&($("#body").empty(),asyncQuery("query_profile",{userId:b,showPanel:a},generateProfile))}function loadProfilePanel(a,b){if(null!=gUser){var c=0==b?gUser.id:b;if(0===$("#profile").length||$("#profile").data("userid")!=c)loadProfile(a,b);else switch(a){default:case "characters":showProfilePanel("#characters","characters");break;case "settings":showProfilePanel("#profilesettings","settings")}}}
function CGroup(a){this.mUsers=[];this.mName=a;$("#"+a).data("helper",this);this.addUser=function(a,c,d,f,g){this.mUsers.push({id:a,login:c,binding:f,bindingActive:d,changedLinkage:!1,locked:g&&d&&"none"!=f})};this.addUserObject=function(a){this.mUsers.push(a)};this.removeUser=function(a){var c=this.mUsers[a];this.mUsers.splice(a,1);return c};this.removeUserById=function(a){for(var c=0;c<this.mUsers.length;++c){var d=this.mUsers[c];if(d.id==a)return this.mUsers.splice(c,1),d}return null};this.unlinkUser=
function(a){for(var c=0;c<this.mUsers.length;++c){var d=this.mUsers[c];if(d.id==a){d.bindingActive=!1;d.changedLinkage=!0;d.locked=!1;break}}};this.getUserIdArray=function(){for(var a=[],c=0;c<this.mUsers.length;++c)a.push(this.mUsers[c].id);return a};this.getUserIdxById=function(a){for(var c=0;c<this.mUsers.length;++c)if(this.mUsers[c].id==a)return c;return-1};this.updateLinkageArrays=function(a,c){for(var d=0;d<this.mUsers.length;++d)this.mUsers[d].changedLinkage&&(this.mUsers[d].bindingActive?
c.push(this.mUsers[d].id):a.push(this.mUsers[d].id))};this.refreshList=function(){for(var a="",c=0;c<this.mUsers.length;++c){var d=this.mUsers[c].binding,f=this.mUsers[c].bindingActive?"binding_active":"binding",g=this.mUsers[c].id==gUser.id,e=this.mUsers[c].locked,a=a+('<div class="user" id="'+this.mUsers[c].id+'">'),a=g?a+'<span class="userFunction"></span>':a+'<span class="userFunction functionDelete clickable"></span>',a=a+'<span class="userFunction functionEdit clickable"></span>';g?(a+='<div index="'+
c+'">',a+='<div style="background-image: url(lib/layout/images/icon_'+(this.mUsers[c].bindingActive?"exuser":"user")+'.png)" class="userImage">',a+='<div class="overlayLocked"></div>',a+="</div>"):e?(a+='<div class="userLinked" index="'+c+'">',a+='<div style="background-image: url(lib/layout/images/icon_exuser.png)" class="userImage">',a+='<div class="overlayLocked"></div>',a+="</div>"):(a+='<div class="userDrag" index="'+c+'">',a+='<div style="background-image: url(lib/layout/images/icon_user.png)" class="userImage"></div>');
"none"==d?(a+='<div class="userNameLocal">',a+='<span style="font-weight: bold">'+this.mUsers[c].login+"</span>"):(a+='<div class="userName">',a+='<span style="font-weight: bold">'+this.mUsers[c].login+"</span><br/>",a+='<span class="'+f+'">'+d+"</span>");a+="</div>";a+="</div>";a+="</div>"}c=$("#"+this.mName);c.empty().append(a);a=$(".user > .userDrag",c);c=$(".user > .userLinked",c);a.data("handle",this.mName);a.addClass("clickable");c.addClass("clickable");$(".functionDelete").click(function(){var a=
$(this).parent().attr("id"),b=$(this).parent().parent().data("helper");confirm(L("ConfirmDeleteUser"),L("DeleteUser"),L("Cancel"),function(){var c=b.removeUserById(a);b.refreshList();onUIDataChange();$("#groups").data("helper").addUserObject(c)})});$(".functionEdit").click(function(){var a=$(this).parent().attr("id");changeContext("profile,characters,"+a)});a.draggable({revert:"invalid",revertDuration:200,opacity:0.5,helper:"clone",stop:refreshSource}).each(function(){makeTouchable($(this))});a.click(function(a){showUserTooltip($(this).parent(),
!0);a.stopPropagation()});c.click(function(a){showUnlinkTooltip($(this).parent(),!0);a.stopPropagation()});$(".groupSlot").droppable({disabled:!1,hoverClass:"groupTarget",drop:onUserDrop,addClasses:!1})}}function refreshSource(a,b){var c=$(this).data("handle");$("#"+c).data("helper").refreshList()}
function onUserDrop(a,b){var c=b.draggable.attr("index"),d=b.draggable.data("handle"),f=$("#"+d).data("helper"),d=$(a.target).children(".content").data("helper");f!=d&&(c=f.removeUser(c),d.addUserObject(c),d.refreshList(),onUIDataChange())}
function onLinkUserReturn(a){var b=a.userid,c=a.binding,d="groupBanned";switch(a.group){case "member":d="groupMember";break;case "raidlead":d="groupRaidlead";break;case "admin":d="groupAdmin"}var f=$("#"+b).parent().data("helper");if(null!=f){var d=$("#"+d).data("helper"),b=f.getUserIdxById(parseInt(b,10)),g=f.mUsers[b];g.bindingActive=!0;g.changedLinkage=!0;g.binding=c;g.locked=a.syncActive;f!=d&&(f.removeUser(b),d.addUserObject(g),d.refreshList());f.refreshList();onUIDataChange()}else notify(L("SyncFailed"));
hideTooltip()}function moveUserToGroup(a,b){if("groupSync"==b)linkUser(a);else{var c=$("#"+a).parent().data("helper"),d=$("#"+b).data("helper");if(c!=d){var f=c.removeUserById(a);d.addUserObject(f);c.refreshList();d.refreshList();onUIDataChange()}}}function unlinkUser(a){var b=$("#"+a).parent().data("helper");b.unlinkUser(a);b.refreshList();onUIDataChange()}function linkUser(a){asyncQuery("user_link",{userId:a},onLinkUserReturn)}
function calculateShortTime(a){a={time:a,metric:0};0<Math.abs(a.time/60)&&0===a.time%60&&(a.time/=60,++a.metric,0<Math.abs(a.time/60)&&0===a.time%60&&(a.time/=60,++a.metric,0<Math.abs(a.time/24)&&0===a.time%24&&(a.time/=24,++a.metric,0<Math.abs(a.time/7)&&0===a.time%7&&(a.time/=7,++a.metric,Math.abs(0<a.time/4)&&0===a.time%4&&(a.time/=4,++a.metric)))));return a}
function calculateUnixTime(a,b){switch(b){case 1:return 60*a;case 2:return 3600*a;case 3:return 86400*a;case 4:return 604800*a;case 5:return 2419200*a}return a}function deleteLocation(a){confirm(L("ConfirmDeleteLocation")+"<br>"+L("NoteDeleteRaidsToo"),L("DeleteLocationRaids"),L("Cancel"),function(){var b=$(a).attr("id"),b=parseInt(b.substring(9,b.length),10);$("#locationsettings").data("removed").push(b);$(a).detach();onUIDataChange()})}
function showPanel(a,b){$("#groups").hide();$("#locationsettings").hide();$("#raidsettings").hide();$("#statistics").hide();$("#about").hide();$("#tablist").removeClass("users");$("#tablist").removeClass("locations");$("#tablist").removeClass("settings");$("#tablist").removeClass("stats");$("#tablist").removeClass("about");$("#userstoggle").removeClass("icon_users");$("#locationstoggle").removeClass("icon_locations");$("#settingstoggle").removeClass("icon_settings");$("#statstoggle").removeClass("icon_stats");
$("#abouttoggle").removeClass("icon_about");$("#userstoggle").addClass("icon_users_off");$("#locationstoggle").addClass("icon_locations_off");$("#settingstoggle").addClass("icon_settings_off");$("#statstoggle").addClass("icon_stats_off");$("#abouttoggle").addClass("icon_about_off");$(a).show();$("#tablist").addClass(b);$("#"+b+"toggle").removeClass("icon_"+b+"_off");$("#"+b+"toggle").addClass("icon_"+b);"about"==b||"stats"==b?$("#applyButton").hide():$("#applyButton").show()}
function generateSettingsUsers(a){var b;b='<div id="groups" class="content_area"><span class="groupSlot box_inlay">'+('<div class="head">'+L("Locked")+"</div>");b+='<div id="groupBanned" class="content">';b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay">';b+='<div class="head">'+L("Members")+"</div>";b+='<div id="groupMember" class="content">';b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay">';b+='<div class="head">'+L("Raidleads")+"</div>";b+='<div id="groupRaidlead" class="content">';
b+="</div>";b+="</span>";b+='<span class="groupSlot box_inlay" style="margin-right: 0px">';b+='<div class="head">'+L("Administrators")+"</div>";b+='<div id="groupAdmin" class="content">';b+="</div>";b+="</span>";b+="</div>";$("#settings").append(b);var c=new CGroup("groupBanned"),d=new CGroup("groupMember"),f=new CGroup("groupRaidlead"),g=new CGroup("groupAdmin");new CGroup("groups");var e=a.syncActive;$.each(a.user,function(a,b){var m=null;switch(b.group){case "none":m=c;break;case "member":m=d;
break;case "raidlead":m=f;break;case "admin":m=g}null!=m&&m.addUser(b.id,b.login,b.bindingActive,b.binding,e)});c.refreshList();d.refreshList();f.refreshList();g.refreshList();$("#groups").hide()}
function generateSettingsLocation(a){var b='<div id="locationsettings" class="content_area">',b=b+'<div class="imagelist" id="locationimagelist">',c=0;$.each(a.locationimage,function(a,f){0===(c+1)%11&&(b+="<br/>",++c);b+='<img class="clickable" src="themes/icons/'+gSite.Iconset+"/raidsmall/"+f+'" onclick="applyLocationImageExternal(this, true)" style="width: 32px; height: 32px; margin-right: 5px;"/>';++c});b+="</div>";b+="</div>";$("#settings").append(b);$.each(a.location,function(a,c){var g=c.id,
e=c.image;b='<div class="location" id="location_'+g+'">';b+='<span class="imagepicker locationimg clickable" style="background-image: url(themes/icons/'+gSite.Iconset+"/raidsmall/"+e+')"></span>';b+='<input class="locationname" type="text" value="'+c.name+'"/>';b+='<div class="deletecmd clickable" onclick="deleteLocation($(this).parent())"></div>';b+="</div>";$("#locationsettings").append(b);$("#location_"+g+" > .locationimg:first").data("selectedImage",e)});$("#locationsettings .imagepicker").click(function(a){$("#locationimagelist").data("external",
$(this));showTooltipRaidImageListAtElement($(this));a.stopPropagation()});$("#locationsettings").data("removed",[]);$(".locationname").change(onUIDataChange);$("#locationimagelist").hide();$("#locationsettings").hide()}
function generateSettingsRaid(a){var b=0,c=0,d=0,f=0,g=[];g.RaidStartHour={text:"",number:19};g.RaidStartMinute={text:"",number:30};g.RaidEndHour={text:"",number:23};g.RaidEndMinute={text:"",number:0};g.RaidSize={text:"",number:10};g.Theme={text:"default",number:0};g.Site={text:"",number:0};g.HelpPage={text:"",number:0};g.TimeFormat={text:"",number:0};g.GameConfig={text:"wow",number:0};$.each(a.setting,function(a,e){var h=e.name;if("PurgeRaids"==h){var k=calculateShortTime(e.intValue);b=k.time;c=
k.metric}else"LockRaids"==h&&(k=calculateShortTime(e.intValue),d=k.time,f=k.metric);g[h]={text:e.textValue,number:e.intValue}});for(var e='<div id="raidsettings" class="content_area">',e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("DeleteRaids")+"</div>"),e=e+'<div class="settingField"><input class="timeField" type="text" id="purgeTime" value=""/>',e=e+'<select class="metricField" id="purgeMetric">',e=e+("<option"+(0===c?" selected":"")+">"+L("Seconds")+"</option>"),e=e+("<option"+
(1==c?" selected":"")+">"+L("Minutes")+"</option>"),e=e+("<option"+(2==c?" selected":"")+">"+L("Hours")+"</option>"),e=e+("<option"+(3==c?" selected":"")+">"+L("Days")+"</option>"),e=e+("<option"+(4==c?" selected":"")+">"+L("Weeks")+"</option>"),e=e+("<option"+(5==c?" selected":"")+">"+L("Month")+"</option>"),e=e+"</select>",e=e+('<span class="propLabel2">'+L("AfterDone")+"</span>"),e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("LockRaids")+"</div>"),e=e+'<div class="settingField"><input class="timeField" type="text" id="lockTime" value=""/>',
e=e+'<select class="metricField" id="lockMetric">',e=e+("<option"+(0===f?" selected":"")+">"+L("Seconds")+"</option>"),e=e+("<option"+(1==f?" selected":"")+">"+L("Minutes")+"</option>"),e=e+("<option"+(2==f?" selected":"")+">"+L("Hours")+"</option>"),e=e+("<option"+(3==f?" selected":"")+">"+L("Days")+"</option>"),e=e+("<option"+(4==f?" selected":"")+">"+L("Weeks")+"</option>"),e=e+("<option"+(5==f?" selected":"")+">"+L("Month")+"</option>"),e=e+"</select>",e=e+('<span class="propLabel2">'+L("BeforeStart")+
"</span>"),e=e+"</div></div>",e=e+'<div class="settingLine settingNewSection">',e=e+('<div class="settingLabel">'+L("TimeFormat")+"</div>"),e=e+('<div class="settingField"><select id="timeFormat" style="width: '+(24==gSite.TimeFormat?48:64)+'px">'),e=e+('<option value="12"'+(12==g.TimeFormat.number?" selected":"")+">12h</option>"),e=e+('<option value="24"'+(24==g.TimeFormat.number?" selected":"")+">24h</option>"),e=e+"</select>",e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+
L("StartOfWeek")+"</div>"),e=e+'<div class="settingField"><select id="startOfWeek" style="width: 160px">',e=e+('<option value="0"'+(0===g.StartOfWeek.number?" selected":"")+">"+L("Sunday")+"</option>"),e=e+('<option value="1"'+(1==g.StartOfWeek.number?" selected":"")+">"+L("Monday")+"</option>"),e=e+('<option value="2"'+(2==g.StartOfWeek.number?" selected":"")+">"+L("Tuesday")+"</option>"),e=e+('<option value="3"'+(3==g.StartOfWeek.number?" selected":"")+">"+L("Wednesday")+"</option>"),e=e+('<option value="4"'+
(4==g.StartOfWeek.number?" selected":"")+">"+L("Thursday")+"</option>"),e=e+('<option value="5"'+(5==g.StartOfWeek.number?" selected":"")+">"+L("Friday")+"</option>"),e=e+('<option value="6"'+(6==g.StartOfWeek.number?" selected":"")+">"+L("Saturday")+"</option>"),e=e+"</select>",e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("DefaultStartTime")+"</div>"),e=e+('<div class="settingField"><select id="starthour" style="width: '+(24==gSite.TimeFormat?48:64)+'px">'),
h=4;0<=h;--h)e+='<option value="'+h+'"'+(g.RaidStartHour.number==h?" selected":"")+">"+formatHourPrefixed(h)+"</option>";for(h=23;4<h;--h)e+='<option value="'+h+'"'+(g.RaidStartHour.number==h?" selected":"")+">"+formatHourPrefixed(h)+"</option>";e+="</select><span>&nbsp;:&nbsp;</span>";e+='<select id="startminute" style="width: 48px">';e+='<option value="0"'+(0===g.RaidStartMinute.number?" selected":"")+">00</option>";e+='<option value="15"'+(15==g.RaidStartMinute.number?" selected":"")+">15</option>";
e+='<option value="30"'+(30==g.RaidStartMinute.number?" selected":"")+">30</option>";e+='<option value="45"'+(45==g.RaidStartMinute.number?" selected":"")+">45</option>";e+="</select>";e+="</div></div>";e+='<div class="settingLine">';e+='<div class="settingLabel">'+L("DefaultEndTime")+"</div>";e+='<div class="settingField"><select id="endhour" style="width: '+(24==gSite.TimeFormat?48:64)+'px">';for(h=4;0<=h;--h)e+='<option value="'+h+'"'+(g.RaidEndHour.number==h?" selected":"")+">"+formatHourPrefixed(h)+
"</option>";for(h=23;4<h;--h)e+='<option value="'+h+'"'+(g.RaidEndHour.number==h?" selected":"")+">"+formatHourPrefixed(h)+"</option>";var e=e+"</select><span>&nbsp;:&nbsp;</span>",e=e+'<select id="endminute" style="width: 48px">',e=e+('<option value="0"'+(0===g.RaidEndMinute.number?" selected":"")+">00</option>"),e=e+('<option value="15"'+(15==g.RaidEndMinute.number?" selected":"")+">15</option>"),e=e+('<option value="30"'+(30==g.RaidEndMinute.number?" selected":"")+">30</option>"),e=e+('<option value="45"'+
(45==g.RaidEndMinute.number?" selected":"")+">45</option>"),e=e+"</select>",e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("DefaultRaidSize")+"</div>"),e=e+'<div class="settingField" id="size_select">',e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("DefaultRaidMode")+"</div>"),e=e+'<div class="settingField"><select id="raidmode" style="width: 160px">',e=e+('<option value="manual"'+("manual"==g.RaidMode.text?" selected":
"")+">"+L("RaidModeManual")+"</option>"),e=e+('<option value="overbook"'+("overbook"==g.RaidMode.text?" selected":"")+">"+L("RaidModeOverbook")+"</option>"),e=e+('<option value="attend"'+("attend"==g.RaidMode.text?" selected":"")+">"+L("RaidModeAttend")+"</option>"),e=e+('<option value="all"'+("all"==g.RaidMode.text?" selected":"")+">"+L("RaidModeAll")+"</option>"),e=e+('<option value="optout"'+("optout"==g.RaidMode.text?" selected":"")+">"+L("RaidModeOptOut")+"</option>"),e=e+"</select>",e=e+"</div></div>",
e=e+'<div class="settingLine settingNewSection">',e=e+('<div class="settingLabel">'+L("Game")+"</div>"),e=e+'<div class="settingField"><select id="game" style="width: 160px">',k=a.game.length-1,m="wow";$.each(a.game,function(a,b){var c=b.name,d=b.file,f=b.family,h=g.GameConfig.text==d;h&&(k=a,m=f);e+='<option family="'+f+'" value="'+d+'"'+(h?" selected":"")+">"+c+"</option>"});var e=e+"</select>",e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("Theme")+"</div>"),
e=e+'<div class="settingField" id="theme_select">',e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("BannerPage")+"</div>"),e=e+('<div class="settingField"><input type="text" id="site" style="width: 155px" value="'+g.Site.text+'"/>'),e=e+"</div></div>",e=e+'<div class="settingLine">',e=e+('<div class="settingLabel">'+L("HelpPage")+"</div>"),e=e+('<div class="settingField"><input type="text" id="helpPage" style="width: 155px" value="'+g.HelpPage.text+'"/>'),e=
e+"</div></div>",e=e+'<div class="settingLine settingNewSection">',e=e+('<div class="settingLabel">'+L("ApiPrivate")+"</div>"),e=e+('<div class="settingField"><input type="text" style="width: 155px" value="'+g.ApiPrivate.text+'" disabled="disabled"/>'),e=e+"</div></div>",e=e+"</div>",q=function(b,c){var d=$("#size_select"),e='<select id="raidsize" style="width: '+(24==gSite.TimeFormat?48:64)+'px">',f=$("#raidsize option:selected").val(),h=void 0==f?g.RaidSize.number:parseInt(f,10),k=0,m=h;$.each(a.game[b].groups,
function(a,b){var c=Math.abs(b-h);c<m&&(m=c,k=a);e+='<option value="'+b+'">'+b+"</option>"});e+="</select>";d.empty().append(e);$("#raidsize option").eq(k).prop("selected",!0);$("#raidsize").combobox();d=$("#theme_select");e='<select id="theme" style="width: 160px">';$.each(a.theme,function(a,b){if(-1<b.family.indexOf(c)){var d=b.file;e+='<option value="'+d+'"'+(g.Theme.text==d?" selected":"")+">"+b.name+"</option>"}});e+="</select>";d.empty().append(e);$("#theme").combobox();$("#theme").change(onUIDataChange)};
$("#settings").append(e);$("#purgeTime").val(b);$("#lockTime").val(d);$("#purgeMetric").combobox();$("#lockMetric").combobox();$("#timeFormat").combobox();$("#startOfWeek").combobox();$("#starthour").combobox();$("#startminute").combobox();$("#endhour").combobox();$("#endminute").combobox();$("#raidsize").combobox();$("#raidmode").combobox();$("#game").combobox();$("#raidsettings input").change(onUIDataChange);$("#raidsettings select").change(onUIDataChange);$("#game").change(function(){var a=$("option:selected",
this).attr("family"),b=$("option:selected",this).index();q(b,a)});q(k,m);$("#raidsettings").hide()}
function generateSettingsStats(a){var b='<div id="statistics" class="content_area">',b=b+'<div class="labels">',b=b+'<div class="box gradient_ok"></div>',b=b+('<div class="label">'+L("Attended")+"</div>"),b=b+'<div class="box gradient_available"></div>',b=b+('<div class="label">'+L("Queued")+"</div>"),b=b+'<div class="box gradient_unavailable"></div>',b=b+('<div class="label">'+L("Absent")+"</div>"),b=b+'<div class="box gradient_missed"></div>',b=b+('<div class="label">'+L("Missed")+"</div>"),b=b+
"</div>",b=b+'<div style="clear: left; padding-top: 15px">';$.each(a.attendance,function(a,d){b+='<div style="clear: left">';b+='<div class="name">'+d.name+"</div>";b+='<div class="bar"></span>';var f=parseInt(d.ok),g=parseInt(d.available),e=parseInt(d.unavailable),h=parseInt(d.undecided),k=f+g+e+h,m=740*(g/k)-10,q=740*(e/k)-10,p=740*(h/k)-10;0<f&&(b+='<span class="bar_part gradient_ok" style="width: '+(740*(f/k)-10).toFixed()+'px">'+f+"</span>");0<g&&(b+='<span class="bar_part gradient_available" style="width: '+
m.toFixed()+'px">'+g+"</span>");0<e&&(b+='<span class="bar_part gradient_unavailable" style="width: '+q.toFixed()+'px">'+e+"</span>");0<h&&(b+='<span class="bar_part gradient_missed" style="width: '+p.toFixed()+'px">'+h+"</span>");0===k&&(b+='<span class="bar_part gradient_missed" style="width: 740px">&nbsp;</span>');b+="</div></div>"});b+="</div>";b+="</div>";$("#settings").append(b);$("#statistics").hide()}
function generateSettingsAbout(a){a='<div id="about" class="content_area">';var b=parseInt(Math.round(10*(gSite.Version-parseInt(gSite.Version)))),b=0===b?"":String.fromCharCode(97+(b-1));a=a+'<div class="version">'+("Version "+parseInt(gSite.Version/100,10)+"."+parseInt(gSite.Version%100/10,10)+"."+parseInt(gSite.Version%10,10)+b+"<br/>");a+='<button id="update_check" style="margin-top: 15px">'+L("UpdateCheck")+"</button>";a+="</div>";$("#settings").append(a);$("#update_check").button({icons:{secondary:"ui-icon-arrowreturnthick-1-n"}}).click(function(){triggerUpdateCheck()})}
function generateSettings(a){var b;b='<div id="settings">'+("<h1>"+L("Settings")+"</h1>");b+='<div id="tablist" class="tabs users"><div style="margin-top: 16px">';b+='<div id="userstoggle" class="tab_icon icon_users clickable"></div>';b+='<div id="locationstoggle" class="tab_icon icon_locations_off clickable"></div>';b+='<div id="settingstoggle" class="tab_icon icon_settings_off clickable"></div>';b+='<div id="statstoggle" class="tab_icon icon_stats_off clickable"></div>';b+='<div id="abouttoggle" class="tab_icon icon_about_off clickable"></div>';
b+="</div></div>";b+='<button id="applyButton" class="apply_changes" disabled="disabled">'+L("Apply")+"</button>";$("#body").empty().append(b);$("#settings").hide();generateSettingsUsers(a);generateSettingsLocation(a);generateSettingsRaid(a);generateSettingsStats(a);generateSettingsAbout(a);$("#applyButton").button({icons:{secondary:"ui-icon-disk"}}).click(function(){triggerSettingsUpdate()});$("#userstoggle").click(function(){changeContext("settings,users")});$("#locationstoggle").click(function(){changeContext("settings,location")});
$("#settingstoggle").click(function(){changeContext("settings,general")});$("#statstoggle").click(function(){changeContext("settings,stats")});$("#abouttoggle").click(function(){changeContext("settings,about")});loadSettingsPanel(a.show);$("#settings").show()}
function triggerSettingsUpdate(){if(null!=gUser&&gUser.isAdmin){var a=$("#groupBanned").data("helper"),b=$("#groupMember").data("helper"),c=$("#groupRaidlead").data("helper"),d=$("#groupAdmin").data("helper"),f=$("#groups").data("helper"),g=a.getUserIdArray(),e=b.getUserIdArray(),h=c.getUserIdArray(),k=d.getUserIdArray(),f=f.getUserIdArray(),m=[],q=[];a.updateLinkageArrays(m,q);b.updateLinkageArrays(m,q);c.updateLinkageArrays(m,q);d.updateLinkageArrays(m,q);var a=calculateUnixTime($("#purgeTime").val(),
$("#purgeMetric")[0].selectedIndex),b=calculateUnixTime($("#lockTime").val(),$("#lockMetric")[0].selectedIndex),p=[],u=[],n=[];$("#locationsettings").children(".location").each(function(){var a=$(this).attr("id"),a=parseInt(a.substring(9,a.length),10);p.push(a);u.push($(this).children(".locationname").val());n.push($(this).children(".imagepicker").data("selectedImage"))});var c=window.location.hash.substring(1,window.location.hash.length),d=c.lastIndexOf(","),v={banned:g,member:e,raidlead:h,admin:k,
removed:f,unlinked:m,relinked:q,locationIds:p,locationNames:u,locationImages:n,locationRemoved:$("#locationsettings").data("removed"),purgeTime:a,lockTime:b,timeFormat:$("#timeFormat").val(),startOfWeek:$("#startOfWeek").val(),raidStartHour:$("#starthour").val(),raidStartMinute:$("#startminute").val(),raidEndHour:$("#endhour").val(),raidEndMinute:$("#endminute").val(),raidSize:$("#raidsize").val(),raidMode:$("#raidmode").val(),site:$("#site").val(),helpPage:$("#helpPage").val(),theme:$("#theme").val(),
game:$("#game").val(),showPanel:c.substr(d+1)};onAppliedUIDataChange();asyncQuery("settings_update",v,function(){reloadConfig();loadSettings(v.showPanel)})}}
function onUpdateCheckReturn(a){$("#update_message").detach();$("#ajaxblocker").clearQueue().hide();gSite.Version<a.version?($("#about .version").css("color","#AA0000"),$("#update_check").before('<div id="update_message"><a href="http://code.google.com/p/ppx-raidplaner/downloads/list" style="font-size: 12px">'+L("VisitProjectPage")+"</a><br/><div>"),void 0==a.hotfix&&(a.hotfix=""),notify(L("NewVersionAvailable")+'<br/><span style="font-size: 26px">'+a.major+"."+a.minor+"."+a.patch+a.hotfix+"</span>")):
($("#about .version").css("color","#00AA00"),$("#update_check").before('<div id="update_message"><span style="font-size: 12px; color: #666">'+L("UpToDate")+"</span><br/></div>"),notify(L("UpToDate")))}function triggerUpdateCheck(){$.ajax({type:"GET",url:"http://www.packedpixel.de/raidplaner_version.php",dataType:"json",async:!0,data:{},success:onUpdateCheckReturn,crossDomain:!0})}
function loadSettings(a){reloadUser();null!=gUser&&gUser.isAdmin&&($("#body").empty(),asyncQuery("query_settings",{showPanel:a},generateSettings))}
function loadSettingsPanel(a){if(0===$("#settings").length)loadSettings(a);else switch(a){default:case "users":showPanel("#groups","users");break;case "location":showPanel("#locationsettings","locations");break;case "general":showPanel("#raidsettings","settings");break;case "stats":showPanel("#statistics","stats");break;case "about":showPanel("#about","about")}};
